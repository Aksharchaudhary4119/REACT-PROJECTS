"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[35272],{85168:function(a,b,c){c.d(b,{BU:function(){return bS},CX:function(){return bx},F3:function(){return aw},GQ:function(){return bg},PK:function(){return bL},UE:function(){return bF},"_7":function(){return t},b_:function(){return bI},mH:function(){return bK},ui:function(){return bi},vt:function(){return bd}});var d=c(39231),e=c.n(d),f=c(15254),g=c.n(f),h=c(16474),i=c.n(h),j=c(83249),k=c(93860),l=c(71115),m=c(72459),n=c(21475),o=c(21311);function p(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function q(a){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function r(a,b,c){var d,e;return(b=(e=function(a,b){if("object"!==q(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!==q(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(d=b,"string"),"symbol"===q(e)?e:String(e)))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var s=(0,j.createContext)(null),t=()=>{var a=(0,j.useContext)(s);if(!a)throw Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return a},u=parseInt(j.version.split(".")[0],10),v="undefined"!=typeof navigator&&"undefined"!=typeof window&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,w="undefined"!=typeof navigator&&/Mac OS X/.test(navigator.userAgent),x="undefined"!=typeof navigator&&/Android/.test(navigator.userAgent),y="undefined"!=typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),z="undefined"!=typeof navigator&&/AppleWebKit(?!.*Chrome)/i.test(navigator.userAgent),A="undefined"!=typeof navigator&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),B="undefined"!=typeof navigator&&/Chrome/i.test(navigator.userAgent),C="undefined"!=typeof navigator&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),D=x&&"undefined"!=typeof navigator&&/Chrome?\/(?:[0-5]?\d)(?:\.)/i.test(navigator.userAgent),E="undefined"!=typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),F="undefined"!=typeof navigator&&/.*UCBrowser/.test(navigator.userAgent),G="undefined"!=typeof navigator&&/.*Wechat/.test(navigator.userAgent)&&!/.*MacWechat/.test(navigator.userAgent),H=!!("undefined"!=typeof window&& void 0!==window.document&& void 0!==window.document.createElement),I=(!C||!D)&&!A&&"undefined"!=typeof globalThis&&globalThis.InputEvent&&"function"==typeof globalThis.InputEvent.prototype.getTargetRanges,J=new WeakMap,K=new WeakMap,L=new WeakMap,M=new WeakMap,N=new WeakMap,O=new WeakMap,P=new WeakMap,Q=new WeakMap,R=new WeakMap,S=new WeakMap,T=new WeakMap,U=new WeakMap,V=new WeakMap,W=new WeakMap,X=new WeakMap,Y=new WeakMap,Z=new WeakMap,$=new WeakMap,_=new WeakMap,aa=new WeakMap,ab=new WeakMap,ac=Symbol("placeholder"),ad=Symbol("mark-placeholder"),ae=globalThis.Text,af=a=>a&&a.ownerDocument&&a.ownerDocument.defaultView||null,ag=a=>ai(a)&&8===a.nodeType,ah=a=>ai(a)&&1===a.nodeType,ai=a=>{var b=af(a);return!!b&&a instanceof b.Node},aj=a=>{var b=a&&a.anchorNode&&af(a.anchorNode);return!!b&&a instanceof b.Selection},ak=a=>ai(a)&&3===a.nodeType,al=a=>a.clipboardData&&""!==a.clipboardData.getData("text/plain")&&1===a.clipboardData.types.length,am=a=>{var[b,c]=a;if(ah(b)&&b.childNodes.length){var d=c===b.childNodes.length,e=d?c-1:c;for([b,e]=ao(b,e,d?"backward":"forward"),d=e<c;ah(b)&&b.childNodes.length;){var f=d?b.childNodes.length-1:0;b=ap(b,f,d?"backward":"forward")}c=d&&null!=b.textContent?b.textContent.length:0}return[b,c]},an=a=>{for(var b=a&&a.parentNode;b;){if("[object ShadowRoot]"===b.toString())return!0;b=b.parentNode}return!1},ao=(a,b,c)=>{for(var{childNodes:d}=a,e=d[b],f=b,g=!1,h=!1;(ag(e)||ah(e)&&0===e.childNodes.length||ah(e)&&"false"===e.getAttribute("contenteditable"))&&(!g||!h);){if(f>=d.length){g=!0,f=b-1,c="backward";continue}if(f<0){h=!0,f=b+1,c="forward";continue}e=d[f],b=f,f+="forward"===c?1:-1}return[e,b]},ap=(a,b,c)=>{var[d]=ao(a,b,c);return d},aq=a=>{var b="";if(ak(a)&&a.nodeValue)return a.nodeValue;if(ah(a)){for(var c of Array.from(a.childNodes))b+=aq(c);var d=getComputedStyle(a).getPropertyValue("display");("block"===d||"list"===d||"BR"===a.tagName)&&(b+="\n")}return b},ar=/data-slate-fragment="(.+?)"/m,as=a=>{var[,b]=a.getData("text/html").match(ar)||[];return b},at=(a,b,c)=>{var{target:d}=b;if(ah(d)&&d.matches('[contentEditable="false"]'))return!1;var{document:e}=aw.getWindow(a);if(e.contains(d))return aw.hasDOMNode(a,d,{editable:!0});var f=c.find(a=>{var{addedNodes:b,removedNodes:c}=a;for(var e of b)if(e===d||e.contains(d))return!0;for(var f of c)if(f===d||f.contains(d))return!0});return!!f&&f!==b&&at(a,f,c)},au=0;class av{constructor(){r(this,"id",void 0),this.id="".concat(au++)}}var aw={androidPendingDiffs:a=>$.get(a),androidScheduleFlush:a=>{var b;null===(b=X.get(a))|| void 0===b||b()},blur:a=>{var b=aw.toDOMNode(a,a),c=aw.findDocumentOrShadowRoot(a);T.set(a,!1),c.activeElement===b&&b.blur()},deselect:a=>{var{selection:b}=a,c=aw.findDocumentOrShadowRoot(a).getSelection();c&&c.rangeCount>0&&c.removeAllRanges(),b&&l.YR.deselect(a)},findDocumentOrShadowRoot:a=>{var b=aw.toDOMNode(a,a),c=b.getRootNode();return(c instanceof Document||c instanceof ShadowRoot)&&null!=c.getSelection?c:b.ownerDocument},findEventRange:(a,b)=>{"nativeEvent"in b&&(b=b.nativeEvent);var c,{clientX:d,clientY:e,target:f}=b;if(null==d||null==e)throw Error("Cannot resolve a Slate range from a DOM event: ".concat(b));var g=aw.toSlateNode(a,b.target),h=aw.findPath(a,g);if(l.W_.isElement(g)&&l.ML.isVoid(a,g)){var i=f.getBoundingClientRect(),j=a.isInline(g)?d-i.left<i.left+i.width-d:e-i.top<i.top+i.height-e,k=l.ML.point(a,h,{edge:j?"start":"end"}),m=j?l.ML.before(a,k):l.ML.after(a,k);if(m)return l.ML.range(a,m)}var{document:n}=aw.getWindow(a);if(n.caretRangeFromPoint)c=n.caretRangeFromPoint(d,e);else{var o=n.caretPositionFromPoint(d,e);o&&((c=n.createRange()).setStart(o.offsetNode,o.offset),c.setEnd(o.offsetNode,o.offset))}if(!c)throw Error("Cannot resolve a Slate range from a DOM event: ".concat(b));return aw.toSlateRange(a,c,{exactMatch:!1,suppressThrow:!1})},findKey:(a,b)=>{var c=Q.get(b);return c||(c=new av,Q.set(b,c)),c},findPath:(a,b)=>{for(var c=[],d=b;;){var e=K.get(d);if(null==e){if(l.ML.isEditor(d))return c;break}var f=J.get(d);if(null==f)break;c.unshift(f),d=e}throw Error("Unable to find the path for Slate node: ".concat(l.o4.stringify(b)))},focus:a=>{var b=aw.toDOMNode(a,a),c=aw.findDocumentOrShadowRoot(a);if(T.set(a,!0),c.activeElement!==b){if(a.selection&&c instanceof Document){var d=c.getSelection(),e=aw.toDOMRange(a,a.selection);null==d||d.removeAllRanges(),null==d||d.addRange(e)}b.focus({preventScroll:!0})}},getWindow:a=>{var b=L.get(a);if(!b)throw Error("Unable to find a host window element for this editor");return b},hasDOMNode:function(a,b){var c,d=arguments.length>2&& void 0!==arguments[2]?arguments[2]:{},{editable:e=!1}=d,f=aw.toDOMNode(a,a);try{c=ah(b)?b:b.parentElement}catch(g){if(g instanceof Error&&!g.message.includes('Permission denied to access property "nodeType"'))throw g}return!!c&&c.closest("[data-slate-editor]")===f&&(!e||!!c.isContentEditable||"boolean"==typeof c.isContentEditable&&c.closest('[contenteditable="false"]')===f||!!c.getAttribute("data-slate-zero-width"))},hasEditableTarget:(a,b)=>ai(b)&&aw.hasDOMNode(a,b,{editable:!0}),hasRange:(a,b)=>{var{anchor:c,focus:d}=b;return l.ML.hasPath(a,c.path)&&l.ML.hasPath(a,d.path)},hasSelectableTarget:(a,b)=>aw.hasEditableTarget(a,b)||aw.isTargetInsideNonReadonlyVoid(a,b),hasTarget:(a,b)=>ai(b)&&aw.hasDOMNode(a,b),insertData:(a,b)=>{a.insertData(b)},insertFragmentData:(a,b)=>a.insertFragmentData(b),insertTextData:(a,b)=>a.insertTextData(b),isComposing:a=>!!U.get(a),isFocused:a=>!!T.get(a),isReadOnly:a=>!!S.get(a),isTargetInsideNonReadonlyVoid:(a,b)=>{if(S.get(a))return!1;var c=aw.hasTarget(a,b)&&aw.toSlateNode(a,b);return l.W_.isElement(c)&&l.ML.isVoid(a,c)},setFragmentData:(a,b,c)=>a.setFragmentData(b,c),toDOMNode:(a,b)=>{var c=R.get(a),d=l.ML.isEditor(b)?M.get(a):null==c?void 0:c.get(aw.findKey(a,b));if(!d)throw Error("Cannot resolve a DOM node from Slate node: ".concat(l.o4.stringify(b)));return d},toDOMPoint:(a,b)=>{var[c]=l.ML.node(a,b.path),d=aw.toDOMNode(a,c);l.ML.void(a,{at:b})&&(b={path:b.path,offset:0});for(var e=Array.from(d.querySelectorAll("[data-slate-string], [data-slate-zero-width]")),f=0,g=0;g<e.length;g++){var h=e[g],i=h.childNodes[0];if(null!=i&&null!=i.textContent){var{length:j}=i.textContent,k=h.getAttribute("data-slate-length"),m=null==k?j:parseInt(k,10),n=f+m,o=e[g+1];if(b.offset===n&&null!=o&&o.hasAttribute("data-slate-mark-placeholder")){var p,q,r=o.childNodes[0];p=[r instanceof ae?r:o,null!==(q=o.textContent)&& void 0!==q&&q.startsWith("\uFEFF")?1:0];break}if(b.offset<=n){var s=Math.min(j,Math.max(0,b.offset-f));p=[i,s];break}f=n}}if(!p)throw Error("Cannot resolve a DOM point from Slate point: ".concat(l.o4.stringify(b)));return p},toDOMRange:(a,b)=>{var{anchor:c,focus:d}=b,e=l.e6.isBackward(b),f=aw.toDOMPoint(a,c),g=l.e6.isCollapsed(b)?f:aw.toDOMPoint(a,d),h=aw.getWindow(a).document.createRange(),[i,j]=e?g:f,[k,m]=e?f:g,n=!!(ah(i)?i:i.parentElement).getAttribute("data-slate-zero-width"),o=ah(k)?k:k.parentElement,p=!!o.getAttribute("data-slate-zero-width");return h.setStart(i,n?1:j),h.setEnd(k,p?1:m),h},toSlateNode:(a,b)=>{var c=ah(b)?b:b.parentElement;c&&!c.hasAttribute("data-slate-node")&&(c=c.closest("[data-slate-node]"));var d=c?O.get(c):null;if(!d)throw Error("Cannot resolve a Slate node from DOM node: ".concat(c));return d},toSlatePoint:(a,b,c)=>{var{exactMatch:d,suppressThrow:e}=c,[f,g]=d?b:am(b),h=f.parentNode,i=null,j=0;if(h){var k,m,n=aw.toDOMNode(a,a),o=h.closest('[data-slate-void="true"]'),p=o&&n.contains(o)?o:null,q=h.closest("[data-slate-leaf]"),r=null;if(q){if(i=q.closest('[data-slate-node="text"]')){var s=aw.getWindow(a).document.createRange();s.setStart(i,0),s.setEnd(f,g);var t=s.cloneContents();[...Array.prototype.slice.call(t.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(t.querySelectorAll("[contenteditable=false]"))].forEach(a=>{if(x&&!d&&a.hasAttribute("data-slate-zero-width")&&a.textContent.length>0&&"\uFEFF"!==a.textContext){a.textContent.startsWith("\uFEFF")&&(a.textContent=a.textContent.slice(1));return}a.parentNode.removeChild(a)}),j=t.textContent.length,r=i}}else if(p){for(var u=p.querySelectorAll("[data-slate-leaf]"),v=0;v<u.length;v++){var w=u[v];if(aw.hasDOMNode(a,w)){q=w;break}}q?(i=q.closest('[data-slate-node="text"]'),r=q,j=r.textContent.length,r.querySelectorAll("[data-slate-zero-width]").forEach(a=>{j-=a.textContent.length})):j=1}r&&j===r.textContent.length&&x&&"z"===r.getAttribute("data-slate-zero-width")&&null!==(k=r.textContent)&& void 0!==k&&k.startsWith("\uFEFF")&&(h.hasAttribute("data-slate-zero-width")||y&&null!==(m=r.textContent)&& void 0!==m&&m.endsWith("\n\n"))&&j--}if(x&&!i&&!d){var z=h.hasAttribute("data-slate-node")?h:h.closest("[data-slate-node]");if(z&&aw.hasDOMNode(a,z,{editable:!0})){var A=aw.toSlateNode(a,z),{path:B,offset:C}=l.ML.start(a,aw.findPath(a,A));return z.querySelector("[data-slate-leaf]")||(C=g),{path:B,offset:C}}}if(!i){if(e)return null;throw Error("Cannot resolve a Slate point from DOM point: ".concat(b))}var D=aw.toSlateNode(a,i),E=aw.findPath(a,D);return{path:E,offset:j}},toSlateRange:(a,b,c)=>{var d,e,f,g,h,i,{exactMatch:j,suppressThrow:k}=c;if(aj(b)?b.anchorNode:b.startContainer){if(aj(b)){if(y&&b.rangeCount>1){f=b.focusNode;var m=b.getRangeAt(0),n=b.getRangeAt(b.rangeCount-1);if(f instanceof HTMLTableRowElement&&m.startContainer instanceof HTMLTableRowElement&&n.startContainer instanceof HTMLTableRowElement){function o(a){return a.childElementCount>0?o(a.children[0]):a}var p=m.startContainer,q=n.startContainer,r=o(p.children[m.startOffset]),s=o(q.children[n.startOffset]);g=0,d=s.childNodes.length>0?s.childNodes[0]:s,f=r.childNodes.length>0?r.childNodes[0]:r,e=s instanceof HTMLElement?s.innerHTML.length:0}else m.startContainer===f?(d=n.endContainer,e=n.endOffset,g=m.startOffset):(d=m.startContainer,e=m.endOffset,g=n.startOffset)}else d=b.anchorNode,e=b.anchorOffset,f=b.focusNode,g=b.focusOffset;h=B&&an(d)||y?b.anchorNode===b.focusNode&&b.anchorOffset===b.focusOffset:b.isCollapsed}else d=b.startContainer,e=b.startOffset,f=b.endContainer,g=b.endOffset,h=b.collapsed}if(null==d||null==f||null==e||null==g)throw Error("Cannot resolve a Slate range from DOM range: ".concat(b));"getAttribute"in f&&"false"===f.getAttribute("contenteditable")&&"true"!==f.getAttribute("data-slate-void")&&(f=d,g=(null===(i=d.textContent)|| void 0===i?void 0:i.length)||0);var t=aw.toSlatePoint(a,[d,e],{exactMatch:j,suppressThrow:k});if(!t)return null;var u=h?t:aw.toSlatePoint(a,[f,g],{exactMatch:j,suppressThrow:k});if(!u)return null;var v={anchor:t,focus:u};return l.e6.isExpanded(v)&&l.e6.isForward(v)&&ah(f)&&l.ML.void(a,{at:v.focus,mode:"highest"})&&(v=l.ML.unhangRange(a,v,{voids:!0})),v}};function ax(a,b){var{path:c,diff:d}=b;if(!l.ML.hasPath(a,c))return!1;var e=l.NB.get(a,c);if(!l.xv.isText(e))return!1;if(d.start!==e.text.length||0===d.text.length)return e.text.slice(d.start,d.start+d.text.length)===d.text;var f=l.y$.next(c);if(!l.ML.hasPath(a,f))return!1;var g=l.NB.get(a,f);return l.xv.isText(g)&&g.text.startsWith(d.text)}function ay(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return c.reduce((a,b)=>a.slice(0,b.start)+b.text+a.slice(b.end),a)}function az(a,b){var{start:c,end:d,text:e}=b,f=a.slice(c,d),g=function(a,b){for(var c=Math.min(a.length,b.length),d=0;d<c;d++)if(a.charAt(d)!==b.charAt(d))return d;return c}(f,e),h=Math.min(f.length-g,e.length-g),i=function(a,b,c){for(var d=Math.min(a.length,b.length,c),e=0;e<d;e++)if(a.charAt(a.length-e-1)!==b.charAt(b.length-e-1))return e;return d}(f,e,h),j={start:c+g,end:d-i,text:e.slice(g,e.length-i)};return j.start===j.end&&0===j.text.length?null:j}function aA(a){var{path:b,diff:c}=a;return{anchor:{path:b,offset:c.start},focus:{path:b,offset:c.end}}}function aB(a,b){var{path:c,offset:d}=b;if(!l.ML.hasPath(a,c))return null;var e=l.NB.get(a,c);if(!l.xv.isText(e))return null;var f=l.ML.above(a,{match:b=>l.W_.isElement(b)&&l.ML.isBlock(a,b),at:c});if(!f)return null;for(;d>e.text.length;){var g=l.ML.next(a,{at:c,match:l.xv.isText});if(!g||!l.y$.isDescendant(g[1],f[1]))return null;d-=e.text.length,e=g[0],c=g[1]}return{path:c,offset:d}}function aC(a,b){var c=aB(a,b.anchor);if(!c)return null;if(l.e6.isCollapsed(b))return{anchor:c,focus:c};var d=aB(a,b.focus);return d?{anchor:c,focus:d}:null}function aD(a,b,c){var d=$.get(a),e=null==d?void 0:d.find(a=>{var{path:c}=a;return l.y$.equals(c,b.path)});if(!e||b.offset<=e.diff.start)return l.E9.transform(b,c,{affinity:"backward"});var{diff:f}=e;if(b.offset<=f.start+f.text.length){var g={path:b.path,offset:f.start},h=l.E9.transform(g,c,{affinity:"backward"});return h?{path:h.path,offset:h.offset+b.offset-f.start}:null}var i={path:b.path,offset:b.offset-f.text.length+f.end-f.start},j=l.E9.transform(i,c,{affinity:"backward"});return j?"split_node"===c.type&&l.y$.equals(c.path,b.path)&&i.offset<c.position&&f.start<c.position?j:{path:j.path,offset:j.offset+f.text.length-f.end+f.start}:null}function aE(a,b,c){var d=aD(a,b.anchor,c);if(!d)return null;if(l.e6.isCollapsed(b))return{anchor:d,focus:d};var e=aD(a,b.focus,c);return e?{anchor:d,focus:e}:null}function aF(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function aG(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?aF(Object(c),!0).forEach(function(b){r(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):aF(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var aH=function(){},aI=a=>(null==a?void 0:a.constructor.name)==="DataTransfer",aJ=H?j.useLayoutEffect:j.useEffect,aK=["node"];function aL(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}var aM={subtree:!0,childList:!0,characterData:!0},aN=x?a=>{var{node:b}=a,c=p(a,aK);if(!x)return null;var d,e=t(),f=(d=(0,j.useRef)(!1),(0,j.useEffect)(()=>(d.current=!0,()=>{d.current=!1}),[]),d.current),[g]=(0,j.useState)(()=>(function(a){var{editor:b,scheduleOnDOMSelectionChange:c,onDOMSelectionChange:d}=a,e=!1,f=null,g=null,h=null,i=0,j=!1,k=()=>{var a=aa.get(b);if(aa.delete(b),a){var{selection:c}=b,d=aC(b,a);!d||c&&l.e6.equals(d,c)||l.YR.select(b,d)}},m=()=>{var a=_.get(b);if(_.delete(b),a){if(a.at){var c=l.E9.isPoint(a.at)?aB(b,a.at):aC(b,a.at);if(!c)return;var d=l.ML.range(b,c);b.selection&&l.e6.equals(b.selection,d)||l.YR.select(b,c)}a.run()}},n=()=>{if(g&&(clearTimeout(g),g=null),h&&(clearTimeout(h),h=null),!v()&&!u()){k();return}e||(e=!0,setTimeout(()=>e=!1)),u()&&(e="action");var a=b.selection&&l.ML.rangeRef(b,b.selection,{affinity:"forward"});Z.set(b,b.marks),aH("flush",_.get(b),$.get(b));for(var f=v();i=null===(n=$.get(b))|| void 0===n?void 0:n[0];){var i,n,o,p=Y.get(b);void 0!==p&&(Y.delete(b),b.marks=p),p&& !1===j&&(j=null);var q=aA(i);b.selection&&l.e6.equals(b.selection,q)||l.YR.select(b,q),i.diff.text?l.ML.insertText(b,i.diff.text):l.ML.deleteFragment(b),$.set(b,null===(o=$.get(b))|| void 0===o?void 0:o.filter(a=>{var{id:b}=a;return b!==i.id})),ax(b,i)||(f=!1,_.delete(b),Z.delete(b),e="action",aa.delete(b),c.cancel(),d.cancel(),null==a||a.unref())}var r=null==a?void 0:a.unref();if(!r||aa.get(b)||b.selection&&l.e6.equals(r,b.selection)||l.YR.select(b,r),u()){m();return}f&&c(),c.flush(),d.flush(),k();var s=Z.get(b);Z.delete(b),void 0!==s&&(b.marks=s,b.onChange())},o=a=>{f&&clearTimeout(f),f=setTimeout(()=>{U.set(b,!1),n()},25)},p=a=>{U.set(b,!0),f&&(clearTimeout(f),f=null)},q=function(){var a=arguments.length>0&& void 0!==arguments[0]&&arguments[0],c=N.get(b);if(c){if(v()||a){c.style.display="none";return}c.style.removeProperty("display")}},r=(a,c)=>{var d,e=null!==(d=$.get(b))&& void 0!==d?d:[];$.set(b,e);var f=l.NB.leaf(b,a),g=e.findIndex(b=>l.y$.equals(b.path,a));if(g<0){az(f.text,c)&&e.push({path:a,diff:c,id:i++}),q();return}var h,j,k,m,n,o,p,r,s,t=(h=f.text,j=e[g].diff,k=c,m=Math.min(j.start,k.start),n=Math.max(0,Math.min(j.start+j.text.length,k.end)-k.start),o=ay(h,j,k),p=Math.max(k.start+k.text.length,j.start+j.text.length+(j.start+j.text.length>k.start?k.text.length:0)-n),r=o.slice(m,p),s=Math.max(j.end,k.end-j.text.length+(j.end-j.start)),az(h,{start:m,end:s,text:r}));if(!t){e.splice(g,1),q();return}e[g]=aG(aG({},e[g]),{},{diff:t})},s=function(a){var{at:e}=arguments.length>1&& void 0!==arguments[1]?arguments[1]:{};j=!1,aa.delete(b),c.cancel(),d.cancel(),u()&&n(),_.set(b,{at:e,run:a}),h=setTimeout(n)},t=a=>{g&&(clearTimeout(g),g=null);var{inputType:c}=a,d=null,e=a.dataTransfer||a.data||void 0;!1!==j&&"insertText"!==c&&"insertCompositionText"!==c&&(j=!1);var[f]=a.getTargetRanges();f&&(d=aw.toSlateRange(b,f,{exactMatch:!1,suppressThrow:!0}));var h=aw.getWindow(b).getSelection();if(!d&&h&&(f=h,d=aw.toSlateRange(b,h,{exactMatch:!1,suppressThrow:!0})),d=null!==(F=d)&& void 0!==F?F:b.selection){var i=!0;if(c.startsWith("delete")){if(l.e6.isExpanded(d)){var[k,m]=l.e6.edges(d);if(l.NB.leaf(b,k.path).text.length===k.offset&&0===m.offset){var n=l.ML.next(b,{at:k.path,match:l.xv.isText});n&&l.y$.equals(n[1],m.path)&&(d={anchor:m,focus:m})}}var o=c.endsWith("Backward")?"backward":"forward",[p,q]=l.e6.edges(d),[t,u]=l.ML.leaf(b,p.path),v={text:"",start:p.offset,end:q.offset},w=$.get(b),y=null==w?void 0:w.find(a=>l.y$.equals(a.path,u)),z=y?[y.diff,v]:[v];if(0===ay(t.text,...z).length&&(i=!1),l.e6.isExpanded(d)){if(i&&l.y$.equals(d.anchor.path,d.focus.path)){var B={path:d.anchor.path,offset:p.offset},C=l.ML.range(b,B,B);return x(C),r(d.anchor.path,{text:"",end:q.offset,start:p.offset})}return s(()=>l.ML.deleteFragment(b,{direction:o}),{at:d})}}switch(c){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":return s(()=>l.ML.deleteFragment(b),{at:d});case"deleteContent":case"deleteContentForward":var{anchor:D}=d;if(i&&l.e6.isCollapsed(d)){var E=l.NB.leaf(b,D.path);if(D.offset<E.text.length)return r(D.path,{text:"",start:D.offset,end:D.offset+1})}return s(()=>l.ML.deleteForward(b),{at:d});case"deleteContentBackward":var F,G,{anchor:H}=d,I=aj(f)?f.isCollapsed:!!(null!==(G=f)&& void 0!==G&&G.collapsed);if(i&&I&&l.e6.isCollapsed(d)&&H.offset>0)return r(H.path,{text:"",start:H.offset-1,end:H.offset});return s(()=>l.ML.deleteBackward(b),{at:d});case"deleteEntireSoftLine":return s(()=>{l.ML.deleteBackward(b,{unit:"line"}),l.ML.deleteForward(b,{unit:"line"})},{at:d});case"deleteHardLineBackward":return s(()=>l.ML.deleteBackward(b,{unit:"block"}),{at:d});case"deleteSoftLineBackward":return s(()=>l.ML.deleteBackward(b,{unit:"line"}),{at:d});case"deleteHardLineForward":return s(()=>l.ML.deleteForward(b,{unit:"block"}),{at:d});case"deleteSoftLineForward":return s(()=>l.ML.deleteForward(b,{unit:"line"}),{at:d});case"deleteWordBackward":return s(()=>l.ML.deleteBackward(b,{unit:"word"}),{at:d});case"deleteWordForward":return s(()=>l.ML.deleteForward(b,{unit:"word"}),{at:d});case"insertLineBreak":return s(()=>l.ML.insertSoftBreak(b),{at:d});case"insertParagraph":return s(()=>l.ML.insertBreak(b),{at:d});case"insertCompositionText":case"deleteCompositionText":case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":if(aI(e))return s(()=>aw.insertData(b,e),{at:d});var J=null!=e?e:"";if(Y.get(b)&&(J=J.replace("\uFEFF","")),"insertText"===c&&/.*\n.*\n$/.test(J)&&(J=J.slice(0,-1)),J.includes("\n"))return s(()=>{var a=J.split("\n");a.forEach((c,d)=>{c&&l.ML.insertText(b,c),d!==a.length-1&&l.ML.insertSoftBreak(b)})},{at:d});if(l.y$.equals(d.anchor.path,d.focus.path)){var[K,L]=l.e6.edges(d),M={start:K.offset,end:L.offset,text:J};if(J&&j&&"insertCompositionText"===c){var N=j.start+j.text.search(/\S|$/);M.start+M.text.search(/\S|$/)===N+1&&M.end===j.start+j.text.length?(M.start-=1,j=null,A()):j=!1}else j="insertText"===c&&(null===j?M:!!(j&&l.e6.isCollapsed(d))&&j.end+j.text.length===K.offset&&aG(aG({},j),{},{text:j.text+J}));if(i){r(K.path,M);return}}return s(()=>l.ML.insertText(b,J),{at:d})}}},u=()=>!!_.get(b),v=()=>{var a;return!!(null!==(a=$.get(b))&& void 0!==a&&a.length)},w=()=>u()||v(),x=a=>{aa.set(b,a),g&&(clearTimeout(g),g=null);var{selection:c}=b;if(a){var d=!c||!l.y$.equals(c.anchor.path,a.anchor.path),e=!c||!l.y$.equals(c.anchor.path.slice(0,-1),a.anchor.path.slice(0,-1));(d&&j||e)&&(j=!1),(d||v())&&(g=setTimeout(n,200))}},y=()=>{(u()||!v())&&n()},z=a=>{v()||(q(!0),setTimeout(q))},A=()=>{u()||(h=setTimeout(n))},B=a=>{if(!(v()||u())&&a.some(c=>at(b,c,a))){var c;null===(c=ab.get(b))|| void 0===c||c()}};return{flush:n,scheduleFlush:A,hasPendingDiffs:v,hasPendingAction:u,hasPendingChanges:w,isFlushing:()=>e,handleUserSelect:x,handleCompositionEnd:o,handleCompositionStart:p,handleDOMBeforeInput:t,handleKeyDown:z,handleDomMutations:B,handleInput:y}})(function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?aL(Object(c),!0).forEach(function(b){r(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):aL(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}({editor:e},c)));return!function(a,b,c){var[d]=(0,j.useState)(()=>new MutationObserver(b));aJ(()=>{d.takeRecords()}),(0,j.useEffect)(()=>{if(!a.current)throw Error("Failed to attach MutationObserver, `node` is undefined");return d.observe(a.current,c),()=>d.disconnect()},[d,a,c])}(b,g.handleDomMutations,aM),X.set(e,g.scheduleFlush),f&&g.flush(),g}:()=>null,aO=["anchor","focus"],aP=["anchor","focus"],aQ=(a,b)=>Object.keys(a).length===Object.keys(b).length&&Object.keys(a).every(c=>b.hasOwnProperty(c)&&a[c]===b[c]),aR=(a,b)=>{var c=p(a,aO),d=p(b,aP);return a[ac]===b[ac]&&aQ(c,d)},aS=(a,b)=>{if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++){var d=a[c],e=b[c];if(!l.e6.equals(d,e)||!aR(d,e))return!1}return!0},aT=(a,b)=>{if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++){var d=a[c],e=b[c];if(d.anchor.offset!==e.anchor.offset||d.focus.offset!==e.focus.offset||!aR(d,e))return!1}return!0};function aU(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}var aV=a=>{var{isLast:b,leaf:c,parent:d,text:e}=a,f=t(),g=aw.findPath(f,e),h=l.y$.parent(g),i=Boolean(c[ad]);return f.isVoid(d)?j.createElement(aY,{length:l.NB.string(d).length}):""!==c.text||d.children[d.children.length-1]!==e||f.isInline(d)||""!==l.ML.string(f,h)?""===c.text?j.createElement(aY,{isMarkPlaceholder:i}):b&&"\n"===c.text.slice(-1)?j.createElement(aW,{isTrailing:!0,text:c.text}):j.createElement(aW,{text:c.text}):j.createElement(aY,{isLineBreak:!0,isMarkPlaceholder:i})},aW=a=>{var{text:b,isTrailing:c=!1}=a,d=(0,j.useRef)(null),e=()=>"".concat(null!=b?b:"").concat(c?"\n":""),[f]=(0,j.useState)(e);return aJ(()=>{var a=e();d.current&&d.current.textContent!==a&&(d.current.textContent=a)}),j.createElement(aX,{ref:d},f)},aX=(0,j.memo)((0,j.forwardRef)((a,b)=>j.createElement("span",{"data-slate-string":!0,ref:b},a.children))),aY=a=>{var{length:b=0,isLineBreak:c=!1,isMarkPlaceholder:d=!1}=a,e={"data-slate-zero-width":c?"n":"z","data-slate-length":b};return d&&(e["data-slate-mark-placeholder"]=!0),j.createElement("span",function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?aU(Object(c),!0).forEach(function(b){r(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):aU(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}({},e),x&&c?null:"\uFEFF",c?j.createElement("br",null):null)};function aZ(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function a$(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?aZ(Object(c),!0).forEach(function(b){r(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):aZ(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function a_(a){a.current&&(clearTimeout(a.current),a.current=null)}var a0=a=>{var{leaf:b,isLast:c,text:d,parent:e,renderPlaceholder:f,renderLeaf:g=a=>j.createElement(a2,a$({},a))}=a,h=t(),i=(0,j.useRef)(null),k=(0,j.useRef)(null),[l,n]=(0,j.useState)(!1),o=(0,j.useRef)(null),p=(0,j.useCallback)(a=>{if(c=i,d=null==a,c.current&&(c.current.disconnect(),d&&(c.current=null)),null==a)N.delete(h),null===(e=b.onPlaceholderResize)|| void 0===e||e.call(b,null);else{if(N.set(h,a),!i.current){var c,d,e,f=window.ResizeObserver||m.do;i.current=new f(()=>{var c;null===(c=b.onPlaceholderResize)|| void 0===c||c.call(b,a)})}i.current.observe(a),k.current=a}},[k,b,h]),q=j.createElement(aV,{isLast:c,leaf:b,parent:e,text:d}),r=Boolean(b[ac]);if((0,j.useEffect)(()=>(r?o.current||(o.current=setTimeout(()=>{n(!0),o.current=null},300)):(a_(o),n(!1)),()=>a_(o)),[r,n]),r&&l){var s={children:b.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",top:0,pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none",WebkitUserModify:z?"inherit":void 0},contentEditable:!1,ref:p}};q=j.createElement(j.Fragment,null,f(s),q)}return g({attributes:{"data-slate-leaf":!0},children:q,leaf:b,text:d})},a1=j.memo(a0,(a,b)=>b.parent===a.parent&&b.isLast===a.isLast&&b.renderLeaf===a.renderLeaf&&b.renderPlaceholder===a.renderPlaceholder&&b.text===a.text&&l.xv.equals(b.leaf,a.leaf)&&b.leaf[ac]===a.leaf[ac]),a2=a=>{var{attributes:b,children:c}=a;return j.createElement("span",a$({},b),c)},a3=a=>{for(var{decorations:b,isLast:c,parent:d,renderPlaceholder:e,renderLeaf:f,text:g}=a,h=t(),i=(0,j.useRef)(null),k=l.xv.decorations(g,b),m=aw.findKey(h,g),n=[],o=0;o<k.length;o++){var p=k[o];n.push(j.createElement(a1,{isLast:c&&o===k.length-1,key:"".concat(m.id,"-").concat(o),renderPlaceholder:e,leaf:p,text:g,parent:d,renderLeaf:f}))}var q=(0,j.useCallback)(a=>{var b=R.get(h);a?(null==b||b.set(m,a),P.set(g,a),O.set(a,g)):(null==b||b.delete(m),P.delete(g),i.current&&O.delete(i.current)),i.current=a},[i,h,m,g]);return j.createElement("span",{"data-slate-node":"text",ref:q},n)},a4=j.memo(a3,(a,b)=>b.parent===a.parent&&b.isLast===a.isLast&&b.renderLeaf===a.renderLeaf&&b.renderPlaceholder===a.renderPlaceholder&&b.text===a.text&&aT(b.decorations,a.decorations));function a5(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function a6(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?a5(Object(c),!0).forEach(function(b){r(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):a5(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var a7=a=>{var{decorations:b,element:c,renderElement:d=a=>j.createElement(a9,a6({},a)),renderPlaceholder:f,renderLeaf:g,selection:h}=a,i=t(),k=bg(),m=i.isInline(c),n=aw.findKey(i,c),o=(0,j.useCallback)(a=>{var b=R.get(i);a?(null==b||b.set(n,a),P.set(c,a),O.set(a,c)):(null==b||b.delete(n),P.delete(c))},[i,n,c]),p=be({decorations:b,node:c,renderElement:d,renderPlaceholder:f,renderLeaf:g,selection:h}),q={"data-slate-node":"element",ref:o};if(m&&(q["data-slate-inline"]=!0),!m&&l.ML.hasInlines(i,c)){var r=l.NB.string(c),s=e()(r);"rtl"===s&&(q.dir=s)}if(l.ML.isVoid(i,c)){q["data-slate-void"]=!0,!k&&m&&(q.contentEditable=!1);var u=m?"span":"div",[[v]]=l.NB.texts(c);p=j.createElement(u,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},j.createElement(a4,{renderPlaceholder:f,decorations:[],isLast:!1,parent:c,text:v})),J.set(v,0),K.set(v,c)}return d({attributes:q,children:p,element:c})},a8=j.memo(a7,(a,b)=>a.element===b.element&&a.renderElement===b.renderElement&&a.renderLeaf===b.renderLeaf&&a.renderPlaceholder===b.renderPlaceholder&&aS(a.decorations,b.decorations)&&(a.selection===b.selection|| !!a.selection&&!!b.selection&&l.e6.equals(a.selection,b.selection))),a9=a=>{var{attributes:b,children:c,element:d}=a,e=t().isInline(d)?"span":"div";return j.createElement(e,a6(a6({},b),{},{style:{position:"relative"}}),c)},ba=(0,j.createContext)(()=>[]),bb=()=>(0,j.useContext)(ba),bc=(0,j.createContext)(!1),bd=()=>(0,j.useContext)(bc),be=a=>{for(var{decorations:b,node:c,renderElement:d,renderPlaceholder:e,renderLeaf:f,selection:g}=a,h=bb(),i=t(),k=aw.findPath(i,c),m=[],n=l.W_.isElement(c)&&!i.isInline(c)&&l.ML.hasInlines(i,c),o=0;o<c.children.length;o++){var p=k.concat(o),q=c.children[o],r=aw.findKey(i,q),s=l.ML.range(i,p),u=g&&l.e6.intersection(s,g),v=h([q,p]);for(var w of b){var x=l.e6.intersection(w,s);x&&v.push(x)}l.W_.isElement(q)?m.push(j.createElement(bc.Provider,{key:"provider-".concat(r.id),value:!!u},j.createElement(a8,{decorations:v,element:q,key:r.id,renderElement:d,renderPlaceholder:e,renderLeaf:f,selection:u}))):m.push(j.createElement(a4,{decorations:v,key:r.id,isLast:n&&o===c.children.length-1,parent:c,renderPlaceholder:e,renderLeaf:f,text:q})),J.set(q,o),K.set(q,c)}return m},bf=(0,j.createContext)(!1),bg=()=>(0,j.useContext)(bf),bh=(0,j.createContext)(null),bi=()=>{var a=(0,j.useContext)(bh);if(!a)throw Error("The `useSlate` hook must be used inside the <Slate> component's context.");var{editor:b}=a;return b},bj={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},bk={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},bl={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},bm=a=>{var b=bj[a],c=bk[a],d=bl[a],e=b&&(0,n.P6)(b),f=c&&(0,n.P6)(c),g=d&&(0,n.P6)(d);return a=>!!(e&&e(a)||w&&f&&f(a)|| !w&&g&&g(a))},bn={isBold:bm("bold"),isCompose:bm("compose"),isMoveBackward:bm("moveBackward"),isMoveForward:bm("moveForward"),isDeleteBackward:bm("deleteBackward"),isDeleteForward:bm("deleteForward"),isDeleteLineBackward:bm("deleteLineBackward"),isDeleteLineForward:bm("deleteLineForward"),isDeleteWordBackward:bm("deleteWordBackward"),isDeleteWordForward:bm("deleteWordForward"),isExtendBackward:bm("extendBackward"),isExtendForward:bm("extendForward"),isExtendLineBackward:bm("extendLineBackward"),isExtendLineForward:bm("extendLineForward"),isItalic:bm("italic"),isMoveLineBackward:bm("moveLineBackward"),isMoveLineForward:bm("moveLineForward"),isMoveWordBackward:bm("moveWordBackward"),isMoveWordForward:bm("moveWordForward"),isRedo:bm("redo"),isSoftBreak:bm("insertSoftBreak"),isSplitBlock:bm("splitBlock"),isTransposeCharacter:bm("transposeCharacter"),isUndo:bm("undo")},bo=(a,b)=>{var c=[],d=()=>{c=[]},e=d=>{if(b.current){var e=d.filter(b=>at(a,b,d));c.push(...e)}};return{registerMutations:e,restoreDOM:function(){c.length>0&&(c.reverse().forEach(a=>{"characterData"!==a.type&&(a.removedNodes.forEach(b=>{a.target.insertBefore(b,a.nextSibling)}),a.addedNodes.forEach(b=>{a.target.removeChild(b)}))}),d())},clear:d}},bp={subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0};class bq extends j.Component{constructor(){super(...arguments),r(this,"context",null),r(this,"manager",null),r(this,"mutationObserver",null)}observe(){var a,{node:b}=this.props;if(!b.current)throw Error("Failed to attach MutationObserver, `node` is undefined");null===(a=this.mutationObserver)|| void 0===a||a.observe(b.current,bp)}componentDidMount(){var{receivedUserInput:a}=this.props,b=this.context;this.manager=bo(b,a),this.mutationObserver=new MutationObserver(this.manager.registerMutations),this.observe()}getSnapshotBeforeUpdate(){var a,b,c,d,e=null===(a=this.mutationObserver)|| void 0===a?void 0:a.takeRecords();return null!=e&&e.length&&(null===(d=this.manager)|| void 0===d||d.registerMutations(e)),null===(b=this.mutationObserver)|| void 0===b||b.disconnect(),null===(c=this.manager)|| void 0===c||c.restoreDOM(),null}componentDidUpdate(){var a;null===(a=this.manager)|| void 0===a||a.clear(),this.observe()}componentWillUnmount(){var a;null===(a=this.mutationObserver)|| void 0===a||a.disconnect()}render(){return this.props.children}}r(bq,"contextType",s);var br=x?bq:a=>{var{children:b}=a;return j.createElement(j.Fragment,null,b)},bs=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as","disableDefaultStyles"],bt=["text"];function bu(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function bv(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?bu(Object(c),!0).forEach(function(b){r(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):bu(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var bw=a=>j.createElement(j.Fragment,null,be(a)),bx=a=>{var b,c,d,f,h=(0,j.useCallback)(a=>j.createElement(by,bv({},a)),[]),{autoFocus:k,decorate:m=bz,onDOMBeforeInput:n,placeholder:o,readOnly:q=!1,renderElement:r,renderLeaf:s,renderPlaceholder:u=h,scrollSelectionIntoView:w=bA,style:A={},as:C="div",disableDefaultStyles:D=!1}=a,J=p(a,bs),K=bi(),[N,Q]=(0,j.useState)(!1),R=(0,j.useRef)(null),W=(0,j.useRef)([]),[X,$]=(0,j.useState)(),{onUserInput:_,receivedUserInput:aa}=(b=t(),c=(0,j.useRef)(!1),d=(0,j.useRef)(0),f=(0,j.useCallback)(()=>{if(!c.current){c.current=!0;var a=aw.getWindow(b);a.cancelAnimationFrame(d.current),d.current=a.requestAnimationFrame(()=>{c.current=!1})}},[b]),(0,j.useEffect)(()=>()=>cancelAnimationFrame(d.current),[]),{receivedUserInput:c,onUserInput:f}),[,ae]=(0,j.useReducer)(a=>a+1,0);ab.set(K,ae),S.set(K,q);var ag=(0,j.useMemo)(()=>({isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null,hasMarkPlaceholder:!1}),[]);(0,j.useEffect)(()=>{R.current&&k&&R.current.focus()},[k]);var aj=(0,j.useRef)(),ak=(0,j.useMemo)(()=>i()(()=>{var a=aj.current;if((x||!aw.isComposing(K))&&(!ag.isUpdatingSelection||null!=a&&a.isFlushing())&&!ag.isDraggingInternally){var b=aw.findDocumentOrShadowRoot(K),{activeElement:c}=b,d=aw.toDOMNode(K,K),e=b.getSelection();if(c===d?(ag.latestElement=c,T.set(K,!0)):T.delete(K),!e)return l.YR.deselect(K);var{anchorNode:f,focusNode:g}=e,h=aw.hasEditableTarget(K,f)||aw.isTargetInsideNonReadonlyVoid(K,f),i=aw.hasEditableTarget(K,g)||aw.isTargetInsideNonReadonlyVoid(K,g);if(h&&i){var j=aw.toSlateRange(K,e,{exactMatch:!1,suppressThrow:!0});j&&(aw.isComposing(K)||null!=a&&a.hasPendingChanges()||null!=a&&a.isFlushing()?null==a||a.handleUserSelect(j):l.YR.select(K,j))}!q||h&&i||l.YR.deselect(K)}},100),[K,q,ag]),am=(0,j.useMemo)(()=>g()(ak,0),[ak]);aj.current=aN({node:R,onDOMSelectionChange:ak,scheduleOnDOMSelectionChange:am}),aJ(()=>{R.current&&(c=af(R.current))?(L.set(K,c),M.set(K,R.current),P.set(K,R.current),O.set(R.current,K)):P.delete(K);var a,b,c,{selection:d}=K,e=aw.findDocumentOrShadowRoot(K).getSelection();if(!(!e||!aw.isFocused(K)||null!==(a=aj.current)&& void 0!==a&&a.hasPendingAction())){var f=a=>{var b="None"!==e.type;if(d||b){var c=e.focusNode;if(y&&e.rangeCount>1){var f=e.getRangeAt(0),g=e.getRangeAt(e.rangeCount-1);j=f.startContainer===c?g.endContainer:f.startContainer}else j=e.anchorNode;var h=M.get(K),i=!1;if(h.contains(j)&&h.contains(c)&&(i=!0),b&&i&&d&&!a){var j,k,m=aw.toSlateRange(K,e,{exactMatch:!0,suppressThrow:!0});if(m&&l.e6.equals(m,d)&&(!ag.hasMarkPlaceholder||null!==(k=j)&& void 0!==k&&null!==(k=k.parentElement)&& void 0!==k&&k.hasAttribute("data-slate-mark-placeholder")))return}if(d&&!aw.hasRange(K,d)){K.selection=aw.toSlateRange(K,e,{exactMatch:!1,suppressThrow:!0});return}ag.isUpdatingSelection=!0;var n=d&&aw.toDOMRange(K,d);return n?(aw.isComposing(K)&&!x?e.collapseToEnd():l.e6.isBackward(d)?e.setBaseAndExtent(n.endContainer,n.endOffset,n.startContainer,n.startOffset):e.setBaseAndExtent(n.startContainer,n.startOffset,n.endContainer,n.endOffset),w(K,n)):e.removeAllRanges(),n}};e.rangeCount<=1&&f();var g=(null===(b=aj.current)|| void 0===b?void 0:b.isFlushing())==="action";if(!x||!g){setTimeout(()=>{ag.isUpdatingSelection=!1});return}var h=null,i=requestAnimationFrame(()=>{if(g){var a=a=>{try{aw.toDOMNode(K,K).focus(),f(a)}catch(b){}};a(),h=setTimeout(()=>{a(!0),ag.isUpdatingSelection=!1})}});return()=>{cancelAnimationFrame(i),h&&clearTimeout(h)}}});var an=(0,j.useCallback)(a=>{if(_(),!q&&aw.hasEditableTarget(K,a.target)&&!bD(a,n)){if(aj.current)return aj.current.handleDOMBeforeInput(a);am.flush(),ak.flush();var{selection:b}=K,{inputType:c}=a,d=a.dataTransfer||a.data||void 0,e="insertCompositionText"===c||"deleteCompositionText"===c;if(!(e&&aw.isComposing(K))){var f=!1;if("insertText"===c&&b&&l.e6.isCollapsed(b)&&a.data&&1===a.data.length&&/[a-z ]/i.test(a.data)&&0!==b.anchor.offset){f=!0,K.marks&&(f=!1);var{anchor:g}=b,[h,i]=aw.toDOMPoint(K,g),j=null===(o=h.parentElement)|| void 0===o?void 0:o.closest("a"),k=aw.getWindow(K);if(f&&j&&aw.hasDOMNode(K,j)){var m,o,p,r,s=null==k?void 0:k.document.createTreeWalker(j,NodeFilter.SHOW_TEXT).lastChild();s===h&&(null===(r=s.textContent)|| void 0===r?void 0:r.length)===i&&(f=!1)}if(f&&h.parentElement&&(null==k||null===(p=k.getComputedStyle(h.parentElement))|| void 0===p?void 0:p.whiteSpace)==="pre"){var t=l.ML.above(K,{at:g.path,match:a=>l.W_.isElement(a)&&l.ML.isBlock(K,a)});t&&l.NB.string(t[0]).includes("	")&&(f=!1)}}if(!c.startsWith("delete")||c.startsWith("deleteBy")){var[u]=a.getTargetRanges();if(u){var v=aw.toSlateRange(K,u,{exactMatch:!1,suppressThrow:!1});if(!b||!l.e6.equals(b,v)){f=!1;var w=!e&&K.selection&&l.ML.rangeRef(K,K.selection);l.YR.select(K,v),w&&V.set(K,w)}}}if(!e){if(f||a.preventDefault(),b&&l.e6.isExpanded(b)&&c.startsWith("delete")){var x=c.endsWith("Backward")?"backward":"forward";l.ML.deleteFragment(K,{direction:x});return}switch(c){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":l.ML.deleteFragment(K);break;case"deleteContent":case"deleteContentForward":l.ML.deleteForward(K);break;case"deleteContentBackward":l.ML.deleteBackward(K);break;case"deleteEntireSoftLine":l.ML.deleteBackward(K,{unit:"line"}),l.ML.deleteForward(K,{unit:"line"});break;case"deleteHardLineBackward":l.ML.deleteBackward(K,{unit:"block"});break;case"deleteSoftLineBackward":l.ML.deleteBackward(K,{unit:"line"});break;case"deleteHardLineForward":l.ML.deleteForward(K,{unit:"block"});break;case"deleteSoftLineForward":l.ML.deleteForward(K,{unit:"line"});break;case"deleteWordBackward":l.ML.deleteBackward(K,{unit:"word"});break;case"deleteWordForward":l.ML.deleteForward(K,{unit:"word"});break;case"insertLineBreak":l.ML.insertSoftBreak(K);break;case"insertParagraph":l.ML.insertBreak(K);break;case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":"insertFromComposition"===c&&aw.isComposing(K)&&(Q(!1),U.set(K,!1)),(null==d?void 0:d.constructor.name)==="DataTransfer"?aw.insertData(K,d):"string"==typeof d&&(f?W.current.push(()=>l.ML.insertText(K,d)):l.ML.insertText(K,d))}var y=null===(m=V.get(K))|| void 0===m?void 0:m.unref();V.delete(K),!y||K.selection&&l.e6.equals(K.selection,y)||l.YR.select(K,y)}}}},[K,ak,_,n,q,am]),ao=(0,j.useCallback)(a=>{null==a?(ak.cancel(),am.cancel(),M.delete(K),P.delete(K),R.current&&I&&R.current.removeEventListener("beforeinput",an)):I&&a.addEventListener("beforeinput",an),R.current=a},[ak,am,K,an]);aJ(()=>{var a=aw.getWindow(K);return a.document.addEventListener("selectionchange",am),()=>{a.document.removeEventListener("selectionchange",am)}},[am]);var ap=m([K,[]]),aq=o&&1===K.children.length&&1===Array.from(l.NB.texts(K)).length&&""===l.NB.string(K)&&!N,ar=(0,j.useCallback)(a=>{if(a&&aq){var b;$(null===(b=a.getBoundingClientRect())|| void 0===b?void 0:b.height)}else $(void 0)},[aq]);if(aq){var as=l.ML.start(K,[]);ap.push({[ac]:!0,placeholder:o,onPlaceholderResize:ar,anchor:as,focus:as})}var{marks:at}=K;if(ag.hasMarkPlaceholder=!1,K.selection&&l.e6.isCollapsed(K.selection)&&at){var{anchor:au}=K.selection,av=l.NB.leaf(K,au.path),ax=p(av,bt);if(!l.xv.equals(av,at,{loose:!0})){ag.hasMarkPlaceholder=!0;var ay=Object.fromEntries(Object.keys(ax).map(a=>[a,null]));ap.push(bv(bv(bv({[ad]:!0},ay),at),{},{anchor:au,focus:au}))}}return(0,j.useEffect)(()=>{setTimeout(()=>{var{selection:a}=K;if(a){var{anchor:b}=a,c=l.NB.leaf(K,b.path);if(at&&!l.xv.equals(c,at,{loose:!0})){Y.set(K,at);return}}Y.delete(K)})}),j.createElement(bf.Provider,{value:q},j.createElement(ba.Provider,{value:m},j.createElement(br,{node:R,receivedUserInput:aa},j.createElement(C,bv(bv({role:q?void 0:"textbox","aria-multiline":!q||void 0},J),{},{spellCheck:(!!I||!H)&&J.spellCheck,autoCorrect:I||!H?J.autoCorrect:"false",autoCapitalize:I||!H?J.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!q,zindex:-1,suppressContentEditableWarning:!0,ref:ao,style:bv(bv({},D?{}:bv({position:"relative",whiteSpace:"pre-wrap",wordWrap:"break-word"},X?{minHeight:X}:{})),A),onBeforeInput:(0,j.useCallback)(a=>{if(!I&&!q&&!bB(a,J.onBeforeInput)&&aw.hasSelectableTarget(K,a.target)&&(a.preventDefault(),!aw.isComposing(K))){var b=a.data;l.ML.insertText(K,b)}},[J.onBeforeInput,K,q]),onInput:(0,j.useCallback)(a=>{if(!bB(a,J.onInput)){if(aj.current){aj.current.handleInput();return}for(var b of W.current)b();W.current=[]}},[J.onInput]),onBlur:(0,j.useCallback)(a=>{if(!(q||ag.isUpdatingSelection||!aw.hasSelectableTarget(K,a.target)||bB(a,J.onBlur))){var b=aw.findDocumentOrShadowRoot(K);if(ag.latestElement!==b.activeElement){var{relatedTarget:c}=a,d=aw.toDOMNode(K,K);if(!(c===d||ah(c)&&c.hasAttribute("data-slate-spacer"))){if(null!=c&&ai(c)&&aw.hasDOMNode(K,c)){var e=aw.toSlateNode(K,c);if(l.W_.isElement(e)&&!K.isVoid(e))return}if(z){var f=b.getSelection();null==f||f.removeAllRanges()}T.delete(K)}}}},[q,ag.isUpdatingSelection,ag.latestElement,K,J.onBlur]),onClick:(0,j.useCallback)(a=>{if(aw.hasTarget(K,a.target)&&!bB(a,J.onClick)&&ai(a.target)){var b=aw.toSlateNode(K,a.target),c=aw.findPath(K,b);if(l.ML.hasPath(K,c)&&l.NB.get(K,c)===b){if(3===a.detail&&c.length>=1){var d=c;if(!(l.W_.isElement(b)&&l.ML.isBlock(K,b))){var e,f=l.ML.above(K,{match:a=>l.W_.isElement(a)&&l.ML.isBlock(K,a),at:c});d=null!==(e=null==f?void 0:f[1])&& void 0!==e?e:c.slice(0,1)}var g=l.ML.range(K,d);l.YR.select(K,g);return}if(!q){var h=l.ML.start(K,c),i=l.ML.end(K,c),j=l.ML.void(K,{at:h}),k=l.ML.void(K,{at:i});if(j&&k&&l.y$.equals(j[1],k[1])){var m=l.ML.range(K,h);l.YR.select(K,m)}}}}},[K,J.onClick,q]),onCompositionEnd:(0,j.useCallback)(a=>{if(aw.hasSelectableTarget(K,a.target)){var b;if(aw.isComposing(K)&&(Q(!1),U.set(K,!1)),null===(b=aj.current)|| void 0===b||b.handleCompositionEnd(a),!bB(a,J.onCompositionEnd)&&!x&& !z&&!E&&!v&&!G&&!F&&a.data){var c=Y.get(K);Y.delete(K),void 0!==c&&(Z.set(K,K.marks),K.marks=c),l.ML.insertText(K,a.data);var d=Z.get(K);Z.delete(K),void 0!==d&&(K.marks=d)}}},[J.onCompositionEnd,K]),onCompositionUpdate:(0,j.useCallback)(a=>{!aw.hasSelectableTarget(K,a.target)||bB(a,J.onCompositionUpdate)||aw.isComposing(K)||(Q(!0),U.set(K,!0))},[J.onCompositionUpdate,K]),onCompositionStart:(0,j.useCallback)(a=>{if(aw.hasSelectableTarget(K,a.target)&&(null===(b=aj.current)|| void 0===b||b.handleCompositionStart(a),!bB(a,J.onCompositionStart)&&!x)){Q(!0);var b,{selection:c}=K;if(c){if(l.e6.isExpanded(c)){l.ML.deleteFragment(K);return}var d=l.ML.above(K,{match:a=>l.W_.isElement(a)&&l.ML.isInline(K,a),mode:"highest"});if(d){var[,e]=d;if(l.ML.isEnd(K,c.anchor,e)){var f=l.ML.after(K,e);l.YR.setSelection(K,{anchor:f,focus:f})}}}}},[J.onCompositionStart,K]),onCopy:(0,j.useCallback)(a=>{!aw.hasSelectableTarget(K,a.target)||bB(a,J.onCopy)||bC(a)||(a.preventDefault(),aw.setFragmentData(K,a.clipboardData,"copy"))},[J.onCopy,K]),onCut:(0,j.useCallback)(a=>{if(!q&&aw.hasSelectableTarget(K,a.target)&&!bB(a,J.onCut)&&!bC(a)){a.preventDefault(),aw.setFragmentData(K,a.clipboardData,"cut");var{selection:b}=K;if(b){if(l.e6.isExpanded(b))l.ML.deleteFragment(K);else{var c=l.NB.parent(K,b.anchor.path);l.ML.isVoid(K,c)&&l.YR.delete(K)}}}},[q,K,J.onCut]),onDragOver:(0,j.useCallback)(a=>{if(aw.hasTarget(K,a.target)&&!bB(a,J.onDragOver)){var b=aw.toSlateNode(K,a.target);l.W_.isElement(b)&&l.ML.isVoid(K,b)&&a.preventDefault()}},[J.onDragOver,K]),onDragStart:(0,j.useCallback)(a=>{if(!q&&aw.hasTarget(K,a.target)&&!bB(a,J.onDragStart)){var b=aw.toSlateNode(K,a.target),c=aw.findPath(K,b);if(l.W_.isElement(b)&&l.ML.isVoid(K,b)||l.ML.void(K,{at:c,voids:!0})){var d=l.ML.range(K,c);l.YR.select(K,d)}ag.isDraggingInternally=!0,aw.setFragmentData(K,a.dataTransfer,"drag")}},[q,K,J.onDragStart,ag]),onDrop:(0,j.useCallback)(a=>{if(!q&&aw.hasTarget(K,a.target)&&!bB(a,J.onDrop)){a.preventDefault();var b=K.selection,c=aw.findEventRange(K,a),d=a.dataTransfer;l.YR.select(K,c),ag.isDraggingInternally&&b&&!l.e6.equals(b,c)&&!l.ML.void(K,{at:c,voids:!0})&&l.YR.delete(K,{at:b}),aw.insertData(K,d),aw.isFocused(K)||aw.focus(K)}ag.isDraggingInternally=!1},[q,K,J.onDrop,ag]),onDragEnd:(0,j.useCallback)(a=>{!q&&ag.isDraggingInternally&&J.onDragEnd&&aw.hasTarget(K,a.target)&&J.onDragEnd(a),ag.isDraggingInternally=!1},[q,ag,J,K]),onFocus:(0,j.useCallback)(a=>{if(!q&&!ag.isUpdatingSelection&&aw.hasEditableTarget(K,a.target)&&!bB(a,J.onFocus)){var b=aw.toDOMNode(K,K),c=aw.findDocumentOrShadowRoot(K);if(ag.latestElement=c.activeElement,y&&a.target!==b){b.focus();return}T.set(K,!0)}},[q,ag,K,J.onFocus]),onKeyDown:(0,j.useCallback)(a=>{if(!q&&aw.hasEditableTarget(K,a.target)){null===(b=aj.current)|| void 0===b||b.handleKeyDown(a);var b,{nativeEvent:c}=a;if(aw.isComposing(K)&& !1===c.isComposing&&(U.set(K,!1),Q(!1)),!(bB(a,J.onKeyDown)||aw.isComposing(K))){var{selection:d}=K,f=K.children[null!==d?d.focus.path[0]:0],g="rtl"===e()(l.NB.string(f));if(bn.isRedo(c)){a.preventDefault();var h=K;"function"==typeof h.redo&&h.redo();return}if(bn.isUndo(c)){a.preventDefault();var i=K;"function"==typeof i.undo&&i.undo();return}if(bn.isMoveLineBackward(c)){a.preventDefault(),l.YR.move(K,{unit:"line",reverse:!0});return}if(bn.isMoveLineForward(c)){a.preventDefault(),l.YR.move(K,{unit:"line"});return}if(bn.isExtendLineBackward(c)){a.preventDefault(),l.YR.move(K,{unit:"line",edge:"focus",reverse:!0});return}if(bn.isExtendLineForward(c)){a.preventDefault(),l.YR.move(K,{unit:"line",edge:"focus"});return}if(bn.isMoveBackward(c)){a.preventDefault(),d&&l.e6.isCollapsed(d)?l.YR.move(K,{reverse:!g}):l.YR.collapse(K,{edge:"start"});return}if(bn.isMoveForward(c)){a.preventDefault(),d&&l.e6.isCollapsed(d)?l.YR.move(K,{reverse:g}):l.YR.collapse(K,{edge:"end"});return}if(bn.isMoveWordBackward(c)){a.preventDefault(),d&&l.e6.isExpanded(d)&&l.YR.collapse(K,{edge:"focus"}),l.YR.move(K,{unit:"word",reverse:!g});return}if(bn.isMoveWordForward(c)){a.preventDefault(),d&&l.e6.isExpanded(d)&&l.YR.collapse(K,{edge:"focus"}),l.YR.move(K,{unit:"word",reverse:g});return}if(I){if((B||z)&&d&&(bn.isDeleteBackward(c)||bn.isDeleteForward(c))&&l.e6.isCollapsed(d)){var j=l.NB.parent(K,d.anchor.path);if(l.W_.isElement(j)&&l.ML.isVoid(K,j)&&(l.ML.isInline(K,j)||l.ML.isBlock(K,j))){a.preventDefault(),l.ML.deleteBackward(K,{unit:"block"});return}}}else{if(bn.isBold(c)||bn.isItalic(c)||bn.isTransposeCharacter(c)){a.preventDefault();return}if(bn.isSoftBreak(c)){a.preventDefault(),l.ML.insertSoftBreak(K);return}if(bn.isSplitBlock(c)){a.preventDefault(),l.ML.insertBreak(K);return}if(bn.isDeleteBackward(c)){a.preventDefault(),d&&l.e6.isExpanded(d)?l.ML.deleteFragment(K,{direction:"backward"}):l.ML.deleteBackward(K);return}if(bn.isDeleteForward(c)){a.preventDefault(),d&&l.e6.isExpanded(d)?l.ML.deleteFragment(K,{direction:"forward"}):l.ML.deleteForward(K);return}if(bn.isDeleteLineBackward(c)){a.preventDefault(),d&&l.e6.isExpanded(d)?l.ML.deleteFragment(K,{direction:"backward"}):l.ML.deleteBackward(K,{unit:"line"});return}if(bn.isDeleteLineForward(c)){a.preventDefault(),d&&l.e6.isExpanded(d)?l.ML.deleteFragment(K,{direction:"forward"}):l.ML.deleteForward(K,{unit:"line"});return}if(bn.isDeleteWordBackward(c)){a.preventDefault(),d&&l.e6.isExpanded(d)?l.ML.deleteFragment(K,{direction:"backward"}):l.ML.deleteBackward(K,{unit:"word"});return}if(bn.isDeleteWordForward(c)){a.preventDefault(),d&&l.e6.isExpanded(d)?l.ML.deleteFragment(K,{direction:"forward"}):l.ML.deleteForward(K,{unit:"word"});return}}}}},[q,K,J.onKeyDown]),onPaste:(0,j.useCallback)(a=>{!q&&aw.hasEditableTarget(K,a.target)&&!bB(a,J.onPaste)&&(!I||al(a.nativeEvent)||z)&&(a.preventDefault(),aw.insertData(K,a.clipboardData))},[q,K,J.onPaste])}),j.createElement(bw,{decorations:ap,node:K,renderElement:r,renderPlaceholder:u,renderLeaf:s,selection:K.selection})))))},by=a=>{var{attributes:b,children:c}=a;return j.createElement("span",bv({},b),c,x&&j.createElement("br",null))},bz=()=>[],bA=(a,b)=>{if(b.getBoundingClientRect&&(!a.selection||a.selection&&l.e6.isCollapsed(a.selection))){var c=b.startContainer.parentElement;c.getBoundingClientRect=b.getBoundingClientRect.bind(b),(0,k.Z)(c,{scrollMode:"if-needed"}),delete c.getBoundingClientRect}},bB=(a,b)=>{if(!b)return!1;var c=b(a);return null!=c?c:a.isDefaultPrevented()||a.isPropagationStopped()},bC=a=>ai(a.target)&&(a.target instanceof HTMLInputElement||a.target instanceof HTMLTextAreaElement),bD=(a,b)=>{if(!b)return!1;var c=b(a);return null!=c?c:a.defaultPrevented},bE=(0,j.createContext)(!1),bF=()=>(0,j.useContext)(bE),bG=(0,j.createContext)({}),bH=(a,b)=>a===b;function bI(a){var b,c,d=arguments.length>1&& void 0!==arguments[1]?arguments[1]:bH,[,e]=(0,j.useReducer)(a=>a+1,0),f=(0,j.useContext)(bG);if(!f)throw Error("The `useSlateSelector` hook must be used inside the <Slate> component's context.");var{getSlate:g,addEventListener:h}=f,i=(0,j.useRef)(),k=(0,j.useRef)(()=>null),l=(0,j.useRef)(null);try{c=a!==k.current||i.current?a(g()):l.current}catch(m){throw i.current&&(b=m)instanceof Error&&(m.message+="\nThe error may be correlated with this previous error:\n".concat(i.current.stack,"\n\n")),m}return aJ(()=>{k.current=a,l.current=c,i.current=void 0}),aJ(()=>{function a(){try{var a=k.current(g());if(d(a,l.current))return;l.current=a}catch(b){b instanceof Error?i.current=b:i.current=Error(String(b))}e()}var b=h(a);return a(),()=>b()},[h,g]),c}var bJ=["editor","children","onChange","onSelectionChange","onValueChange","initialValue"],bK=a=>{var b,c,d,e,f,{editor:g,children:h,onChange:i,onSelectionChange:k,onValueChange:m,initialValue:n}=a,o=p(a,bJ),[q,r]=j.useState(()=>{if(!l.NB.isNodeList(n))throw Error("[Slate] initialValue is invalid! Expected a list of elements but got: ".concat(l.o4.stringify(n)));if(!l.ML.isEditor(g))throw Error("[Slate] editor is invalid! You passed: ".concat(l.o4.stringify(g)));return g.children=n,Object.assign(g,o),{v:0,editor:g}}),{selectorContext:t,onChange:v}=(b=g,c=(0,j.useRef)([]).current,d=(0,j.useRef)({editor:b}).current,e=(0,j.useCallback)(a=>{d.editor=a,c.forEach(b=>b(a))},[c,d]),f=(0,j.useMemo)(()=>({getSlate:()=>d.editor,addEventListener:a=>(c.push(a),()=>{c.splice(c.indexOf(a),1)})}),[c,d]),{selectorContext:f,onChange:e}),w=(0,j.useCallback)(a=>{var b;(i&&i(g.children),(null==a||null===(b=a.operation)|| void 0===b?void 0:b.type)==="set_selection")?null==k||k(g.selection):null==m||m(g.children),r(a=>({v:a.v+1,editor:g})),v(g)},[g,v,i,k,m]);(0,j.useEffect)(()=>(W.set(g,w),()=>{W.set(g,()=>{})}),[g,w]);var[x,y]=(0,j.useState)(aw.isFocused(g));return(0,j.useEffect)(()=>{y(aw.isFocused(g))},[g]),aJ(()=>{var a=()=>y(aw.isFocused(g));return u>=17?(document.addEventListener("focusin",a),document.addEventListener("focusout",a),()=>{document.removeEventListener("focusin",a),document.removeEventListener("focusout",a)}):(document.addEventListener("focus",a,!0),document.addEventListener("blur",a,!0),()=>{document.removeEventListener("focus",a,!0),document.removeEventListener("blur",a,!0)})},[]),j.createElement(bG.Provider,{value:t},j.createElement(bh.Provider,{value:q},j.createElement(s.Provider,{value:q.editor},j.createElement(bE.Provider,{value:x},h))))},bL=()=>bI(a=>a.selection,bM),bM=(a,b)=>!a&&!b|| !!a&&!!b&&l.e6.equals(a,b),bN=(a,b)=>{var c=(b.top+b.bottom)/2;return a.top<=c&&a.bottom>=c},bO=(a,b,c)=>{var d=aw.toDOMRange(a,b).getBoundingClientRect(),e=aw.toDOMRange(a,c).getBoundingClientRect();return bN(d,e)&&bN(e,d)},bP=(a,b)=>{var c=l.ML.range(a,l.e6.end(b)),d=Array.from(l.ML.positions(a,{at:b})),e=0,f=d.length,g=Math.floor(f/2);if(bO(a,l.ML.range(a,d[e]),c))return l.ML.range(a,d[e],c);if(d.length<2)return l.ML.range(a,d[d.length-1],c);for(;g!==d.length&&g!==e;)bO(a,l.ML.range(a,d[g]),c)?f=g:e=g,g=Math.floor((e+f)/2);return l.ML.range(a,d[f],c)};function bQ(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function bR(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?bQ(Object(c),!0).forEach(function(b){r(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):bQ(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var bS=function(a){var b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:"x-slate-fragment",c=a,{apply:d,onChange:e,deleteBackward:f,addMark:g,removeMark:h}=c;return R.set(c,new WeakMap),c.addMark=(a,b)=>{var d,e;null===(d=X.get(c))|| void 0===d||d(),!Y.get(c)&&null!==(e=$.get(c))&& void 0!==e&&e.length&&Y.set(c,null),Z.delete(c),g(a,b)},c.removeMark=a=>{var b;!Y.get(c)&&null!==(b=$.get(c))&& void 0!==b&&b.length&&Y.set(c,null),Z.delete(c),h(a)},c.deleteBackward=a=>{if("line"!==a)return f(a);if(c.selection&&l.e6.isCollapsed(c.selection)){var b=l.ML.above(c,{match:a=>l.W_.isElement(a)&&l.ML.isBlock(c,a),at:c.selection});if(b){var[,d]=b,e=l.ML.range(c,d,c.selection.anchor),g=bP(c,e);l.e6.isCollapsed(g)||l.YR.delete(c,{at:g})}}},c.apply=b=>{var e=[],f=[],g=$.get(c);if(null!=g&&g.length){var h=g.map(a=>(function(a,b){var{path:c,diff:d,id:e}=a;switch(b.type){case"insert_text":if(!l.y$.equals(b.path,c)||b.offset>=d.end)return a;if(b.offset<=d.start)return{diff:{start:b.text.length+d.start,end:b.text.length+d.end,text:d.text},id:e,path:c};return{diff:{start:d.start,end:d.end+b.text.length,text:d.text},id:e,path:c};case"remove_text":if(!l.y$.equals(b.path,c)||b.offset>=d.end)return a;if(b.offset+b.text.length<=d.start)return{diff:{start:d.start-b.text.length,end:d.end-b.text.length,text:d.text},id:e,path:c};return{diff:{start:d.start,end:d.end-b.text.length,text:d.text},id:e,path:c};case"split_node":if(!l.y$.equals(b.path,c)||b.position>=d.end)return{diff:d,id:e,path:l.y$.transform(c,b,{affinity:"backward"})};if(b.position>d.start)return{diff:{start:d.start,end:Math.min(b.position,d.end),text:d.text},id:e,path:c};return{diff:{start:d.start-b.position,end:d.end-b.position,text:d.text},id:e,path:l.y$.transform(c,b,{affinity:"forward"})};case"merge_node":if(!l.y$.equals(b.path,c))return{diff:d,id:e,path:l.y$.transform(c,b)};return{diff:{start:d.start+b.position,end:d.end+b.position,text:d.text},id:e,path:l.y$.transform(c,b)}}var f=l.y$.transform(c,b);return f?{diff:d,path:f,id:e}:null})(a,b)).filter(Boolean);$.set(c,h)}var i=aa.get(c);i&&aa.set(c,aE(c,i,b));var j=_.get(c);if(null!=j&&j.at){var k=l.E9.isPoint(null==j?void 0:j.at)?aD(c,j.at,b):aE(c,j.at,b);_.set(c,k?bR(bR({},j),{},{at:k}):null)}switch(b.type){case"insert_text":case"remove_text":case"set_node":case"split_node":e.push(...bT(c,b.path));break;case"set_selection":null===(n=V.get(c))|| void 0===n||n.unref(),V.delete(c);break;case"insert_node":case"remove_node":e.push(...bT(c,l.y$.parent(b.path)));break;case"merge_node":e.push(...bT(c,l.y$.previous(b.path)));break;case"move_node":e.push(...bT(c,l.y$.common(l.y$.parent(b.path),l.y$.parent(b.newPath)))),l.y$.isBefore(b.path,b.newPath)?(e.push(...bT(c,l.y$.parent(b.path))),o=b.newPath):(e.push(...bT(c,l.y$.parent(b.newPath))),o=b.path);var m,n,o,p,q=l.NB.get(a,l.y$.parent(o)),r=aw.findKey(c,q);f.push([l.ML.pathRef(c,l.y$.parent(o)),r])}for(var[s,t]of(d(b),e)){var[u]=l.ML.node(c,s);Q.set(u,t)}for(var[v,w]of f)if(v.current){var[x]=l.ML.node(c,v.current);Q.set(x,w)}},c.setFragmentData=a=>{var{selection:d}=c;if(d){var[e,f]=l.e6.edges(d),g=l.ML.void(c,{at:e.path}),h=l.ML.void(c,{at:f.path});if(!l.e6.isCollapsed(d)||g){var i=aw.toDOMRange(c,d),j=i.cloneContents(),k=j.childNodes[0];if(j.childNodes.forEach(a=>{a.textContent&&""!==a.textContent.trim()&&(k=a)}),h){var[m]=h,n=i.cloneRange(),o=aw.toDOMNode(c,m);n.setEndAfter(o),j=n.cloneContents()}if(g&&(k=j.querySelector("[data-slate-spacer]")),Array.from(j.querySelectorAll("[data-slate-zero-width]")).forEach(a=>{var b="n"===a.getAttribute("data-slate-zero-width");a.textContent=b?"\n":""}),ak(k)){var p=k.ownerDocument.createElement("span");p.style.whiteSpace="pre",p.appendChild(k),j.appendChild(p),k=p}var q=JSON.stringify(c.getFragment()),r=window.btoa(encodeURIComponent(q));k.setAttribute("data-slate-fragment",r),a.setData("application/".concat(b),r);var s=j.ownerDocument.createElement("div");return s.appendChild(j),s.setAttribute("hidden","true"),j.ownerDocument.body.appendChild(s),a.setData("text/html",s.innerHTML),a.setData("text/plain",aq(s)),j.ownerDocument.body.removeChild(s),a}}},c.insertData=a=>{c.insertFragmentData(a)||c.insertTextData(a)},c.insertFragmentData=a=>{var d=a.getData("application/".concat(b))||as(a);if(d){var e=JSON.parse(decodeURIComponent(window.atob(d)));return c.insertFragment(e),!0}return!1},c.insertTextData=a=>{var b=a.getData("text/plain");if(b){var d=b.split(/\r\n|\r|\n/),e=!1;for(var f of d)e&&l.YR.splitNodes(c,{always:!0}),c.insertText(f),e=!0;return!0}return!1},c.onChange=a=>{(u<18?o.unstable_batchedUpdates:a=>a())(()=>{var b=W.get(c);b&&b(a),e(a)})},c},bT=(a,b)=>{var c=[];for(var[d,e]of l.ML.levels(a,{at:b})){var f=aw.findKey(a,d);c.push([e,f])}return c}}}])
//# sourceMappingURL=https://js.educative.io/static/_next/sourcemaps/static/chunks/c3c51995-a566d53332cf9706.js.map