"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[41921],{78695:function(a,b,c){c.d(b,{B:function(){return e}});var d=c(10308),e=function(a){var b=a.course_type,c=a.work_type,e=void 0===c?"":c,f=a.pathId,g=a.pathAuthorId,h=a.isPrivate,i=a.organizationId,j=a.isPlan,k=a.isTemplate,l=a.isGlobal,m=a.cascadeCollaboration,n=a.enableCollaborativeEditor;return(0,d.Z)({url:"/api/author/collection".concat(e?"?work_type=".concat(e):""),type:"POST",data:{course_type:void 0===b?"":b,path_id:void 0===f?"":f,path_author_id:void 0===g?"":g,is_private:void 0!==h&&h,organization_id:void 0===i?null:i,is_plan:void 0!==j&&j,is_template:void 0!==k&&k,is_global:void 0!==l&&l,cascade_collaboration:void 0!==m&&m,enable_collaborative_editor:void 0!==n&&n}})}},10617:function(a,b,c){var d=c(81094),e=c(71653),f=c(55404),g=c(10642),h=function(a){var b=a.assessmentId,c=void 0===b?null:b,h=a.authorId,i=a.cloudLabId,j=void 0===i?null:i,k=a.collectionId,l=a.courseUrlSlug,m=void 0===l?null:l,n=a.customWorkType,o=a.id,p=void 0===o?null:o,q=a.isDraft,r=void 0!==q&&q,s=a.isVersionsPage,t=a.isCloudCourseTestMode,u=a.isCollaboratorReviewMode,v=void 0!==u&&u,w=a.isEnterpriseAssessment,x=a.isEnterpriseTrialReadonlyMode,y=a.isQuestionnaire,z=a.isStandaloneModule,A=a.isStandaloneProject,B=void 0!==A&&A,C=a.isSkillAssessment,D=void 0!==C&&C,E=a.isStandaloneCloudLab,F=void 0!==E&&E,G=a.parentWorkAuthorId,H=void 0===G?null:G,I=a.parentWorkId,J=void 0===I?null:I,K=a.parentWorkType,L=void 0===K?e.dLO.PATH:K,M=a.projectId,N=void 0===M?null:M,O=a.shotUrl,P=void 0===O?null:O,Q=a.pageSlug,R=void 0===Q?null:Q,S=a.isGuide,T=!!H&&!!J,U=T&&L===e.dLO.PATH?e.dLO.MODULE:(void 0===n?null:n)||e.dLO.COLLECTION,V=new d.Z,W=function(){return V.encode(Number(H),Number(J))},X="".concat(void 0===h?null:h,"/").concat(void 0===k?null:k),Y=(0,g.Z)(U,!0);return{viewUrl:{href:P?"/answers/".concat(P):void 0!==z&&z|| void 0!==x&&x?"/modules/page/".concat(X,"/").concat(c?"".concat(c,"/assessment"):N?"".concat(N,"/project"):p):void 0!==S&&S&&m&&R?"/".concat(m,"/").concat(R).concat(c?"/assessment":N?"/project":j?"/cloudlab":""):(r||!m||F||B||D?"/".concat(U,"/page").concat(T?"/".concat(W()):"","/").concat(X,"/").concat(p||c||N||j):(0,f.BT)(m,p||c||N||j,Y,R,T))+"".concat(!r&&c?"/assessment":N?"/project":j?F&&m?"":"/cloudlab":"").concat(void 0!==s&&s?"/versions":"")},editUrl:P?{href:"/answereditor/".concat(p)}:c?{href:"/assessmenteditor/".concat(X,"/").concat(c).concat(v?"/preview":"")}:N?{href:"/projecteditor/".concat(X,"/").concat(N).concat(v?"/preview":"")}:j?{href:"/cloudlabeditor/".concat(X,"/").concat(j).concat(v?"/preview":"")}:{href:"/pageeditor/".concat(X,"/").concat(p).concat(void 0!==t&&t?"?test_lab=true":"")},assessmentQuestionEditUrl:{href:"".concat(void 0!==w&&w?"/enterprise":"","/assessmenteditor/").concat(X,"/").concat(c,"/").concat(p).concat(void 0!==y&&y?"?assessment_type=questionnaire":"")},assessmentQuestionViewUrl:v?{href:"/assessmenteditor/".concat(X,"/").concat(c,"/").concat(p,"/preview")}:D&&m&&!T?{href:"/assessments/".concat(m,"/").concat(V.encode(Number(p)))}:{href:"/assessment".concat(T?"/".concat(W()):"","/").concat(X,"/").concat(c,"/").concat(p)},projectComponentEditUrl:{href:"/projecteditor/".concat(X,"/").concat(N,"/").concat(p)},cloudLabTaskEditUrl:{href:"/cloudlabeditor/".concat(X,"/").concat(j,"/").concat(p).concat(v?"/preview":"")},projectComponentViewUrl:v?{href:"/projecteditor/".concat(X,"/").concat(N,"/").concat(p,"/preview")}:B&&m&&!T?{href:"/projects/".concat(m,"/").concat(V.encode(Number(p)))}:{href:"/project".concat(T?"/".concat(W()):"","/").concat(X,"/").concat(N,"/").concat(p)},cloudLabTaskViewUrl:{href:m&&F&&!T?"/cloudlabs/".concat(m,"/").concat(V.encode(Number(p))):"/cloudlab".concat(T?"/".concat(W()):"","/").concat(X,"/").concat(j,"/").concat(p)}}};b.Z=h},4507:function(a,b,c){var d=c(66729),e=c(73472),f=c(90699),g=function(a){var b=a.completed,c=a.disabled,g=a.empty,h=a.fillWhite,i=void 0!==h&&h,j=a.invertOnDarkMode,k=a.locked,l=void 0!==k&&k,m=a.selected,n=a.adaptiveLearningCompletionEnabled;return void 0!==n&&n&&!l?(0,d.jsx)(f.Z,{background:"bg-white dark:bg-gray-D700",border:"border-green-500 border border-solid"}):void 0!==c&&c?(0,d.jsx)(f.Z,{}):void 0!==b&&b?(0,d.jsx)(f.Z,{background:"bg-green-500 dark:bg-green-700",border:"border-0"}):l?(0,d.jsxs)("svg",{className:void 0===j||j?"dark:invert":"","data-testid":"lockedSvg",fill:"none",height:"15",name:"locked-lesson",viewBox:"0 0 11 13",width:"15",children:[(0,d.jsx)("path",{d:"M9.625 4.33197H8.9375V3.21769C8.9375 1.73197 7.8375 0.357686 6.215 0.0729242C4.00125 -0.335647 2.0625 1.17483 2.0625 3.09388V4.33197H1.375C0.61875 4.33197 0 4.88911 0 5.57007V11.7605C0 12.4415 0.61875 12.9986 1.375 12.9986H9.625C10.3813 12.9986 11 12.4415 11 11.7605V5.57007C11 4.88911 10.3813 4.33197 9.625 4.33197Z",fill:i?e.colors.white:e.colors.black}),(0,d.jsx)("path",{d:"M5.12875 1.20093C4.125 1.37427 3.4375 2.24093 3.4375 3.15712V4.33331H7.5625V3.09522C7.5625 1.91903 6.435 0.990458 5.12875 1.20093Z",fill:i?e.colors.black:e.colors.white}),(0,d.jsx)("path",{d:"M5.375 9.47619C6.13439 9.47619 6.75 8.92188 6.75 8.2381C6.75 7.55431 6.13439 7 5.375 7C4.61561 7 4 7.55431 4 8.2381C4 8.92188 4.61561 9.47619 5.375 9.47619Z",fill:i?e.colors.black:e.colors.white})]}):void 0!==g&&g?(0,d.jsx)(f.Z,{background:""}):void 0!==m&&m?(0,d.jsx)(f.Z,{background:"bg-gray-L900 dark:bg-gray-D700",border:"border-none"}):(0,d.jsx)(f.Z,{})};b.Z=g},90699:function(a,b,c){var d=c(66729),e=function(a){var b=a.background,c=a.border,e=a.size,f=void 0===e?"15px":e;return(0,d.jsx)("div",{className:"".concat(void 0===b?"bg-gray-L50 dark:bg-gray-D1200":b," ").concat(void 0===c?"border border-gray-L900 border-solid dark:border-gray-D700":c," flex-shrink-0 rounded-full"),style:{height:f,width:f}})};b.Z=e},65717:function(a,b,c){c.d(b,{DL:function(){return r},Kl:function(){return q},QG:function(){return u},Vl:function(){return w},kh:function(){return n},mE:function(){return s},n3:function(){return t},sr:function(){return p},t2:function(){return v},vC:function(){return o}});var d=c(54551),e=c.n(d),f=c(10308),g=c(10617);function h(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function i(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function j(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){i(f,d,e,g,h,"next",a)}function h(a){i(f,d,e,g,h,"throw",a)}g(void 0)})}}function k(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var l,m,n={COURSE_LEVEL:3e3,TOPIC_LEVEL:3001},o={DEFAULT:2e3,ADAPTIVE:2001},p=(l=j(e().mark(function a(b,c){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,f.Z)({url:"/api/collection/".concat(b,"/").concat(c,"/toggle-collection-toc"),type:"POST"});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},a)})),function(a,b){return l.apply(this,arguments)}),q=(m=j(e().mark(function a(b,c,d){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,f.Z)({url:"/api/collection/".concat(b,"/").concat(c,"/").concat(d,"/update-completion"),type:"POST"});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},a)})),function(a,b,c){return m.apply(this,arguments)}),r=function(a,b){return a.categories.some(function(a){return a.pages.some(function(a){return a.id===b})})},s=function(a,b,c,d,e,f,h,i){return function(j){var k=(null==j?void 0:j.in_active_toc)||{categories:[]},l=(d.find(function(a){return a.id===c}).categories||[]).map(function(a){return k.categories.find(function(b){var c;return b.id===a&&(null===(c=b.pages)|| void 0===c?void 0:c.length)})})[0],m=l&&l.pages[0];if(a.setRecommendedTOC(j),i&&i(),m&&m.id!==b){var n=(0,g.Z)({authorId:e,collectionId:f,id:m.id}).viewUrl;h.push(n.href)}}},t=function(a,b,c,d){return d&&(null==a?void 0:a.active_toc_mode)===o.ADAPTIVE&&!(null==a?void 0:a.lessons_completed.includes(b))&&(null==a?void 0:a.pathway_accepted_category_ids.includes(c))},u=function(a,b){var c,d=null==a?void 0:null===(c=a.categories)|| void 0===c?void 0:c.find(function(a){var c;return null===(c=a.pages)|| void 0===c?void 0:c.some(function(a){return a.page_id===b})});return d?d.id:null},v=function(a){var b={};return a.map(function(a){return a.categories.map(function(c){return b[c]=a.id})}),b},w=function(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:[],b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:[],c=[],d=v(b);return a.map(function(a){if(a.id in d){var b=!1;c.forEach(function(c){c.id===d[a.id]&&(c.categories.push(a),b=!0)}),b||c.push({categories:[a],id:d[a.id]})}else{var e,f,g,i=c.pop();i&&c.push((f=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){k(a,b,c[b])})}return a}({},i),g={categories:((function(a){if(Array.isArray(a))return h(a)})(e=i.categories)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(e)||function a(b,c){if(b){if("string"==typeof b)return h(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);if("Object"===d&&b.constructor&&(d=b.constructor.name),"Map"===d||"Set"===d)return Array.from(d);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return h(b,c)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([a])},g=null!=g?g:{},Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(g)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(g)).forEach(function(a){Object.defineProperty(f,a,Object.getOwnPropertyDescriptor(g,a))}),f))}return""}),c}},67113:function(a,b,c){c.d(b,{M:function(){return e}});var d=c(10308),e=function(a,b){var c,e,f;(0,d.Z)({url:"/api/user/onboarding/tutorial-status",type:"POST",data:(c={},f=!0,(e=a)in c?Object.defineProperty(c,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):c[e]=f,c)}).then(function(){b({type:"setUserOnboardingTutorialStatus",payload:a})}).catch(function(){})}},60846:function(a,b){b.Z={Code:!1,Markdown:!1,RunJS:!1,SPA:!1}},5770:function(a,b,c){c.d(b,{Gr:function(){return y},J4:function(){return B},Lc:function(){return z},Mk:function(){return C},QY:function(){return r},SK:function(){return t},WL:function(){return u},oW:function(){return s},on:function(){return A},pj:function(){return w},qH:function(){return v},sS:function(){return x}});var d=c(54551),e=c.n(d),f=c(66729),g=c(67341),h=c(10308),i=c(10617),j=c(4507),k=c(20406),l=c(95410),m=c(38377),n=c(92118),o=c(95924);function p(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function q(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}var r=function(a,b){return a.findIndex(function(a){return a.id===b})},s=function(a){return(null==a?void 0:a[0].title)==="__default"},t=function(a,b,c,d,e,f){var g=a.toc.categories;if(g.forEach(function(a){return a.editMode=!1}),void 0!==e){var h=g[e].pages,i=h.splice(d+1);h=h.slice(0,d+1);var j=h,k=new n.Z(!1,b,!1,f);(k=JSON.parse(JSON.stringify(k))).pages=i,g[e].pages=j,g.splice(e+1,0,k)}else{var l=new n.Z(!1,b,c,f);l=JSON.parse(JSON.stringify(l)),g.push(l)}},u=function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o=arguments.length>5&& void 0!==arguments[5]?arguments[5]:"",p=new m.Z({id:parseInt(b),type:e,title:o});null==d?null==a||null===(j=a.data)|| void 0===j||null===(k=j.toc)|| void 0===k||null===(l=k.categories)|| void 0===l||null===(n=l[c])|| void 0===n||n.pages.push(JSON.parse(JSON.stringify(p))):null==a||null===(f=a.data)|| void 0===f||null===(g=f.toc)|| void 0===g||null===(h=g.categories)|| void 0===h||null===(i=h[c])|| void 0===i||i.pages.splice(d+1,0,JSON.parse(JSON.stringify(p)))},v=function(a){return{categories:[JSON.parse(JSON.stringify(new n.Z(!0,!1,!1,a))),]}},w=function(a){var b=arguments.length>1&& void 0!==arguments[1]&&arguments[1],c=arguments.length>2&& void 0!==arguments[2]&&arguments[2],d=arguments.length>3&& void 0!==arguments[3]&&arguments[3];return a===l.jf.COMPLETED?(0,f.jsx)("div",{className:"flex h-6 w-6 items-center justify-center ".concat(d?"":"rounded-full bg-green-800 p-1"),children:(0,f.jsx)(k.Z,{className:d?"":"h-5 w-5 fill-current text-green-100"})}):(0,f.jsx)("div",{className:"flex h-6 w-6 items-center justify-center",children:(0,f.jsx)(j.Z,{fillWhite:!d,invertOnDarkMode:d,locked:b,selected:c})})},x=function(a,b){return a.reduce(function(a,c,d){var e,f=c.pages.filter(function(a){return a.title.toLowerCase().includes(b.toLowerCase())});return f.length?((function(a){if(Array.isArray(a))return p(a)})(e=a)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(e)||function a(b,c){if(b){if("string"==typeof b)return p(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);if("Object"===d&&b.constructor&&(d=b.constructor.name),"Map"===d||"Set"===d)return Array.from(d);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return p(b,c)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([{title:c.title,pages:f,index:d+1},]):a},[])},y=function(a){var b=a.authorId,c=a.collectionId,d=a.pageId,e=a.documentId,f=a.urlSlug,g=a.isStandaloneProject,h=a.isProject,j=void 0!==h&&h,k=a.isPreview,l=a.isStandaloneCloudLab,m=a.parentWorkAuthorId,n=a.parentWorkId;return(0,i.Z)({authorId:b,collectionId:c,id:d,projectId:j?e:null,isDraft:!0,courseUrlSlug:void 0===f?null:f,parentWorkAuthorId:void 0===m?null:m,parentWorkId:void 0===n?null:n,isCollaboratorReviewMode:void 0!==k&&k,cloudLabId:j?null:e,isStandaloneProject:void 0!==g&&g,isStandaloneCloudLab:void 0!==l&&l})},z=function(a){var b=a.authorId,c=a.collectionId,d=a.documentId,e=a.attemptId,f=a.isProject;return"".concat(void 0===f||f?"Project_CompletionMap":"Cloud_Lab_CompletionMap","_").concat(b,"_").concat(c,"_").concat(d,"_").concat(e)},A=function(a){var b=a.authorId,c=a.collectionId,d=a.documentId,e=a.payload,f=a.attemptId,g=a.isProject,i=z({authorId:b,collectionId:c,documentId:d,attemptId:f,isProject:void 0===g||g}),j="userdata/map/".concat(i);return(0,h.Z)({url:"/api/".concat(j),type:"POST",data:{map_key_val:JSON.stringify(e)}})},B=function(a){var b,c,d=a.authorId,f=a.collectionId,h=a.documentId,i=a.attemptId,j=a.isProject,k=void 0===j||j,l=a.callback,m=void 0===l?function(){}:l;return c=(b=e().mark(function a(b){var c;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=z({authorId:d,collectionId:f,documentId:h,attemptId:i,isProject:k}),a.next=3,(0,g.D)([{map_name:c,map_keys:null}]).then(JSON.parse).then(function(a){var d;return b(o.x.setAll(null!==(d=a[c])&& void 0!==d?d:{}))}).catch(function(a){return console.log("Error Loading project completion map")}).finally(function(){"function"==typeof m&&m()});case 3:case"end":return a.stop()}},a)}),function(){var a=this,c=arguments;return new Promise(function(d,e){var f=b.apply(a,c);function g(a){q(f,d,e,g,h,"next",a)}function h(a){q(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return c.apply(this,arguments)}},C=function(a,b){a.ALL_DONE,a.LAST_VISITED;var c=function(a,b){if(null==a)return{};var c,d,e=function a(b,c){if(null==b)return{};var d,e,f={},g=Object.keys(b);for(e=0;e<g.length;e++)d=g[e],c.indexOf(d)>=0||(f[d]=b[d]);return f}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,["ALL_DONE","LAST_VISITED"]);return Object.keys(c||{}).length===b.length&&Object.values(c).every(function(a){return a.completed})}},9162:function(a,b,c){c.d(b,{Ed:function(){return H},Fx:function(){return y},"_P":function(){return I},ac:function(){return C},q6:function(){return G},sX:function(){return J}});var d=c(66729),e=c(73242),f=c(83249),g=c(21311),h=c(6224),i=c(65717),j=c(84119),k=c(71653),l=c(30797),m=c(5770),n=c(38377),o=c(70921),p=c(54854);function q(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function r(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function s(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){r(a,b,c[b])})}return a}function t(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}function u(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}(a,b)||w(a,b)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(a){return function(a){if(Array.isArray(a))return q(a)}(a)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||w(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(a,b){if(a){if("string"==typeof a)return q(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return q(a,b)}}var x={},y=[k.j1J.ASSESSMENT,k.j1J.PROJECT,k.j1J.EXTERNAL_ASSESSMENT,k.j1J.EXTERNAL_PROJECT,k.j1J.CLOUD_LAB,k.j1J.LINKED_CLOUD_LAB,],z={isLoaded:!1,isLoading:!1,isError:!1},A=(0,f.createContext)(z),B=(0,f.createContext)(null),C=(0,f.createContext)(x),D=(0,f.createContext)(null),E=function(a,b){switch(b.type){case"reset":return x;case"set":var c,d,f,g=(0,p.Sj)(b.payload.instance.details);return a=t(s({},b.payload),{instance:t(s({},b.payload.instance),{details:g})});case"updateOwnership":a.instance&&(a.instance.owned_by_reader=!0);break;case"certificateBought":a.has_purchased_certificate=!0;break;case"updateDetails":if(null===(h=a.instance)|| void 0===h?void 0:h.details){var h,q,u=b.payload,w=(u.docker,u.deleted_page_details,function(a,b){if(null==a)return{};var c,d,e=function a(b,c){if(null==b)return{};var d,e,f={},g=Object.keys(b);for(e=0;e<g.length;e++)d=g[e],c.indexOf(d)>=0||(f[d]=b[d]);return f}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(u,["docker","deleted_page_details"]));a.instance.details=s({},a.instance.details,w),(0,p.VF)(null===(q=a.instance.details)|| void 0===q?void 0:q.collection_type)&&(a.instance.details.toc.categories[0].title=a.instance.details.title)}break;case"updateWeeklyGoal":a.instance&&(a.instance.details.weekly_goal_target.weekly_goal_target=b.payload);break;case"setPagesRecovered":a.instance.details.toc.categories.forEach(function(a){return a.pages.forEach(function(a){return a.is_recovered=b.payload})});break;case"addCategory":var z,A,B,C,D,E,F,G,H,I,J,K,L,M,N=b.payload,O=N.index,P=void 0===O?null:O,Q=N.parentIndex,R=void 0===Q?null:Q,S=N.type,T=void 0===S?k.j1J.COLLECTION_CATEGORY:S,U=N.id,V=void 0===U?void 0:U,W=N.data,X=void 0===W?{}:W;T===k.j1J.CLOUD_LAB&&((null==a?void 0:null===(E=a.instance)|| void 0===E?void 0:null===(F=E.details)|| void 0===F?void 0:F.empty_cloud_labs)?a.instance.details.empty_cloud_labs=v(null==a?void 0:null===(G=a.instance)|| void 0===G?void 0:null===(H=G.details)|| void 0===H?void 0:H.empty_cloud_labs).concat([V,]):a.instance.details.empty_cloud_labs=[V],(null==a?void 0:null===(I=a.instance)|| void 0===I?void 0:null===(J=I.details)|| void 0===J?void 0:J.unapproved_cloud_labs)?a.instance.details.unapproved_cloud_labs=v(null==a?void 0:null===(K=a.instance)|| void 0===K?void 0:null===(L=K.details)|| void 0===L?void 0:L.unapproved_cloud_labs).concat([V,]):a.instance.details.unapproved_cloud_labs=[V]);var Y=X.type===k.sdh.LINKED_CLOUD_LAB,Z=(null==a?void 0:null===(z=a.instance)|| void 0===z?void 0:null===(A=z.details)|| void 0===A?void 0:A.work_type)===k.dLO.PATH,$=null==a?void 0:null===(B=a.instance)|| void 0===B?void 0:null===(C=B.details)|| void 0===C?void 0:null===(D=C.toc)|| void 0===D?void 0:D.categories,_=X.type===k.RIu.PATH_EXTERNAL_ASSESSMENT||X.type===k.RIu.PATH_EXTERNAL_PROJECT,aa=(0,m.oW)($);if(aa&&Y)a.instance.details.toc.categories[0].title="Untitled category";else if(aa&&!(Z&&_)){var ab=a.instance.details.toc.categories[0].author_id,ac=a.instance.details.toc.categories[0].collection_id,ad=a.instance.details.toc.categories[0].id;a.instance.details.toc.categories[0].title=void 0===X.title||_?"Untitled category":X.title,a.instance.details.toc.categories[0].author_id=X.author_id||ab,a.instance.details.toc.categories[0].collection_id=X.collection_id||ac,(X.type===k.RIu.PATH_EXTERNAL_ASSESSMENT||X.type===k.RIu.PATH_EXTERNAL_PROJECT)&&(a.instance.details.toc.categories[0].page_id=X.page_id||void 0),a.instance.details.toc.categories[0].id=_?ad:X.id||ad,a.instance.details.toc.categories[0].editMode="editMode"in X?X.editMode:!(y.includes(T)||Z),X.type&&!_&&(a.instance.details.toc.categories[0].type=X.type),void 0!==X.can_edit&&(a.instance.details.toc.categories[0].can_edit=X.can_edit),void 0!==X.work_type&&(a.instance.details.toc.categories[0].work_type=X.work_type),void 0!==X.is_standalone_module&&(a.instance.details.toc.categories[0].is_standalone_module=X.is_standalone_module),X.is_cloned&&(a.instance.details.toc.categories[0].is_cloned=!0,a.instance.details.toc.categories[0].source_author_id=X.source_author_id,a.instance.details.toc.categories[0].source_collection_id=X.source_collection_id,a.instance.details.toc.categories[0].source_page_id=X.source_page_id)}(y.includes(T)||!aa)&&((0,o.SK)(a.instance.details,!1,"editMode"in X?X.editMode:!(y.includes(T)||Z||T===k.j1J.COLLECTION_CATEGORY),!1,P,R,T,_?X.id:V,t(s({},X),{title:Z?(null==a?void 0:null===(M=a.instance)|| void 0===M?void 0:M.details.is_plan)?X.title:X.title||"Untitled Category":X.title})),(0,o.yE)(a),(0,o.DJ)(a),aa&&Z&&_&&a.instance.details.toc.categories.shift());break;case"updateCategoryTitle":var ae,af,ag,ah=b.payload,ai=ah.id,aj=ah.title,ak=(0,o.QY)(null===(ae=a.instance)|| void 0===ae?void 0:null===(af=ae.details)|| void 0===af?void 0:null===(ag=af.toc)|| void 0===ag?void 0:ag.categories,ai);a.instance.details.toc.categories[ak].title="__default"!==aj?aj:"",a.instance.details.toc.categories[ak].editMode=!1;break;case"removeWeekFromCategoryTitle":if(null==a?void 0:null===(am=a.instance)|| void 0===am?void 0:null===(an=am.details)|| void 0===an?void 0:null===(ao=an.toc)|| void 0===ao?void 0:ao.categories){var al=/^Week (\d+):*/;a.instance.details.toc.categories=a.instance.details.toc.categories.map(function(a){if(al.test(a.title)){var b=a.title.split(al);a.title=b[2].trim()}return a})}break;case"updateArticleTags":var am,an,ao,ap,aq,ar=b.payload,as=ar.pageId,at=ar.tags;[k.dLO.MODULE,k.dLO.PATH].includes(null==a?void 0:null===(ap=a.instance)|| void 0===ap?void 0:null===(aq=ap.details)|| void 0===aq?void 0:aq.work_type)||(a.instance.details.page_tags[as]=at);break;case"updateArticleTitle":var au=b.payload,av=au.categoryId,aw=au.pageId,ax=au.title;if(a.instance){if(av){var ay,az,aA,aB,aC,aD,aE,aF,aG=(0,o.QY)(null==a?void 0:null===(ay=a.instance)|| void 0===ay?void 0:null===(az=ay.details)|| void 0===az?void 0:null===(aA=az.toc)|| void 0===aA?void 0:aA.categories,av),aH=(0,o.QY)(null==a?void 0:null===(aB=a.instance)|| void 0===aB?void 0:null===(aC=aB.details)|| void 0===aC?void 0:null===(aD=aC.toc)|| void 0===aD?void 0:null===(aE=aD.categories)|| void 0===aE?void 0:null===(aF=aE[aG])|| void 0===aF?void 0:aF.pages,aw);a.instance.details.toc.categories[aG].pages[aH].title=ax,a.instance.details.toc.categories[aG].pages[aH].editMode=!1}a.instance.details.page_titles[aw]=ax}break;case"updateSummaryInTOC":var aI=b.payload,aJ=aI.categoryId,aK=aI.pageId,aL=aI.briefSummary;if(a.instance&&aJ){var aM,aN,aO,aP,aQ,aR,aS,aT,aU=(0,o.QY)(null==a?void 0:null===(aM=a.instance)|| void 0===aM?void 0:null===(aN=aM.details)|| void 0===aN?void 0:null===(aO=aN.toc)|| void 0===aO?void 0:aO.categories,aJ),aV=(0,o.QY)(null==a?void 0:null===(aP=a.instance)|| void 0===aP?void 0:null===(aQ=aP.details)|| void 0===aQ?void 0:null===(aR=aQ.toc)|| void 0===aR?void 0:null===(aS=aR.categories)|| void 0===aS?void 0:null===(aT=aS[aU])|| void 0===aT?void 0:aT.pages,aK);a.instance.details.toc.categories[aU].pages[aV].brief_summary=aL}break;case"removeCategory":var aW=b.payload.id,aX=(0,o.QY)(null==a?void 0:null===(a1=a.instance)|| void 0===a1?void 0:null===(a2=a1.details)|| void 0===a2?void 0:null===(a3=a2.toc)|| void 0===a3?void 0:a3.categories,aW);a.instance.details.toc.categories.splice(aX,1),(null==a?void 0:null===(a4=a.instance)|| void 0===a4?void 0:null===(a5=a4.details)|| void 0===a5?void 0:null===(a6=a5.toc)|| void 0===a6?void 0:null===(a7=a6.categories)|| void 0===a7?void 0:a7.length)||(0,o.DN)(a.instance.details);var aY=null==a?void 0:null===(a8=a.instance)|| void 0===a8?void 0:null===(a9=a8.details)|| void 0===a9?void 0:a9.connects,aZ=null==aY?void 0:aY.find(function(a){return a.week_id===aW});if(aZ){aZ.dirty=!0;var a$=!0,a_=!1,a0=void 0;try{for(var a1,a2,a3,a4,a5,a6,a7,a8,a9,ba,bb=aZ.connect_info[Symbol.iterator]();!(a$=(ba=bb.next()).done);a$=!0)ba.value.status=k.BMk.DELETED}catch(bc){a_=!0,a0=bc}finally{try{a$||null==bb.return||bb.return()}finally{if(a_)throw a0}}}break;case"updateCodeExecResourceFile":(null===(bd=a.instance)|| void 0===bd?void 0:bd.details)&&(a.instance.details.code_exec_resource_metadata=b.payload);break;case"updateDockerForExternalLesson":(null===(be=a.instance)|| void 0===be?void 0:be.details)&&(a.instance.details.docker=b.payload.docker);break;case"addUserDataResourceFile":(null===(bf=a.instance)|| void 0===bf?void 0:bf.details)&&a.instance.details.udata_files.push(b.payload);break;case"updateUserDataResourceFile":var bd,be,bf,bg,bh=b.payload,bi=bh.payload,bj=bh.index;(null===(bg=a.instance)|| void 0===bg?void 0:bg.details)&&(a.instance.details.udata_files[bj]=s({},a.instance.details.udata_files[bj],bi));break;case"removeUserDataResourceFile":a.instance.details.udata_files.splice(b.payload.index,1);break;case"removeCoverImage":a.instance.details.cover_image_id=null;break;case"saveAPIKey":var bk,bl,bm,bn=b.payload.apiKey,bo=bn.id,bp=void 0===bo?"":bo,bq=bn.key,br=void 0===bq?"":bq,bs=bn.value,bt=void 0===bs?"":bs,bu=bn.useAsDefault,bv=void 0===bu||bu,bw=bn.urlText,bx=void 0===bw?"":bw,by=br,bz=null!==(bm=null==a?void 0:null===(bk=a.instance)|| void 0===bk?void 0:null===(bl=bk.details)|| void 0===bl?void 0:bl.api_keys)&& void 0!==bm?bm:[],bA={id:bp||(0,e.x0)(),key:br,name:by,value:bt,urlText:bx,useAsDefault:bv},bB=bz.findIndex(function(a){return a.id===bp});-1!==bB?a.instance.details.api_keys[bB]=bA:a.instance.details.api_keys.push(bA);break;case"removeAPIKey":var bC,bD,bE=(null==a?void 0:null===(bC=a.instance)|| void 0===bC?void 0:null===(bD=bC.details)|| void 0===bD?void 0:bD.api_keys).findIndex(function(a){return a.id===b.payload.id});if(-1===bE)return a;a.instance.details.api_keys.splice(bE,1);break;case"updateTestimonialImage":var bF,bG=b.payload,bH=bG.payload,bI=bG.index;(null===(bF=a.instance)|| void 0===bF?void 0:bF.details)&&(a.instance.details.testimonials[bI].pic=bH);break;case"addTestimonial":(null===(bJ=a.instance)|| void 0===bJ?void 0:bJ.details)&&!a.instance.details.testimonials&&(a.instance.details.testimonials=[]),a.instance.details.testimonials.push(b.payload.testimonial);break;case"removeTestimonial":a.instance.details.testimonials.splice(b.payload.index,1);break;case"updateTestimonial":var bJ,bK,bL=b.payload,bM=bL.index,bN=bL.testimonial;(null===(bK=a.instance)|| void 0===bK?void 0:bK.details)&&(a.instance.details.testimonials[bM]=bN);break;case"changeTestimonialOrder":a.instance.details.testimonials=b.payload.testimonials;break;case"addConnect":var bO=b.payload,bP=bO.id,bQ=bO.category_id,bR=bO.data,bS=void 0===bR?{}:bR;(0,o.RX)(a,bP,bQ,bS);break;case"removeConnect":var bT,bU,bV=b.payload,bW=bV.weekId,bX=bV.infoId,bY=null==a?void 0:null===(bT=a.instance)|| void 0===bT?void 0:null===(bU=bT.details)|| void 0===bU?void 0:bU.connects,bZ=bY.findIndex(function(a){return a.week_id===bW}),b$=bY[bZ].connect_info.findIndex(function(a){return a.id===bX});bY[bZ].connect_info[b$].status=k.BMk.DELETED,bY[bZ].dirty=!0;break;case"updateConnectInfo":var b_,b0,b1=b.payload,b2=b1.weekId,b3=b1.infoId,b4=b1.title,b5=b1.contact_id,b6=b1.contact_email,b7=b1.contact_name,b8=null==a?void 0:null===(b_=a.instance)|| void 0===b_?void 0:null===(b0=b_.details)|| void 0===b0?void 0:b0.connects,b9=b8.findIndex(function(a){return a.week_id===b2});if(b9>=0){var ca=b8[b9].connect_info.find(function(a){return a.id===b3});ca&&(ca.title=b4,ca.user_id=b5,ca.email=b6,ca.full_name=b7,ca.dirty=!0)}break;case"setConnectInfoDirtyFlag":var cb,cc,cd=b.payload,ce=cd.weekId,cf=cd.id,cg=cd.flag,ch=null==a?void 0:null===(cb=a.instance)|| void 0===cb?void 0:null===(cc=cb.details)|| void 0===cc?void 0:cc.connects,ci=ch.findIndex(function(a){return a.week_id===ce}),cj=ch[ci].connect_info.find(function(a){return a.id===cf});cj.dirty=cg;break;case"setConnectDirtyFlag":var ck,cl,cm=b.payload,cn=cm.weekId,co=cm.flag,cp=null==a?void 0:null===(ck=a.instance)|| void 0===ck?void 0:null===(cl=ck.details)|| void 0===cl?void 0:cl.connects,cq=cp.findIndex(function(a){return a.week_id===cn});cp[cq].dirty=co;break;case"addArticle":var cr,cs,ct,cu,cv,cw=b.payload,cx=cw.category_id,cy=cw.article,cz=cw.index,cA=cw.data,cB=void 0===cA?{}:cA,cC=(null==a?void 0:null===(cr=a.instance)|| void 0===cr?void 0:null===(cs=cr.details)|| void 0===cs?void 0:cs.work_type)===k.dLO.PATH,cD=(0,o.QY)(null==a?void 0:null===(ct=a.instance)|| void 0===ct?void 0:null===(cu=ct.details)|| void 0===cu?void 0:null===(cv=cu.toc)|| void 0===cv?void 0:cv.categories,cx);(0,o.zF)(a,cy,cD,cz,cB,cC);break;case"updateETAG":a[l.Zq]=b.payload;break;case"cloneArticle":var cE,cF,cG,cH=b.payload,cI=cH.category_id,cJ=cH.article,cK=cH.source_details,cL=(0,o.QY)(null==a?void 0:null===(cE=a.instance)|| void 0===cE?void 0:null===(cF=cE.details)|| void 0===cF?void 0:null===(cG=cF.toc)|| void 0===cG?void 0:cG.categories,cI);(0,o.gM)(a,cJ,cL,cK);break;case"cloneMultipleArticlesInCategory":var cM,cN,cO,cP=b.payload,cQ=cP.category_id,cR=cP.articles,cS=(0,o.QY)(null==a?void 0:null===(cM=a.instance)|| void 0===cM?void 0:null===(cN=cM.details)|| void 0===cN?void 0:null===(cO=cN.toc)|| void 0===cO?void 0:cO.categories,cQ);a.instance.details.toc.categories[cS].pages=v(a.instance.details.toc.categories[cS].pages).concat(v(cR.map(function(a){var b=a.page_id,c=a.title,d=a.source_author_id,e=a.source_collection_id,f=a.source_page_id;return JSON.parse(JSON.stringify(new n.Z({id:b,title:c,is_cloned:!0,source_author_id:d,source_collection_id:e,source_page_id:f})))})));break;case"removeArticle":var cT,cU,cV,cW,cX,cY,cZ,c$,c_,c0,c1,c2,c3=b.payload,c4=c3.category_id,c5=c3.article_id,c6=c3.keep_deleted_pages,c7=void 0!==c6&&c6,c8=(0,o.QY)(null!==(c1=null==a?void 0:null===(cT=a.instance)|| void 0===cT?void 0:null===(cU=cT.details)|| void 0===cU?void 0:null===(cV=cU.toc)|| void 0===cV?void 0:cV.categories)&& void 0!==c1?c1:[],c4),c9=(0,o.QY)(null!==(c2=null==a?void 0:null===(cW=a.instance)|| void 0===cW?void 0:null===(cX=cW.details)|| void 0===cX?void 0:null===(cY=cX.toc)|| void 0===cY?void 0:null===(cZ=cY.categories)|| void 0===cZ?void 0:null===(c$=cZ[c8])|| void 0===c$?void 0:c$.pages)&& void 0!==c2?c2:[],c5);null===(c_=a.instance.details.toc.categories)|| void 0===c_||null===(c0=c_[c8])|| void 0===c0||c0.pages.splice(c9,1),c7||(a.instance.details.deleted_page_details={});break;case"removeDocumentFromDeletedDocuments":var da,db,dc,dd,de=b.payload,df=de.doc_type,dg=de.doc_id;df=df===k.j1J.PROJECT?k.qen.PROJECT:k.qen.ASSESSMENT,null==a||null===(da=a.instance)|| void 0===da||null===(db=da.details)|| void 0===db||null===(dc=db.deleted_documents_details)|| void 0===dc||null===(dd=dc[df])|| void 0===dd||delete dd[dg.toString()];break;case"recoverArticle":var dh,di,dj,dk,dl,dm,dn,dp,dq,dr,ds,dt,du,dv,dw,dx,dy=b.payload.article_id,dz=(0,o.QY)(null==a?void 0:null===(dh=a.instance)|| void 0===dh?void 0:null===(di=dh.details)|| void 0===di?void 0:null===(dj=di.toc)|| void 0===dj?void 0:dj.categories,j.s);-1===dz&&(0,o.wi)(a),dz=(0,o.QY)(null==a?void 0:null===(dk=a.instance)|| void 0===dk?void 0:null===(dl=dk.details)|| void 0===dl?void 0:null===(dm=dl.toc)|| void 0===dm?void 0:dm.categories,j.s),(0,o.zF)(a,{author_id:null==a?void 0:null===(dn=a.instance)|| void 0===dn?void 0:null===(dp=dn.details)|| void 0===dp?void 0:dp.author_id,collection_id:null==a?void 0:null===(dq=a.instance)|| void 0===dq?void 0:null===(dr=dq.details)|| void 0===dr?void 0:dr.collection_id,page_id:dy},dz,null);var dA=null==a?void 0:null===(ds=a.instance)|| void 0===ds?void 0:null===(dt=ds.details)|| void 0===dt?void 0:null===(du=dt.deleted_page_details)|| void 0===du?void 0:du[dy.toString()],dB=dA?dA.title:"Untitled Masterpiece";null==a||null===(dv=a.instance)|| void 0===dv||null===(dw=dv.details)|| void 0===dw||null===(dx=dw.deleted_page_details)|| void 0===dx||delete dx[dy.toString()],a.instance.details.page_titles[dy]=dB;break;case"updateDeletedArticles":a.instance&&(a.instance=t(s({},a.instance),{details:t(s({},a.instance.details),{deleted_page_details:s({},a.instance.details.deleted_page_details,b.payload)})}));break;case"toggleArticleVisibility":var dC=b.payload,dD=dC.category_id,dE=dC.article_id,dF=(0,o.fq)(a,dD,dE);dF.is_preview=!dF.is_preview;break;case"toggleIsLesson":var dG=b.payload,dH=dG.category_id,dI=dG.article_id,dJ=(0,o.fq)(a,dH,dI);dJ.is_lesson=!(void 0===dJ.is_lesson|| !0===dJ.is_lesson);break;case"toggleIsOptional":var dK=b.payload,dL=dK.category_id,dM=dK.article_id,dN=(0,o.fq)(a,dL,Number(dM));a.instance.dirty=!0,dN.is_optional=!dN.is_optional;break;case"setIsOptional":var dO=b.payload,dP=dO.category_id,dQ=dO.article_id,dR=dO.set_value,dS=(0,o.fq)(a,dP,dQ);dS.is_optional!==dR&&(a.instance.dirty=!0,dS.is_optional=dR);break;case"toggleLinkedCloudLabRequired":var dT,dU,dV,dW,dX=b.payload.category_id,dY=(0,o.QY)(null===(dT=a.instance)|| void 0===dT?void 0:null===(dU=dT.details)|| void 0===dU?void 0:null===(dV=dU.toc)|| void 0===dV?void 0:dV.categories,dX),dZ=null===(dW=a.instance.details.toc.categories[dY])|| void 0===dW?void 0:dW.is_required;a.instance.details.toc.categories[dY].is_required=!dZ;break;case"discardChanges":a=b.payload;break;case"updateDeletedProjects":a.instance.details.deleted_project_details=s({},a.instance.details.deleted_project_details,b.payload.deleted_project_details);break;case"clearDeletedDocuments":delete a.instance.details.deleted_documents_details;break;case"updateDeletedDocuments":var d$,d_=b.payload,d0=d_.deleted_document_details,d1=d_.deleted_document_type;a.instance.details.deleted_documents_details=t(s({},a.instance.details.deleted_documents_details),r({},d1,s({},null===(d$=a.instance.details.deleted_documents_details)|| void 0===d$?void 0:d$[d1],d0)));break;case"publish":a.is_published=!0,a.instance.type="published";break;case"unpublish":a.is_published=!1,a.instance.type="draft",a.is_draft_active=!0;break;case"updatePublishedRevision":a.published_revision=b.payload;break;case"moveCategory":var d2,d3,d4,d5,d6,d7,d8,d9,ea=b.payload,eb=ea.from,ec=ea.to,ed=null==a?void 0:null===(d2=a.instance)|| void 0===d2?void 0:null===(d3=d2.details)|| void 0===d3?void 0:null===(d4=d3.toc)|| void 0===d4?void 0:null===(d5=d4.categories)|| void 0===d5?void 0:d5[eb.itemIndex];if(ed.id===j.s||(null==a?void 0:null===(d6=a.instance)|| void 0===d6?void 0:null===(d7=d6.details)|| void 0===d7?void 0:null===(d8=d7.toc)|| void 0===d8?void 0:null===(d9=d8.categories)|| void 0===d9?void 0:d9[ec.itemIndex]).id===j.s)return a;a.instance.details.toc.categories.splice(eb.itemIndex,1),a.instance.details.toc.categories.splice(ec.itemIndex,0,ed);break;case"setExternalOffer":a.external_offer=b.payload.externalOffer;break;case"hideExternalOffer":a.external_offer.hidden=!0;break;case"setExternalOfferViewed":a.external_offer.viewed=!0;break;case"moveArticleWithinOrigin":var ee=b.payload,ef=ee.from,eg=ee.to;if(ef.isConnect||eg.isConnect){if(ef.isConnect&&eg.isConnect){var eh,ei,ej,ek,el,em,en,eo=null==a?void 0:null===(eh=a.instance)|| void 0===eh?void 0:null===(ei=eh.details)|| void 0===ei?void 0:null===(ej=ei.toc)|| void 0===ej?void 0:null===(ek=ej.categories)|| void 0===ek?void 0:ek[ef.parentIndex],ep=null==a?void 0:null===(el=a.instance)|| void 0===el?void 0:null===(em=el.details)|| void 0===em?void 0:null===(en=em.connects)|| void 0===en?void 0:en.find(function(a){return a.week_id===eo.id});ep.dirty=!0;var eq=ep.connect_info,er=ef.itemIndex,es=eg.itemIndex;eq.splice(es,0,eq.splice(er,1)[0])}}else{var et,eu,ev,ew,ex,ey,ez,eA,eB,eC=null==a?void 0:null===(et=a.instance)|| void 0===et?void 0:null===(eu=et.details)|| void 0===eu?void 0:null===(ev=eu.toc)|| void 0===ev?void 0:null===(ew=ev.categories)|| void 0===ew?void 0:ew[ef.parentIndex],eD=null==eC?void 0:eC.pages,eE=null!==(eB=null===(eA=null==a?void 0:null===(ex=a.instance)|| void 0===ex?void 0:null===(ey=ex.details)|| void 0===ey?void 0:null===(ez=ey.connects)|| void 0===ez?void 0:ez.find(function(a){return a.week_id===(null==eC?void 0:eC.id)}))|| void 0===eA?void 0:eA.connect_info.length)&& void 0!==eB?eB:0;eD.splice(eg.itemIndex-eE,0,eD.splice(ef.itemIndex-eE,1)[0])}break;case"moveArticleToNotEmptyCategory":var eF=b.payload,eG=eF.from,eH=eF.to;if(!eG.isConnect&&!eH.isConnect){var eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU,eV,eW,eX,eY,eZ,e$,e_,e0,e1=null==a?void 0:null===(eI=a.instance)|| void 0===eI?void 0:null===(eJ=eI.details)|| void 0===eJ?void 0:null===(eK=eJ.toc)|| void 0===eK?void 0:null===(eL=eK.categories)|| void 0===eL?void 0:eL[eH.parentIndex],e2=null==e1?void 0:e1.id,e3=null!==(e_=null===(eP=null==a?void 0:null===(eM=a.instance)|| void 0===eM?void 0:null===(eN=eM.details)|| void 0===eN?void 0:null===(eO=eN.connects)|| void 0===eO?void 0:eO.find(function(a){return a.week_id===(null==e1?void 0:e1.id)}))|| void 0===eP?void 0:eP.connect_info.length)&& void 0!==e_?e_:0;if(e2===j.s)return a;var e4=null==a?void 0:null===(eQ=a.instance)|| void 0===eQ?void 0:null===(eR=eQ.details)|| void 0===eR?void 0:null===(eS=eR.toc)|| void 0===eS?void 0:null===(eT=eS.categories)|| void 0===eT?void 0:eT[eG.parentIndex],e5=null==e4?void 0:e4.id,e6=null!==(e0=null===(eX=null==a?void 0:null===(eU=a.instance)|| void 0===eU?void 0:null===(eV=eU.details)|| void 0===eV?void 0:null===(eW=eV.connects)|| void 0===eW?void 0:eW.find(function(a){return a.week_id===(null==e4?void 0:e4.id)}))|| void 0===eX?void 0:eX.connect_info.length)&& void 0!==e0?e0:0;e5===j.s&&(a.instance.details.toc.categories[eG.parentIndex].pages[eG.itemIndex-e6].is_recovered=!0);var e7=null==a?void 0:null===(eY=a.instance)|| void 0===eY?void 0:null===(eZ=eY.details)|| void 0===eZ?void 0:null===(e$=eZ.toc)|| void 0===e$?void 0:e$.categories,e8=e7[eG.parentIndex].pages.splice(eG.itemIndex-e6,1)[0];eH.last?e7[eH.parentIndex].pages.push(e8):e7[eH.parentIndex].pages.splice(eH.itemIndex-e3,0,e8),e5===j.s&&0===e7[eG.parentIndex].pages.length&&e7.splice(eG.parentIndex,1)}break;case"setDirty":a.instance&&(a.instance.dirty=b.payload);break;case"setNotification":a.notification_status=b.payload;break;case"setCollaborativeEditor":a.use_collaborative_editor=b.payload;break;case"unSetCollaborativeEditor":delete a.use_collaborative_editor;break;case"addExternalApiKeys":if(null===(ff=a.instance)|| void 0===ff?void 0:ff.details){var e9=a.instance.details.api_keys||[];a.instance.details.api_keys=Array.from(new Map(v(e9).concat(v(b.payload||[])).map(function(a){return[a.id,a,]})).values())}break;case"updateArticleEstimatedTime":var fa=b.payload,fb=fa.categoryId,fc=fa.pageId,fd=fa.estimatedTime;if(a.instance){var fe=(0,o.fq)(a,fb,Number(fc));fe.estimatedTime=fd,fe.editMode=!1}break;case"updatePageKeys":a.instance&&(a.instance.details.page_keys=b.payload);break;case"setRecommendedTOC":(null===(fg=a.instance)|| void 0===fg?void 0:fg.details)&&(a.instance.details.adaptive_pathway_info.active_toc_mode===i.vC.ADAPTIVE?(a.instance.details.adaptive_pathway_info=t(s({},b.payload),{in_active_toc:a.instance.details.adaptive_pathway_info.in_active_toc}),a.instance.details.toc=b.payload.in_active_toc):(a.instance.details.adaptive_pathway_info=t(s({},b.payload),{in_active_toc:a.instance.details.toc}),a.instance.details.toc=b.payload.in_active_toc),a.instance.details.only_visually_Swapped_toc=!1);break;case"swapTOC":if(null===(fh=a.instance)|| void 0===fh?void 0:fh.details){var ff,fg,fh,fi,fj=a.instance.details.toc;a.instance.details.toc=null===(fi=a.instance.details.adaptive_pathway_info)|| void 0===fi?void 0:fi.in_active_toc,a.instance.details.adaptive_pathway_info&&(a.instance.details.adaptive_pathway_info.in_active_toc=fj),a.instance.details.only_visually_Swapped_toc||b.payload||!a.instance.details.adaptive_pathway_info||(a.instance.details.adaptive_pathway_info.active_toc_mode=a.instance.details.adaptive_pathway_info.active_toc_mode===i.vC.DEFAULT?i.vC.ADAPTIVE:i.vC.DEFAULT),a.instance.details.only_visually_Swapped_toc=!1}break;case"setAdaptivePathwayInfo":a.instance.details.adaptive_pathway_info=b.payload;break;case"updateAdaptiveCompletion":if(null===(c=a.instance.details.adaptive_pathway_info)|| void 0===c?void 0:null===(d=c.lessons_completed)|| void 0===d?void 0:d.includes(b.payload))return;(null===(f=a.instance.details.adaptive_pathway_info)|| void 0===f?void 0:f.lessons_completed)?a.instance.details.adaptive_pathway_info.lessons_completed.push(b.payload):(a.instance.details.adaptive_pathway_info||(a.instance.details.adaptive_pathway_info={}),a.instance.details.adaptive_pathway_info.lessons_completed=[b.payload,]);break;case"swapTOCMode":a.instance.details.adaptive_pathway_info&&(a.instance.details.adaptive_pathway_info.active_toc_mode=a.instance.details.adaptive_pathway_info.active_toc_mode===i.vC.DEFAULT?i.vC.ADAPTIVE:i.vC.DEFAULT),a.instance.details.only_visually_Swapped_toc=!a.instance.details.only_visually_Swapped_toc;break;case"resetAdaptiveCompletion":a.instance.details.adaptive_pathway_info&&(a.instance.details.adaptive_pathway_info.lessons_completed=[]);break;case"setCollectionTOCMode":a.instance.details.adaptive_pathway_info&&(a.instance.details.adaptive_pathway_info.active_toc_mode=b.payload)}},F=function(a){var b=a.children,e=u((0,h.C)(E,x),2),i=e[0],j=e[1],k=u(f.useState(z),2),l=k[0],m=k[1],n={set:function(a){(0,g.flushSync)(function(){return m(function(b){return s({},b,a)})})}},o=function(a){(0,g.flushSync)(function(){j(a)})},p=(0,f.useCallback)(function(){return{reset:function(){return o({type:"reset"})},set:function(a){o({type:"set",payload:a})},updateOwnership:function(){return o({type:"updateOwnership"})},certificateBought:function(){return o({type:"certificateBought"})},updateDetails:function(a){return o({type:"updateDetails",payload:a})},updatePageKeys:function(a){return o({type:"updatePageKeys",payload:a})},updateWeeklyGoal:function(a){return o({type:"updateWeeklyGoal",payload:a})},setPagesRecovered:function(a){return o({type:"setPagesRecovered",payload:a})},addCategory:function(a){return o({type:"addCategory",payload:a})},updateCategoryTitle:function(a){return o({type:"updateCategoryTitle",payload:a})},removeWeekFromCategoryTitle:function(){return o({type:"removeWeekFromCategoryTitle"})},updateArticleTags:function(a){return o({type:"updateArticleTags",payload:a})},updateArticleTitle:function(a){o({type:"updateArticleTitle",payload:a})},updateSummaryInTOC:function(a){return o({type:"updateSummaryInTOC",payload:a})},removeCategory:function(a){return o({type:"removeCategory",payload:a})},updateCodeExecResourceFile:function(a){return o({type:"updateCodeExecResourceFile",payload:a})},updateDockerForExternalLesson:function(a){return o({type:"updateDockerForExternalLesson",payload:a})},addUserDataResourceFile:function(a){return o({type:"addUserDataResourceFile",payload:a})},updateUserDataResourceFile:function(a){return o({type:"updateUserDataResourceFile",payload:a})},removeUserDataResourceFile:function(a){return o({type:"removeUserDataResourceFile",payload:a})},removeCoverImage:function(){return o({type:"removeCoverImage"})},saveAPIKey:function(a){return o({type:"saveAPIKey",payload:a})},removeAPIKey:function(a){return o({type:"removeAPIKey",payload:a})},updateTestimonialImage:function(a){return o({type:"updateTestimonialImage",payload:a})},addTestimonial:function(a){return o({type:"addTestimonial",payload:a})},removeTestimonial:function(a){return o({type:"removeTestimonial",payload:a})},updateTestimonial:function(a){return o({type:"updateTestimonial",payload:a})},changeTestimonialOrder:function(a){return o({type:"changeTestimonialOrder",payload:a})},addConnect:function(a){return o({type:"addConnect",payload:a})},removeConnect:function(a){return o({type:"removeConnect",payload:a})},updateConnectInfo:function(a){return o({type:"updateConnectInfo",payload:a})},setConnectInfoDirtyFlag:function(a){return o({type:"setConnectInfoDirtyFlag",payload:a})},setConnectDirtyFlag:function(a){return o({type:"setConnectDirtyFlag",payload:a})},addArticle:function(a){return o({type:"addArticle",payload:a})},updateETAG:function(a){return o({type:"updateETAG",payload:a})},cloneArticle:function(a){return o({type:"cloneArticle",payload:a})},cloneMultipleArticlesInCategory:function(a){return o({type:"cloneMultipleArticlesInCategory",payload:a})},removeArticle:function(a){return o({type:"removeArticle",payload:a})},removeDocumentFromDeletedDocuments:function(a){return o({type:"removeDocumentFromDeletedDocuments",payload:a})},recoverArticle:function(a){return o({type:"recoverArticle",payload:a})},updateDeletedArticles:function(a){o({type:"updateDeletedArticles",payload:a})},updateDeletedProjects:function(a){return o({type:"updateDeletedProjects",payload:a})},updateDeletedDocuments:function(a){return o({type:"updateDeletedDocuments",payload:a})},clearDeletedDocuments:function(){return o({type:"clearDeletedDocuments"})},publish:function(){return o({type:"publish"})},unpublish:function(){return o({type:"unpublish"})},updatePublishedRevision:function(a){return o({type:"updatePublishedRevision",payload:a})},moveCategory:function(a){return o({type:"moveCategory",payload:a})},setExternalOffer:function(a){return o({type:"setExternalOffer",payload:a})},hideExternalOffer:function(){return o({type:"hideExternalOffer"})},setExternalOfferViewed:function(){return o({type:"setExternalOfferViewed"})},moveArticleWithinOrigin:function(a){return o({type:"moveArticleWithinOrigin",payload:a})},moveArticleToNotEmptyCategory:function(a){return o({type:"moveArticleToNotEmptyCategory",payload:a})},setDirty:function(a){return o({type:"setDirty",payload:a})},setNotification:function(a){return o({type:"setNotification",payload:a})},setCollaborativeEditor:function(a){return o({type:"setCollaborativeEditor",payload:a})},unSetCollaborativeEditor:function(){return o({type:"unSetCollaborativeEditor"})},addExternalApiKeys:function(a){return o({type:"addExternalApiKeys",payload:a})},updateArticleEstimatedTime:function(a){return o({type:"updateArticleEstimatedTime",payload:a})},toggleArticleVisibility:function(a){return o({type:"toggleArticleVisibility",payload:a})},toggleIsLesson:function(a){return o({type:"toggleIsLesson",payload:a})},toggleLinkedCloudLabRequired:function(a){return o({type:"toggleLinkedCloudLabRequired",payload:a})},toggleIsOptional:function(a){return o({type:"toggleIsOptional",payload:a})},setIsOptional:function(a){return o({type:"setIsOptional",payload:a})},discardChanges:function(a){return o({type:"discardChanges",payload:a})},swapTOC:function(a){return o({type:"swapTOC",payload:a})},setRecommendedTOC:function(a){return o({type:"setRecommendedTOC",payload:a})},swapTOCMode:function(){return o({type:"swapTOCMode"})},setAdaptivePathwayInfo:function(a){return o({type:"setAdaptivePathwayInfo",payload:a})},updateAdaptiveCompletion:function(a){return o({type:"updateAdaptiveCompletion",payload:a})},resetAdaptiveCompletion:function(){return o({type:"resetAdaptiveCompletion"})},setCollectionTOCMode:function(a){return o({type:"setCollectionTOCMode",payload:a})}}},[j]);return f.useEffect(function(){return c.g.authorCollection=i,function(){delete c.g.authorCollection}},[i]),f.useEffect(function(){c.g.loaderContext={stateLoader:l,loaderActions:n}},[l]),f.useEffect(function(){c.g.authorCollectionActions=p()}),(0,d.jsx)(D.Provider,{value:p(),children:(0,d.jsx)(C.Provider,{value:i,children:(0,d.jsx)(A.Provider,{value:l,children:(0,d.jsx)(B.Provider,{value:n,children:b})})})})},G=function(){var a=f.useContext(C);return null!=a?a:c.g.authorCollection},H=function(){return f.useContext(D)};b.ZP=F;var I=function(){return f.useContext(A)},J=function(){return f.useContext(B)}},70921:function(a,b,c){c.d(b,{DJ:function(){return m},DN:function(){return o},F4:function(){return v},QY:function(){return n},RX:function(){return p},SK:function(){return j},fq:function(){return u},gM:function(){return s},tu:function(){return q},wi:function(){return t},yE:function(){return k},zF:function(){return r}});var d=c(84119),e=c(71653),f=c(38377),g=c(92118),h=c(9162),i=function(a){return a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a},j=function(a,b,c,d,f,j){var k=arguments.length>6&& void 0!==arguments[6]?arguments[6]:e.j1J.COLLECTION_CATEGORY,l=arguments.length>7&& void 0!==arguments[7]?arguments[7]:void 0,m=arguments.length>8&& void 0!==arguments[8]?arguments[8]:{},n=a.toc.categories;if(n.forEach(function(a){return a.editMode=!1}),null!=j){var o=n[j].pages,p=o.splice(f+1);o=o.slice(0,f+1);var q=o,r=new g.Z(b,c);if(!c&&m.title&&(r.title=m.title),(r=JSON.parse(JSON.stringify(r))).pages=p,n[j].pages=q,n.splice(j+1,0,r),"undefined"!==i(m.can_edit)&&(r.can_edit=m.can_edit),"undefined"!==i(m.work_type)&&(r.work_type=m.work_type),"undefined"!==i(m.is_standalone_module)&&(r.is_standalone_module=m.is_standalone_module),h.Fx.includes(k)){var s=new g.Z(!1,c,d,k,l,void 0,void 0,void 0,void 0,void 0,void 0,void 0,m.is_cloned,m.source_author_id,m.source_collection_id,m.source_page_id);s=JSON.parse(JSON.stringify(s)),n.push(s)}}else{var t=new g.Z(b,c,d,m.type||k,m.id||l,m.author_id,m.collection_id,m.title,m.page_id||void 0,m.can_edit,m.work_type,m.is_standalone_module,m.is_cloned,m.source_author_id,m.source_collection_id,m.source_page_id,m.is_recovered_category);k===e.j1J.LINKED_CLOUD_LAB&&(t.is_required=!0),t=JSON.parse(JSON.stringify(t)),n.push(t)}};function k(a){var b,c,e,f=null==a?void 0:null===(b=a.instance)|| void 0===b?void 0:null===(c=b.details)|| void 0===c?void 0:null===(e=c.toc)|| void 0===e?void 0:e.categories;l(a,null==f?void 0:f.findIndex(function(a){return a.title===d.I}))}function l(a,b){var c=b;if(-1!==c){var d=a.instance.details.toc.categories[c];a.instance.details.toc.categories.push(d),a.instance.details.toc.categories.splice(c,1)}}function m(a){var b,c,e,f=n(null==a?void 0:null===(b=a.instance)|| void 0===b?void 0:null===(c=b.details)|| void 0===c?void 0:null===(e=c.toc)|| void 0===e?void 0:e.categories,d.s);l(a,f)}var n=function(a,b){return a.findIndex(function(a){return a.id===b})},o=function(a){return j(a,!0,!1)},p=function(a,b,c){var d,e,f=arguments.length>3&& void 0!==arguments[3]?arguments[3]:{},g=(null==a?void 0:null===(d=a.instance)|| void 0===d?void 0:null===(e=d.details)|| void 0===e?void 0:e.connects)||[],h=g.findIndex(function(a){return a.week_id===c});if(h<0){var i=[{id:b,title:f.title,status:2e3},],j={week_id:c,week_title:"",connect_info:i};g.push(j)}else{var k={id:b,title:f.title,status:2e3};g[h].connect_info.push(k)}},q=function(a,b,c,d){var g=null==a?void 0:a.page_id,h=null==a?void 0:a.author_id,i=null==a?void 0:a.collection_id;return new f.Z(null==c?{id:parseInt(g||b.id),type:b.type,title:b.title,author_id:parseInt(h||b.author_id),collection_id:parseInt(i||b.collection_id),page_id:parseInt(g||b.page_id),editMode:"editMode"in b?b.editMode:!d&&![e.RIu.LESSON,e.RIu.SHOT].includes(null==b?void 0:b.type),course_url_slug:b.course_url_slug,url:b.url,work_type:b.work_type,can_edit:b.can_edit,is_standalone_module:b.is_standalone_module,brief_summary:b.brief_summary}:{id:parseInt(g||b.id),type:b.type,title:b.title,author_id:parseInt(h||b.author_id),collection_id:parseInt(i||b.collection_id),page_id:parseInt(g||b.page_id),editMode:"editMode"in b?b.editMode:!d&&![e.RIu.LESSON,e.RIu.SHOT].includes(null==b?void 0:b.type),course_url_slug:b.url,brief_summary:b.brief_summary})},r=function(a,b,c,d){var e=arguments.length>4&& void 0!==arguments[4]?arguments[4]:{},f=arguments.length>5&& void 0!==arguments[5]&&arguments[5],g=q(b,e,d,f);if(null==d){var h,i,j,k=(null==g?void 0:g.page_id)in((null==(h=a)?void 0:null===(i=h.instance)|| void 0===i?void 0:null===(j=i.details)|| void 0===j?void 0:j.deleted_page_details)||{});if(e.estimatedTime&&(g.estimatedTime=e.estimatedTime),void 0!==e.is_optional&&null!==e.is_optional&&(g.is_optional=e.is_optional),e.is_preview&&(g.is_preview=e.is_preview),k){var l,m,n,o,p,r,s,t,u,v,w,x,y=null==a?void 0:null===(w=a.instance)|| void 0===w?void 0:null===(x=w.details)|| void 0===x?void 0:x.deleted_page_details[g.page_id.toString()].title;g.title=y,g.editMode=!1,g.is_recovered=!0}null==a||null===(r=a.instance)|| void 0===r||null===(s=r.details)|| void 0===s||null===(t=s.toc)|| void 0===t||null===(u=t.categories)|| void 0===u||null===(v=u[c])|| void 0===v||v.pages.push(JSON.parse(JSON.stringify(g)))}else null==a||null===(l=a.instance)|| void 0===l||null===(m=l.details)|| void 0===m||null===(n=m.toc)|| void 0===n||null===(o=n.categories)|| void 0===o||null===(p=o[c])|| void 0===p||p.pages.splice(d+1,0,JSON.parse(JSON.stringify(g)))},s=function(a,b,c,d){var e,g,h,i,j,k,l,m,n,o=b.page_id,p=b.title;null==a||null===(e=a.instance)|| void 0===e||null===(g=e.details)|| void 0===g||null===(h=g.toc)|| void 0===h||null===(i=h.categories)|| void 0===i||null===(j=i[c])|| void 0===j||j.pages.push(JSON.parse(JSON.stringify(new f.Z({id:parseInt(o),title:p,author_id:parseInt(null==a?void 0:null===(k=a.instance)|| void 0===k?void 0:null===(l=k.details)|| void 0===l?void 0:l.author_id),collection_id:parseInt(null==a?void 0:null===(m=a.instance)|| void 0===m?void 0:null===(n=m.details)|| void 0===n?void 0:n.collection_id),page_id:parseInt(o),is_cloned:d.is_cloned,source_author_id:d.source_author_id,source_collection_id:d.source_collection_id,source_page_id:d.source_page_id}))))};function t(a){j(a.instance.details,!1,!1,!0)}var u=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,o,p,q=b?n(null==a?void 0:null===(h=a.instance)|| void 0===h?void 0:null===(i=h.details)|| void 0===i?void 0:null===(j=i.toc)|| void 0===j?void 0:j.categories,b):null==a?void 0:null===(d=a.instance)|| void 0===d?void 0:null===(e=d.details)|| void 0===e?void 0:null===(f=e.toc)|| void 0===f?void 0:null===(g=f.categories)|| void 0===g?void 0:g.findIndex(function(a){return a.pages.some(function(a){return a.id===c})}),r=n(null==a?void 0:null===(k=a.instance)|| void 0===k?void 0:null===(l=k.details)|| void 0===l?void 0:null===(m=l.toc)|| void 0===m?void 0:null===(o=m.categories)|| void 0===o?void 0:null===(p=o[q])|| void 0===p?void 0:p.pages,c);return a.instance.details.toc.categories[q].pages[r]},v=[{title:"beginner",value:"beginner"},{title:"intermediate",value:"intermediate"},{title:"advanced",value:"advanced"},]},54854:function(a,b,c){c.d(b,{BA:function(){return K},Cr:function(){return Q},PR:function(){return z},S4:function(){return B},Sj:function(){return O},VF:function(){return E},W1:function(){return y},Y9:function(){return A},Yq:function(){return D},"_t":function(){return L},fU:function(){return P},hL:function(){return J},i9:function(){return I},oY:function(){return C},sb:function(){return M},tH:function(){return x},vJ:function(){return H},wL:function(){return F}});var d=c(54551),e=c.n(d),f=c(29001),g=c(1489),h=c(78695),i=c(67113),j=c(60846),k=c(71653),l=c(16560),m=c(92118),n=c(70921),o=c(62171),p=c(88674),q=c(48411);function r(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function s(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function t(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){s(f,d,e,g,h,"next",a)}function h(a){s(f,d,e,g,h,"throw",a)}g(void 0)})}}function u(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var v,w,x=function(a,b,c,d,e){var f=arguments.length>5&& void 0!==arguments[5]&&arguments[5],g=arguments.length>6&& void 0!==arguments[6]?arguments[6]:null,j=arguments.length>7&& void 0!==arguments[7]&&arguments[7],m=arguments.length>8&& void 0!==arguments[8]&&arguments[8],n=arguments.length>9&& void 0!==arguments[9]&&arguments[9],r=arguments.length>10&& void 0!==arguments[10]&&arguments[10];a===k.dLO.ENTERPRISE_ASSESSMENT?(0,p.qP)(p.f2.ENTERPRISE_ASSESSMENTS,p.bt.CREATE_ASSESSMENT):f&&g?(0,p.qP)(j?p.f2.ONBOARDING:a===k.dLO.MODULE?p.f2.MODULE_EDITOR:p.f2.ENTERPRISE,j?p.bt.CREATE_NEW_ONBOARDING_PATH:a===k.dLO.MODULE?p.bt.CREATE_NEW_MODULE:p.bt.CREATE_NEW_PRIVATE_PATH):a===k.dLO.STANDALONE_CLOUD_LAB?(0,p.qP)(p.f2.STANDALONE_CLOUD_LABS,p.bt.CLOUD_LAB_CLICKED_CREATE_BUTTON):(0,p.qP)(p.f2.CREATE,p.bt.CREATE_NEW_COURSE);var s=-1!==[k.dLO.MINI_COURSE,k.dLO.COLLECTION,k.dLO.SKILL_ASSESSMENT,k.dLO.STANDALONE_PROJECT,k.dLO.QUESTIONNAIRE,k.dLO.ENTERPRISE_ASSESSMENT,k.dLO.STANDALONE_CLOUD_LAB,].indexOf(a);([k.dLO.QUESTIONNAIRE,k.dLO.ENTERPRISE_ASSESSMENT].includes(a)||j)&&d(o.n.showOrUpdate(l.ad,{status:"WAIT",text:"Creating"})),(0,h.B)({course_type:s?a:"",work_type:s?"":a,isPrivate:f,organizationId:g,isPlan:j,isTemplate:m,isGlobal:n,enableCollaborativeEditor:r}).then(function(h){var p,r,s=JSON.parse(h),t=s.author_id,u=s.collection_id,v=s.document_id,w=window.location.search;if(!j||(null==b?void 0:null===(p=b.enterprise)|| void 0===p?void 0:null===(r=p.user_onboarding_tutorial_status)|| void 0===r?void 0:r.has_created_plan)||(0,i.M)("has_created_plan",e),(0,q.o3)(b,a,f,g,m))d(o.n.showOrUpdate(l.ad,{status:"SUCCESS",text:"Successfully Created ".concat((0,k.eiC)(a))})),c.push({pathname:"/".concat(j?"plan/[planAuthorId]/[planId]":"".concat(k.xLO?"plan":"path","/[authorId]/[collectionId]"),"/edit"),query:{authorId:t,collectionId:u},queryString:window.location.search},"/".concat(k.xLO||j?"plan":"path","/").concat(t,"/").concat(u,"/edit").concat(w||""));else if((0,q.gB)(b,a,f,g,n)){var x=n&&!m?"/module/edit/".concat(t,"/").concat(u):"/module/standalone/".concat(t,"/").concat(u,"/edit");c.push({pathname:x,query:{editMode:!0,isStandaloneModule:!0,authorId:t,collectionId:u}},x)}else[k.dLO.QUESTIONNAIRE,k.dLO.ENTERPRISE_ASSESSMENT,].includes(a)?(d(o.n.close()),c.push({pathname:"".concat(a===k.dLO.ENTERPRISE_ASSESSMENT?"/enterprise":"","/assessmenteditor/[authorId]/[collectionId]/[documentId]"),query:a===k.dLO.QUESTIONNAIRE?{editMode:!0,assessment_type:"questionnaire",authorId:t,collectionId:u,documentId:v}:{editMode:!0}},"".concat(a===k.dLO.ENTERPRISE_ASSESSMENT?"/enterprise":"","/assessmenteditor/").concat(t,"/").concat(u,"/").concat(v))):c.push({pathname:"/".concat(a===k.dLO.PATH?"patheditor":"collectioneditor","/[authorId]/[collectionId]"),query:{editMode:!0,authorId:t,collectionId:u}},"/".concat(a===k.dLO.PATH?"patheditor":"collectioneditor","/").concat(t,"/").concat(u))}).catch(function(){a===k.dLO.ENTERPRISE_ASSESSMENT&&(0,p.qP)(p.f2.ENTERPRISE_ASSESSMENTS,p.bt.UNEXPECTED_ERROR_ASSESSMENT),d(o.n.show(l.ad,{status:"ERROR",text:"Failed to create new ".concat(j?"Path":(0,k.eiC)(a))}))})},y=function(a,b){if(!Object.keys(b).length)return null;var c=null==b?void 0:b.instance,d=(null==c?void 0:c.details)||{},e=d.toc||{},f=d.page_titles||[],g=e.categories||[],h=g.reduce(function(a,b){return b.type===k.j1J.ASSESSMENT||b.type===k.j1J.PROJECT||b.type===k.j1J.CLOUD_LAB||b.type===k.j1J.EXTERNAL_ASSESSMENT||b.type===k.RIu.PATH_INTERNAL_MODULE||b.type===k.RIu.PATH_EXTERNAL_MODULE||b.type===k.j1J.LINKED_CLOUD_LAB||b.type===k.j1J.EXTERNAL_PROJECT?a.concat(b):a.concat(b.pages)},[]),i=function(a,b){var c=a[b];return{id:[k.RIu.PATH_EXTERNAL_MODULE,k.RIu.PATH_INTERNAL_MODULE,].includes(null==c?void 0:c.type)?null==c?void 0:c.collection_id:null==c?void 0:c.id,title:f[null==c?void 0:c.id],type:null==c?void 0:c.type,author_id:null==c?void 0:c.author_id,slug:null==c?void 0:c.slug}},j=h.findIndex(function(b){var c=b.id,d=b.page_id;return c===a||d===a});if(j<0)return null;var l=null;if(h.length<=1)return{previous:null,next:null};if(0===j)return{previous:null,next:i(h,j+1)};var m=null,n=d.next_content_type===k.j1J.STANDALONE_ASSESSMENT,o=d.next_content_type===k.j1J.STANDALONE_PROJECT,p=d.next_content_type===k.qen.COLLECTION_LESSON;return j===h.length-1?(n||p||o|| void 0===d.next_content_collection_id?(p||n||o)&& void 0!==d.next_content_collection_id&&(m={nextPathItemId:d.next_content_id,nextModuleTitle:d.next_content_title,type:d.next_content_type,authorId:d.next_content_author_id,pathId:d.next_content_collection_id}):m={nextModuleSlug:d.next_content_slug,nextModuleCollectionId:d.next_content_collection_id,nextModuleTitle:d.next_content_title,nextModuleAuthorId:d.next_content_author_id,nextModuleId:n||o?d.next_content_id:null},{previous:i(h,j-1),nextMod:m}):{previous:i(h,j-1),next:i(h,j+1)}},z=(v=t(e().mark(function a(b,c){var d,f,h,i,j=arguments;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d=j.length>2&& void 0!==j[2]?j[2]:null,h=(u(f={},k.QlC.COLLABORATOR,g.eG),u(f,k.QlC.COAUTHOR,g.rG),u(f,k.QlC.REVIEWER,g.eG),f)[c],a.prev=3,a.t0=JSON,a.next=7,d?(0,g.a5)(b,d):h(b);case 7:return a.t1=a.sent,a.abrupt("return",a.t0.parse.call(a.t0,a.t1));case 11:return a.prev=11,a.t2=a.catch(3),a.abrupt("return",{error:(null===a.t2|| void 0===a.t2?void 0:null===(i=a.t2.responseJSON)|| void 0===i?void 0:i.errorText)||"Failed to retrieve user details."});case 15:case"end":return a.stop()}},a,null,[[3,11]])})),function(a,b){return v.apply(this,arguments)}),A=(w=t(e().mark(function a(b,c,d){var f,g;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(g=(u(f={},k.QlC.COLLABORATOR,"reviewer"),u(f,k.QlC.REVIEWER,"collaborator"),f)[d],!b.some(function(a){return a.email===c})){a.next=4;break}return a.abrupt("return",{error:"".concat(c," is already added as a ").concat(g,".")});case 4:return a.next=6,z(c,d);case 6:return a.abrupt("return",a.sent);case 7:case"end":return a.stop()}},a)})),function(a,b,c){return w.apply(this,arguments)}),B=function(a){return a&&a.split(" ")[0]},C=function(a){return a||"Deleted User"},D=function(a){if(a){var b=a.split(" ");if(b.length>1)return b.slice(1).join(" ")}return""},E=function(a){return[k.dLO.SKILL_ASSESSMENT,k.dLO.STANDALONE_PROJECT,k.dLO.STANDALONE_CLOUD_LAB,k.dLO.QUESTIONNAIRE,k.dLO.ENTERPRISE_ASSESSMENT,].includes(a)},F=function(a,b){return E(a)?a:b},G=function(a,b){var c,d,e;return a===k.dLO.SKILL_ASSESSMENT?(null==b?void 0:null===(c=b.details)|| void 0===c?void 0:c.assessment_pages)||(null==b?void 0:b.p__assessment_pages):a===k.dLO.STANDALONE_PROJECT?(null==b?void 0:null===(d=b.details)|| void 0===d?void 0:d.project_pages)||(null==b?void 0:b.p__project_pages):a===k.dLO.STANDALONE_CLOUD_LAB?(null==b?void 0:null===(e=b.details)|| void 0===e?void 0:e.cloud_lab_pages)||(null==b?void 0:b.p__cloud_lab_pages):[]},H=function(a,b){var c,d=G(a,b)[0]||void 0,e=(u(c={},k.dLO.SKILL_ASSESSMENT,k.qen.ASSESSMENT),u(c,k.dLO.STANDALONE_PROJECT,k.qen.PROJECT),u(c,k.dLO.STANDALONE_CLOUD_LAB,"cloudlab"),c)[a]||void 0;return{pageId:d,pageType:e}},I=function(a){var b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:["@educative.io","test.com"];return b.some(function(b){return null==a?void 0:a.includes(b)})},J=function(a,b){if(!a)return null;var c,d,e,f=a.flatMap(function(a){return a.pages}),g=f.findIndex(function(a){return(null!==(d=a.page_id)&& void 0!==d?d:a.id)===(null!==(e=b.page_id)&& void 0!==e?e:b.id)});return -1===g?null:null===(c=f[g])|| void 0===c?void 0:c.instance_page_title},K=function(a){var b,c,d;return(null==a?void 0:null===(b=a.learner_tags)|| void 0===b?void 0:b.length)>0&&"string"!=typeof a.learner_tags[0]?(c=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){u(a,b,c[b])})}return a}({},a),d={learner_tags:a.learner_tags.map(function(a){return a.id})},d=null!=d?d:{},Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(d)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(d)).forEach(function(a){Object.defineProperty(c,a,Object.getOwnPropertyDescriptor(d,a))}),c):a},L=function(a,b){return a.map(function(a){return Object.keys(b||{}).find(function(c){var d;return(null===(d=b[c])|| void 0===d?void 0:d.value)===a})})||[]},M=function(a){var b={};return Object.keys(a||{}).forEach(function(c){b[a[c].mime]||(b[a[c].mime]={title:c.charAt(0).toUpperCase()+c.slice(1),value:c})}),b},N=function(a){var b,c=new m.Z(!0,!1);JSON.parse(JSON.stringify(null==a?void 0:null===(b=a.toc)|| void 0===b?void 0:b.categories)).forEach(function(a,b){c.pages.push(JSON.parse(JSON.stringify(a)))}),a.toc.categories=[],a.toc.categories.push(c)},O=function(a){var b,c,d,e,g,h,i,l,m,o,p,q=(0,f.Z)(a);q.toc||(q.toc={categories:[]}),q.udata_files||(q.udata_files=[]),q.skills||(q.skills=[]),q.target_audience||(q.target_audience=n.F4[0].value),q.CodeThemes=Object.keys(null!==(h=q.default_theme)&& void 0!==h?h:{}).length?q.default_themes.code_themes:{Code:"default",Markdown:"default",RunJS:"default",SPA:"default"},q.CodeThemes.isForced=null!==(i=q.CodeThemes.isForced)&& void 0!==i?i:j.Z,"undefined"!=((p=null===(c=q.docker)|| void 0===c?void 0:c.container)&&"undefined"!=typeof Symbol&&p.constructor===Symbol?"symbol":typeof p)&&(q.docker.container.track=null!==(o=null==q?void 0:null===(l=q.docker)|| void 0===l?void 0:null===(m=l.container)|| void 0===m?void 0:m.track)&& void 0!==o&&o),!q.toc.categories.length&&(b=q,(0,n.SK)(b,!0,!1)),k.xLO&&(null==q?void 0:q.work_type)===k.dLO.PATH&&(null==q?void 0:q.is_private)&&!q.is_plan&&(null==q?void 0:null===(d=q.toc)|| void 0===d?void 0:d.categories[0].type)!==k.j1J.COLLECTION_CATEGORY&&N(q),null===(e=q.toc)|| void 0===e||null===(g=e.categories)|| void 0===g||g.forEach(function(a){var b;a.title=a.title||"",null==a||null===(b=a.pages)|| void 0===b||b.forEach(function(a){a.title=a.title||""})});var r=q.page_titles;return q.toc.categories.forEach(function(a){return a.pages.forEach(function(a){var b;[k.RIu.LESSON,k.RIu.SHOT].includes(a.type)||(a.title=null!==(b=null==r?void 0:r[null==a?void 0:a.id])&& void 0!==b?b:k.Va9)})}),q},P=function(a){var b=!1;if(a){var c=a.is_priced,d=void 0===c?null:c,e=a.price,f=void 0===e?null:e,g=a.discounted_price,h=void 0===g?null:g;b=d&&(0===f||0===h)||!d}return b},Q=["prepare-for-interview","interview-prep","prepare-for-an-interview",]},55404:function(a,b,c){c.d(b,{AE:function(){return g},BT:function(){return f},oo:function(){return e}});var d=new(c(81094)).Z,e=function(a){var b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:"courses";return"/".concat(b,"/").concat(a)},f=function(a,b){var c=arguments.length>2&& void 0!==arguments[2]?arguments[2]:"courses",e=arguments.length>3&& void 0!==arguments[3]?arguments[3]:null,f=arguments.length>4&& void 0!==arguments[4]&&arguments[4];return"/".concat(c,"/").concat(a,"/").concat(e&&!f?e:d.encode(parseInt(b,10)))},g=function(a){return d.encode(parseInt(a,10))}},10642:function(a,b,c){var d=c(71653),e=function(a){var b=arguments.length>1&& void 0!==arguments[1]&&arguments[1];return a===d.dLO.PATH?"".concat(d.dLO.PATH).concat(b?"/lesson":""):a===d.dLO.MODULE?"".concat(d.dLO.MODULE).concat(b?"/lesson":""):"courses"};b.Z=e},20406:function(a,b,c){var d,e,f=c(83249);function g(){return(g=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var h=function(a){return f.createElement("svg",g({xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 0 24 24",width:24},a),d||(d=f.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),e||(e=f.createElement("path",{d:"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4z"})))};b.Z=h}}])
//# sourceMappingURL=https://js.educative.io/static/_next/sourcemaps/static/chunks/41921-f1c5f142e11399d0.js.map