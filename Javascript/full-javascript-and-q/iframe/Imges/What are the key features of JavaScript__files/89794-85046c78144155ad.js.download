"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[89794],{2696:function(a,b,c){c.d(b,{Ui:function(){return bS},cA:function(){return by},X0:function(){return V}});let d=Math.floor,e=(a,b)=>a<b?a:b,f=(a,b)=>a>b?a:b,g=Number.MAX_SAFE_INTEGER,h=a=>{let b=unescape(encodeURIComponent(a)),c=b.length,d=new Uint8Array(c);for(let e=0;e<c;e++)d[e]=b.codePointAt(e);return d},i="undefined"!=typeof TextEncoder?new TextEncoder:null,j=a=>i.encode(a),k=i?j:h,l="undefined"==typeof TextDecoder?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});l&&1===l.decode(new Uint8Array).length&&(l=null);let m=(a,b)=>{let c=a.cbuf.length;a.cpos===c&&(a.bufs.push(a.cbuf),a.cbuf=new Uint8Array(2*c),a.cpos=0),a.cbuf[a.cpos++]=b},n=(a,b)=>{for(;b>127;)m(a,128|127&b),b=d(b/128);m(a,127&b)},o=new Uint8Array(3e4),p=o.length/3,q=(a,b)=>{if(b.length<p){let c=i.encodeInto(b,o).written||0;n(a,c);for(let d=0;d<c;d++)m(a,o[d])}else u(a,k(b))},r=(a,b)=>{let c=unescape(encodeURIComponent(b)),d=c.length;n(a,d);for(let e=0;e<d;e++)m(a,c.codePointAt(e))},s=i&&i.encodeInto?q:r,t=(a,b)=>{let c=a.cbuf.length,d=a.cpos,g=e(c-d,b.length),h=b.length-g;a.cbuf.set(b.subarray(0,g),d),a.cpos+=g,h>0&&(a.bufs.push(a.cbuf),a.cbuf=new Uint8Array(f(2*c,h)),a.cbuf.set(b.subarray(g)),a.cpos=h)},u=(a,b)=>{n(a,b.byteLength),t(a,b)},v=a=>Error(a),w=v("Unexpected end of array"),x=v("Integer out of Range"),y=(a,b)=>{let c=new Uint8Array(a.arr.buffer,a.pos+a.arr.byteOffset,b);return a.pos+=b,c},z=a=>y(a,B(a)),A=a=>a.arr[a.pos++],B=a=>{let b=0,c=1,d=a.arr.length;for(;a.pos<d;){let e=a.arr[a.pos++];if(b+=(127&e)*c,c*=128,e<128)return b;if(b>g)throw x}throw w},C=a=>{let b=B(a);if(0===b)return"";{let c=String.fromCodePoint(A(a));if(--b<100)for(;b--;)c+=String.fromCodePoint(A(a));else for(;b>0;){let d=b<1e4?b:1e4,e=a.arr.subarray(a.pos,a.pos+d);a.pos+=d,c+=String.fromCodePoint.apply(null,e),b-=d}return decodeURIComponent(escape(c))}},D=a=>l.decode(z(a)),E=l?D:C;(Q=S||(S={}))[Q.Token=0]="Token",Q[Q.PermissionDenied=1]="PermissionDenied",Q[Q.Authenticated=2]="Authenticated";let F=(a,b)=>{n(a,S.Token),s(a,b)},G=(a,b,c)=>{switch(B(a)){case S.PermissionDenied:b(E(a));break;case S.Authenticated:c(E(a))}},H={code:1009,reason:"Message Too Big"},I={code:4401,reason:"Unauthorized"},J={code:4403,reason:"Forbidden"},K=a=>Array.from(a.entries()).map(([a,b])=>({clientId:a,...b}));(R=T||(T={}))[R.Connecting=0]="Connecting",R[R.Open=1]="Open",R[R.Closing=2]="Closing",R[R.Closed=3]="Closed";var L,M,N,O,P,Q,R,S,T,U,V,W=c(8310);async function X(a){return new Promise((b,c)=>{setTimeout(b,a)})}function Y(a,b){let c=b.delay;if(0===c)return 0;if(b.factor&&(c*=Math.pow(b.factor,a.attemptNum-1),0!==b.maxDelay&&(c=Math.min(c,b.maxDelay))),b.jitter){let d=Math.ceil(b.minDelay),e=Math.floor(c);c=Math.floor(Math.random()*(e-d+1))+d}return Math.round(c)}async function Z(a,b){var c;let d=((c=b)||(c={}),{delay:void 0===c.delay?200:c.delay,initialDelay:void 0===c.initialDelay?0:c.initialDelay,minDelay:void 0===c.minDelay?0:c.minDelay,maxDelay:void 0===c.maxDelay?0:c.maxDelay,factor:void 0===c.factor?0:c.factor,maxAttempts:void 0===c.maxAttempts?3:c.maxAttempts,timeout:void 0===c.timeout?0:c.timeout,jitter:!0===c.jitter,handleError:void 0===c.handleError?null:c.handleError,handleTimeout:void 0===c.handleTimeout?null:c.handleTimeout,beforeAttempt:void 0===c.beforeAttempt?null:c.beforeAttempt,calculateDelay:void 0===c.calculateDelay?null:c.calculateDelay});for(let e of["delay","initialDelay","minDelay","maxDelay","maxAttempts","timeout"]){let f=d[e];if(!Number.isInteger(f)||f<0)throw Error(`Value for ${e} must be an integer greater than or equal to 0`)}if(d.factor.constructor!==Number||d.factor<0)throw Error("Value for factor must be a number greater than or equal to 0");if(d.delay<d.minDelay)throw Error(`delay cannot be less than minDelay (delay: ${d.delay}, minDelay: ${d.minDelay}`);let g={attemptNum:0,attemptsRemaining:d.maxAttempts?d.maxAttempts:-1,aborted:!1,abort(){g.aborted=!0}},h=d.calculateDelay||Y;async function i(){if(d.beforeAttempt&&d.beforeAttempt(g,d),g.aborted){let b=Error("Attempt aborted");throw b.code="ATTEMPT_ABORTED",b}let c=async a=>{if(d.handleError&&await d.handleError(a,g,d),g.aborted||0===g.attemptsRemaining)throw a;g.attemptNum++;let b=h(g,d);return b&&await X(b),i()};return(g.attemptsRemaining>0&&g.attemptsRemaining--,d.timeout)?new Promise((b,e)=>{let f=setTimeout(()=>{if(d.handleTimeout)try{b(d.handleTimeout(g,d))}catch(a){e(a)}else{let c=Error(`Retry timeout (attemptNum: ${g.attemptNum}, timeout: ${d.timeout})`);c.code="ATTEMPT_TIMEOUT",e(c)}},d.timeout);a(g,d).then(a=>{clearTimeout(f),b(a)}).catch(a=>{clearTimeout(f),c(a).then(b).catch(e)})}):a(g,d).catch(c)}let j=d.calculateDelay?d.calculateDelay(g,d):d.initialDelay;return j&&await X(j),i()}var $=c(20110),_=c(59406).Buffer;let aa=()=>new Map,ab=(a,b,c)=>{let d=a.get(b);return void 0===d&&a.set(b,d=c()),d},ac=()=>new Set,ad=Array.from,ae=String.fromCharCode,af=a=>a.toLowerCase(),ag=/^\s*/g,ah=a=>a.replace(ag,""),ai=/([A-Z])/g,aj=(a,b)=>ah(a.replace(ai,a=>`${b}${af(a)}`)),ak=a=>{let b=unescape(encodeURIComponent(a)),c=b.length,d=new Uint8Array(c);for(let e=0;e<c;e++)d[e]=b.codePointAt(e);return d},al="undefined"!=typeof TextEncoder?new TextEncoder:null,am=a=>al.encode(a),an=al?am:ak,ao="undefined"==typeof TextDecoder?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});ao&&1===ao.decode(new Uint8Array).length&&(ao=null);let ap=a=>void 0===a?null:a,aq=new class{constructor(){this.map=new Map}setItem(a,b){this.map.set(a,b)}getItem(a){return this.map.get(a)}},ar=!0;try{"undefined"!=typeof localStorage&&localStorage&&(aq=localStorage,ar=!1)}catch(as){}let at=aq,au=a=>ar||removeEventListener("storage",a),av=Object.keys,aw=(a,b)=>{let c=[];for(let d in a)c.push(b(a[d],d));return c},ax=a=>av(a).length,ay=(a,b)=>Object.prototype.hasOwnProperty.call(a,b),az=(a,b)=>a===b,aA=(a,b)=>{if(null==a||null==b)return az(a,b);if(a.constructor!==b.constructor)return!1;if(a===b)return!0;switch(a.constructor){case ArrayBuffer:a=new Uint8Array(a),b=new Uint8Array(b);case Uint8Array:if(a.byteLength!==b.byteLength)return!1;for(let c=0;c<a.length;c++)if(a[c]!==b[c])return!1;break;case Set:if(a.size!==b.size)return!1;for(let d of a)if(!b.has(d))return!1;break;case Map:if(a.size!==b.size)return!1;for(let e of a.keys())if(!b.has(e)||!aA(a.get(e),b.get(e)))return!1;break;case Object:if(ax(a)!==ax(b))return!1;for(let f in a)if(!ay(a,f)||!aA(a[f],b[f]))return!1;break;case Array:if(a.length!==b.length)return!1;for(let g=0;g<a.length;g++)if(!aA(a[g],b[g]))return!1;break;default:return!1}return!0},aB=void 0!==$&&$.release&&/node|io\.js/.test($.release.name)&&"[object process]"===Object.prototype.toString.call(void 0!==$?$:0),aC="undefined"!=typeof window&&"undefined"!=typeof document&&!aB;"undefined"!=typeof navigator&&/Mac/.test(navigator.platform);let aD,aE=()=>{if(void 0===aD){if(aB){aD=aa();let a=$.argv,b=null;for(let c=0;c<a.length;c++){let d=a[c];"-"===d[0]?(null!==b&&aD.set(b,""),b=d):null!==b&&(aD.set(b,d),b=null)}null!==b&&aD.set(b,"")}else"object"==typeof location?(aD=aa(),(location.search||"?").slice(1).split("&").forEach(a=>{if(0!==a.length){let[b,c]=a.split("=");aD.set(`--${aj(b,"-")}`,c),aD.set(`-${aj(b,"-")}`,c)}})):aD=aa()}return aD},aF=a=>aE().has(a),aG=a=>aB?ap($.env[a.toUpperCase()]):ap(at.getItem(a));aF("--"+(L="production"))||aG(L);let aH=aB&&["true","1","2"].includes(M=$.env.FORCE_COLOR);!aF("no-colors")&&(!aB||$.stdout.isTTY||aH)&&(!aB||aF("color")||aH||null!==aG("COLORTERM")||(aG("TERM")||"").includes("color"));let aI=Math.floor,aJ=(a,b)=>a<b?a:b,aK=(a,b)=>a>b?a:b,aL=Number.MAX_SAFE_INTEGER;class aM{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}let aN=()=>new aM,aO=a=>{let b=a.cpos;for(let c=0;c<a.bufs.length;c++)b+=a.bufs[c].length;return b},aP=a=>{let b=new Uint8Array(aO(a)),c=0;for(let d=0;d<a.bufs.length;d++){let e=a.bufs[d];b.set(e,c),c+=e.length}return b.set(new Uint8Array(a.cbuf.buffer,0,a.cpos),c),b},aQ=(a,b)=>{let c=a.cbuf.length;a.cpos===c&&(a.bufs.push(a.cbuf),a.cbuf=new Uint8Array(2*c),a.cpos=0),a.cbuf[a.cpos++]=b},aR=(a,b)=>{for(;b>127;)aQ(a,128|127&b),b=aI(b/128);aQ(a,127&b)},aS=new Uint8Array(3e4),aT=aS.length/3,aU=(a,b)=>{if(b.length<aT){let c=al.encodeInto(b,aS).written||0;aR(a,c);for(let d=0;d<c;d++)aQ(a,aS[d])}else aY(a,an(b))},aV=(a,b)=>{let c=unescape(encodeURIComponent(b)),d=c.length;aR(a,d);for(let e=0;e<d;e++)aQ(a,c.codePointAt(e))},aW=al&&al.encodeInto?aU:aV,aX=(a,b)=>{let c=a.cbuf.length,d=a.cpos,e=aJ(c-d,b.length),f=b.length-e;a.cbuf.set(b.subarray(0,e),d),a.cpos+=e,f>0&&(a.bufs.push(a.cbuf),a.cbuf=new Uint8Array(aK(2*c,f)),a.cbuf.set(b.subarray(e)),a.cpos=f)},aY=(a,b)=>{aR(a,b.byteLength),aX(a,b)},aZ=a=>Error(a),a$=aZ("Unexpected end of array"),a_=aZ("Integer out of Range");class a0{constructor(a){this.arr=a,this.pos=0}}let a1=a=>new a0(a),a2=(a,b)=>{let c=new Uint8Array(a.arr.buffer,a.pos+a.arr.byteOffset,b);return a.pos+=b,c},a3=a=>a2(a,a5(a)),a4=a=>a.arr[a.pos++],a5=a=>{let b=0,c=1,d=a.arr.length;for(;a.pos<d;){let e=a.arr[a.pos++];if(b+=(127&e)*c,c*=128,e<128)return b;if(b>aL)throw a_}throw a$},a6=a=>{let b=a.arr[a.pos++],c=63&b,d=64,e=(64&b)>0?-1:1;if((128&b)==0)return e*c;let f=a.arr.length;for(;a.pos<f;){if(c+=(127&(b=a.arr[a.pos++]))*d,d*=128,b<128)return e*c;if(c>aL)throw a_}throw a$},a7=a=>{let b=a5(a);if(0===b)return"";{let c=String.fromCodePoint(a4(a));if(--b<100)for(;b--;)c+=String.fromCodePoint(a4(a));else for(;b>0;){let d=b<1e4?b:1e4,e=a.arr.subarray(a.pos,a.pos+d);a.pos+=d,c+=String.fromCodePoint.apply(null,e),b-=d}return decodeURIComponent(escape(c))}},a8=a=>ao.decode(a3(a)),a9=ao?a8:a7,ba=a=>{let b=a.pos,c=a9(a);return a.pos=b,c},bb=a=>new Uint8Array(a),bc=(a,b,c)=>new Uint8Array(a,b,c),bd=a=>new Uint8Array(a),be=a=>{let b="";for(let c=0;c<a.byteLength;c++)b+=ae(a[c]);return btoa(b)},bf=a=>_.from(a.buffer,a.byteOffset,a.byteLength).toString("base64"),bg=a=>{let b=atob(a),c=bb(b.length);for(let d=0;d<b.length;d++)c[d]=b.charCodeAt(d);return c},bh=a=>{let b=_.from(a,"base64");return bc(b.buffer,b.byteOffset,b.byteLength)},bi=aC?be:bf,bj=aC?bg:bh,bk=new Map,bl="undefined"==typeof BroadcastChannel?class{constructor(a){var b;this.room=a,this.onmessage=null,this._onChange=b=>b.key===a&&null!==this.onmessage&&this.onmessage({data:bj(b.newValue||"")}),b=this._onChange,ar||addEventListener("storage",b)}postMessage(a){at.setItem(this.room,bi(bd(a)))}close(){au(this._onChange)}}:BroadcastChannel,bm=a=>ab(bk,a,()=>{let b=ac(),c=new bl(a);return c.onmessage=a=>b.forEach(b=>b(a.data,"broadcastchannel")),{bc:c,subs:b}}),bn=(a,b)=>(bm(a).subs.add(b),b),bo=(a,b)=>{let c=bm(a),d=c.subs.delete(b);return d&&0===c.subs.size&&(c.bc.close(),bk.delete(a)),d},bp=(a,b,c=null)=>{let d=bm(a);d.bc.postMessage(b),d.subs.forEach(a=>a(b,c))},bq=Date.now;class br{constructor(){this._observers=aa()}on(a,b){ab(this._observers,a,ac).add(b)}once(a,b){let c=(...d)=>{this.off(a,c),b(...d)};this.on(a,c)}off(a,b){let c=this._observers.get(a);void 0!==c&&(c.delete(b),0===c.size&&this._observers.delete(a))}emit(a,b){return ad((this._observers.get(a)||aa()).values()).forEach(a=>a(...b))}destroy(){this._observers=aa()}}let bs=(a,b,c)=>{let d=[];for(let e=0;e<b.length;e++){let f=b[e];if(a.states.has(f)){if(a.states.delete(f),f===a.clientID){let g=a.meta.get(f);a.meta.set(f,{clock:g.clock+1,lastUpdated:bq()})}d.push(f)}}d.length>0&&(a.emit("change",[{added:[],updated:[],removed:d},c]),a.emit("update",[{added:[],updated:[],removed:d},c]))},bt=(a,b,c=a.states)=>{let d=b.length,e=aN();aR(e,d);for(let f=0;f<d;f++){let g=b[f],h=c.get(g)||null,i=a.meta.get(g).clock;aR(e,g),aR(e,i),aW(e,JSON.stringify(h))}return aP(e)},bu=(a,b,c)=>{let d=a1(b),e=bq(),f=[],g=[],h=[],i=[],j=a5(d);for(let k=0;k<j;k++){let l=a5(d),m=a5(d),n=JSON.parse(a9(d)),o=a.meta.get(l),p=a.states.get(l),q=void 0===o?0:o.clock;(q<m||q===m&&null===n&&a.states.has(l))&&(null===n?l===a.clientID&&null!=a.getLocalState()?m++:a.states.delete(l):a.states.set(l,n),a.meta.set(l,{clock:m,lastUpdated:e}),void 0===o&&null!==n?f.push(l):void 0!==o&&null===n?i.push(l):null!==n&&(aA(n,p)||h.push(l),g.push(l)))}(f.length>0||h.length>0||i.length>0)&&a.emit("change",[{added:f,updated:h,removed:i},c]),(f.length>0||g.length>0||i.length>0)&&a.emit("update",[{added:f,updated:g,removed:i},c])};class bv{constructor(){this.callbacks={}}on(a,b){return this.callbacks[a]||(this.callbacks[a]=[]),this.callbacks[a].push(b),this}emit(a,...b){let c=this.callbacks[a];return c&&c.forEach(a=>a.apply(this,b)),this}off(a,b){let c=this.callbacks[a];return c&&(b?this.callbacks[a]=c.filter(a=>a!==b):delete this.callbacks[a]),this}removeAllListeners(){this.callbacks={}}}let bw=a=>aw(a,(a,b)=>`${encodeURIComponent(b)}=${encodeURIComponent(a)}`).join("&");(O=U||(U={}))[O.Sync=0]="Sync",O[O.Awareness=1]="Awareness",O[O.Auth=2]="Auth",O[O.QueryAwareness=3]="QueryAwareness",O[O.Stateless=5]="Stateless",O[O.CLOSE=7]="CLOSE",O[O.SyncStatus=8]="SyncStatus",(P=V||(V={})).Connecting="connecting",P.Connected="connected",P.Disconnected="disconnected";class bx{constructor(a){this.data=a,this.encoder=aN(),this.decoder=a1(new Uint8Array(this.data))}peekVarString(){return ba(this.decoder)}readVarUint(){return a5(this.decoder)}readVarString(){return a9(this.decoder)}readVarUint8Array(){return a3(this.decoder)}writeVarUint(a){return aR(this.encoder,a)}writeVarString(a){return aW(this.encoder,a)}writeVarUint8Array(a){return aY(this.encoder,a)}length(){return aO(this.encoder)}}class by extends bv{constructor(a){if(super(),this.messageQueue=[],this.configuration={url:"",document:void 0,WebSocketPolyfill:void 0,parameters:{},connect:!0,broadcast:!0,forceSyncInterval:!1,messageReconnectTimeout:3e4,delay:1e3,initialDelay:0,factor:2,maxAttempts:0,minDelay:1e3,maxDelay:3e4,jitter:!0,timeout:0,onOpen:()=>null,onConnect:()=>null,onMessage:()=>null,onOutgoingMessage:()=>null,onStatus:()=>null,onDisconnect:()=>null,onClose:()=>null,onDestroy:()=>null,onAwarenessUpdate:()=>null,onAwarenessChange:()=>null,quiet:!1,providerMap:new Map},this.webSocket=null,this.webSocketHandlers={},this.shouldConnect=!0,this.status=V.Disconnected,this.lastMessageReceived=0,this.identifier=0,this.intervals={forceSync:null,connectionChecker:null},this.connectionAttempt=null,this.receivedOnOpenPayload=void 0,this.receivedOnStatusPayload=void 0,this.closeTries=0,this.setConfiguration(a),this.configuration.WebSocketPolyfill=a.WebSocketPolyfill?a.WebSocketPolyfill:WebSocket,this.on("open",this.configuration.onOpen),this.on("open",this.onOpen.bind(this)),this.on("connect",this.configuration.onConnect),this.on("message",this.configuration.onMessage),this.on("outgoingMessage",this.configuration.onOutgoingMessage),this.on("status",this.configuration.onStatus),this.on("status",this.onStatus.bind(this)),this.on("disconnect",this.configuration.onDisconnect),this.on("close",this.configuration.onClose),this.on("destroy",this.configuration.onDestroy),this.on("awarenessUpdate",this.configuration.onAwarenessUpdate),this.on("awarenessChange",this.configuration.onAwarenessChange),this.on("close",this.onClose.bind(this)),this.on("message",this.onMessage.bind(this)),this.intervals.connectionChecker=setInterval(this.checkConnection.bind(this),this.configuration.messageReconnectTimeout/10),void 0!==a.connect&&(this.shouldConnect=a.connect),!this.shouldConnect)return;this.connect()}async onOpen(a){this.receivedOnOpenPayload=a}async onStatus(a){this.receivedOnStatusPayload=a}attach(a){let b;return this.configuration.providerMap.set(a.configuration.name,a),this.status===V.Disconnected&&this.shouldConnect&&(b=this.connect()),this.receivedOnOpenPayload&&a.onOpen(this.receivedOnOpenPayload),this.receivedOnStatusPayload&&a.onStatus(this.receivedOnStatusPayload),b}detach(a){this.configuration.providerMap.delete(a.configuration.name)}setConfiguration(a={}){this.configuration={...this.configuration,...a}}async connect(){if(this.status===V.Connected)return;this.cancelWebsocketRetry&&(this.cancelWebsocketRetry(),this.cancelWebsocketRetry=void 0),this.receivedOnOpenPayload=void 0,this.receivedOnStatusPayload=void 0,this.shouldConnect=!0;let{retryPromise:a,cancelFunc:b}=(()=>{let a=!1,b=Z(this.createWebSocketConnection.bind(this),{delay:this.configuration.delay,initialDelay:this.configuration.initialDelay,factor:this.configuration.factor,maxAttempts:this.configuration.maxAttempts,minDelay:this.configuration.minDelay,maxDelay:this.configuration.maxDelay,jitter:this.configuration.jitter,timeout:this.configuration.timeout,beforeAttempt:b=>{(!this.shouldConnect||a)&&b.abort()}}).catch(a=>{if(a&&"ATTEMPT_ABORTED"!==a.code)throw a});return{retryPromise:b,cancelFunc:()=>{a=!0}}})();return this.cancelWebsocketRetry=b,a}attachWebSocketListeners(a,b){let{identifier:c}=a,d=a=>this.emit("message",a),e=a=>this.emit("close",{event:a}),f=a=>this.emit("open",a),g=a=>{b(a)};this.webSocketHandlers[c]={message:d,close:e,open:f,error:g};let h=this.webSocketHandlers[a.identifier];Object.keys(h).forEach(b=>{a.addEventListener(b,h[b])})}cleanupWebSocket(){if(!this.webSocket)return;let{identifier:a}=this.webSocket,b=this.webSocketHandlers[a];Object.keys(b).forEach(a=>{var c;null===(c=this.webSocket)|| void 0===c||c.removeEventListener(a,b[a])}),delete this.webSocketHandlers[a],this.webSocket.close(),this.webSocket=null}createWebSocketConnection(){return new Promise((a,b)=>{this.webSocket&&(this.messageQueue=[],this.cleanupWebSocket()),this.lastMessageReceived=0,this.identifier+=1;let c=new this.configuration.WebSocketPolyfill(this.url);c.binaryType="arraybuffer",c.identifier=this.identifier,this.attachWebSocketListeners(c,b),this.webSocket=c,this.status=V.Connecting,this.emit("status",{status:V.Connecting}),this.connectionAttempt={resolve:a,reject:b}})}onMessage(a){var b;this.resolveConnectionAttempt(),this.lastMessageReceived=bq();let c=new bx(a.data),d=c.peekVarString();null===(b=this.configuration.providerMap.get(d))|| void 0===b||b.onMessage(a)}resolveConnectionAttempt(){this.connectionAttempt&&(this.connectionAttempt.resolve(),this.connectionAttempt=null,this.status=V.Connected,this.emit("status",{status:V.Connected}),this.emit("connect"),this.messageQueue.forEach(a=>this.send(a)),this.messageQueue=[])}stopConnectionAttempt(){this.connectionAttempt=null}rejectConnectionAttempt(){var a;null===(a=this.connectionAttempt)|| void 0===a||a.reject(),this.connectionAttempt=null}checkConnection(){var a;!(this.status!==V.Connected||!this.lastMessageReceived||this.configuration.messageReconnectTimeout>=bq()-this.lastMessageReceived)&&(this.closeTries+=1,this.closeTries>2?(this.onClose({event:{code:4408,reason:"forced"}}),this.closeTries=0):(null===(a=this.webSocket)|| void 0===a||a.close(),this.messageQueue=[]))}get serverUrl(){for(;"/"===this.configuration.url[this.configuration.url.length-1];)return this.configuration.url.slice(0,this.configuration.url.length-1);return this.configuration.url}get url(){let a=bw(this.configuration.parameters);return`${this.serverUrl}${0===a.length?"":`?${a}`}`}disconnect(){if(this.shouldConnect=!1,null!==this.webSocket)try{this.webSocket.close(),this.messageQueue=[]}catch{}}send(a){var b;(null===(b=this.webSocket)|| void 0===b?void 0:b.readyState)===T.Open?this.webSocket.send(a):this.messageQueue.push(a)}onClose({event:a}){if(this.closeTries=0,this.cleanupWebSocket(),this.status===V.Connected&&(this.status=V.Disconnected,this.emit("status",{status:V.Disconnected}),this.emit("disconnect",{event:a})),a.code===I.code&&(a.reason===I.reason?console.warn("[HocuspocusProvider] An authentication token is required, but you didn’t send one. Try adding a `token` to your HocuspocusProvider configuration. Won’t try again."):console.warn(`[HocuspocusProvider] Connection closed with status Unauthorized: ${a.reason}`),this.shouldConnect=!1),a.code===J.code&&!this.configuration.quiet){console.warn("[HocuspocusProvider] The provided authentication token isn’t allowed to connect to this server. Will try again.");return}a.code===H.code&&(console.warn(`[HocuspocusProvider] Connection closed with status MessageTooBig: ${a.reason}`),this.shouldConnect=!1),this.connectionAttempt?this.rejectConnectionAttempt():this.shouldConnect&&this.connect(),!this.shouldConnect&&this.status!==V.Disconnected&&(this.status=V.Disconnected,this.emit("status",{status:V.Disconnected}),this.emit("disconnect",{event:a}))}destroy(){this.emit("destroy"),this.intervals.forceSync&&clearInterval(this.intervals.forceSync),clearInterval(this.intervals.connectionChecker),this.stopConnectionAttempt(),this.disconnect(),this.removeAllListeners(),this.cleanupWebSocket()}}let bz=(a,b)=>{aR(a,0);let c=W.gJ(b);aY(a,c)},bA=(a,b,c)=>{aR(a,1),aY(a,W.D$(b,c))},bB=(a,b,c)=>bA(b,c,a3(a)),bC=(a,b,c)=>{try{W.NG(b,a3(a),c)}catch(d){console.error("Caught error while handling a Yjs update",d)}},bD=(a,b)=>{aR(a,2),aY(a,b)},bE=bC,bF=(a,b,c,d)=>{let e=a5(a);switch(e){case 0:bB(a,b,c);break;case 1:bC(a,c,d);break;case 2:bE(a,c,d);break;default:throw Error("Unknown message type")}return e};class bG{constructor(){this.encoder=aN()}get(a){return a.encoder}toUint8Array(){return aP(this.encoder)}}class bH{constructor(a){this.broadcasted=!1,this.message=a}setBroadcasted(a){return this.broadcasted=a,this}apply(a,b){let{message:c}=this,d=c.readVarUint(),e=c.length();switch(d){case U.Sync:this.applySyncMessage(a,b);break;case U.Awareness:this.applyAwarenessMessage(a);break;case U.Auth:this.applyAuthMessage(a);break;case U.QueryAwareness:this.applyQueryAwarenessMessage(a);break;case U.Stateless:a.receiveStateless(a9(c.decoder));break;case U.SyncStatus:this.applySyncStatusMessage(a,1===a6(c.decoder));break;default:throw Error(`Can’t apply message of unknown type: ${d}`)}c.length()>e+1&&(this.broadcasted?a.broadcast(bG,{encoder:c.encoder}):a.send(bG,{encoder:c.encoder}))}applySyncMessage(a,b){let{message:c}=this;c.writeVarUint(U.Sync);let d=bF(c.decoder,c.encoder,a.document,a);b&&1===d&&(a.synced=!0)}applySyncStatusMessage(a,b){b&&a.decrementUnsyncedChanges()}applyAwarenessMessage(a){if(!a.awareness)return;let{message:b}=this;bu(a.awareness,b.readVarUint8Array(),a)}applyAuthMessage(a){let{message:b}=this;G(b.decoder,a.permissionDeniedHandler.bind(a),a.authenticatedHandler.bind(a))}applyQueryAwarenessMessage(a){if(!a.awareness)return;let{message:b}=this;b.writeVarUint(U.Awareness),b.writeVarUint8Array(bt(a.awareness,Array.from(a.awareness.getStates().keys())))}}class bI{constructor(a,b={}){this.message=new a,this.encoder=this.message.get(b)}create(){return aP(this.encoder)}send(a){null==a||a.send(this.create())}broadcast(a){bp(a,this.create())}}class bJ extends bG{constructor(){super(...arguments),this.type=U.Auth,this.description="Authentication"}get(a){if(void 0===a.token)throw Error("The authentication message requires `token` as an argument.");return aW(this.encoder,a.documentName),aR(this.encoder,this.type),F(this.encoder,a.token),this.encoder}}class bK extends bG{constructor(){super(...arguments),this.type=U.Awareness,this.description="Awareness states update"}get(a){if(void 0===a.awareness)throw Error("The awareness message requires awareness as an argument");if(void 0===a.clients)throw Error("The awareness message requires clients as an argument");aW(this.encoder,a.documentName),aR(this.encoder,this.type);let b;return b=void 0===a.states?bt(a.awareness,a.clients):bt(a.awareness,a.clients,a.states),aY(this.encoder,b),this.encoder}}class bL extends bG{constructor(){super(...arguments),this.type=U.CLOSE,this.description="Ask the server to close the connection"}get(a){return aW(this.encoder,a.documentName),aR(this.encoder,this.type),this.encoder}}class bM extends bG{constructor(){super(...arguments),this.type=U.QueryAwareness,this.description="Queries awareness states"}get(a){return aW(this.encoder,a.documentName),aR(this.encoder,this.type),this.encoder}}class bN extends bG{constructor(){super(...arguments),this.type=U.Stateless,this.description="A stateless message"}get(a){var b;return aW(this.encoder,a.documentName),aR(this.encoder,this.type),aW(this.encoder,null!==(b=a.payload)&& void 0!==b?b:""),this.encoder}}class bO extends bG{constructor(){super(...arguments),this.type=U.Sync,this.description="First sync step"}get(a){if(void 0===a.document)throw Error("The sync step one message requires document as an argument");return aW(this.encoder,a.documentName),aR(this.encoder,this.type),bz(this.encoder,a.document),this.encoder}}class bP extends bG{constructor(){super(...arguments),this.type=U.Sync,this.description="Second sync step"}get(a){if(void 0===a.document)throw Error("The sync step two message requires document as an argument");return aW(this.encoder,a.documentName),aR(this.encoder,this.type),bA(this.encoder,a.document),this.encoder}}class bQ extends bG{constructor(){super(...arguments),this.type=U.Sync,this.description="A document update"}get(a){return aW(this.encoder,a.documentName),aR(this.encoder,this.type),bD(this.encoder,a.update),this.encoder}}class bR extends Error{constructor(){super(...arguments),this.code=1001}}class bS extends bv{constructor(a){var b,c,d;super(),this.configuration={name:"",document:void 0,awareness:void 0,token:null,parameters:{},broadcast:!0,forceSyncInterval:!1,onAuthenticated:()=>null,onAuthenticationFailed:()=>null,onOpen:()=>null,onConnect:()=>null,onMessage:()=>null,onOutgoingMessage:()=>null,onStatus:()=>null,onSynced:()=>null,onDisconnect:()=>null,onClose:()=>null,onDestroy:()=>null,onAwarenessUpdate:()=>null,onAwarenessChange:()=>null,onStateless:()=>null,quiet:!1,connect:!0,preserveConnection:!0},this.subscribedToBroadcastChannel=!1,this.isSynced=!1,this.unsyncedChanges=0,this.status=V.Disconnected,this.isAuthenticated=!1,this.authorizedScope=void 0;let e;this.mux=(e=!0,(a,b)=>{if(e){e=!1;try{a()}finally{e=!0}}else void 0!==b&&b()}),this.intervals={forceSync:null},this.isConnected=!0,this.boundBroadcastChannelSubscriber=this.broadcastChannelSubscriber.bind(this),this.boundPageUnload=this.pageUnload.bind(this),this.boundOnOpen=this.onOpen.bind(this),this.boundOnClose=this.onClose.bind(this),this.boundOnStatus=this.onStatus.bind(this),this.forwardConnect=a=>this.emit("connect",a),this.forwardOpen=a=>this.emit("open",a),this.forwardClose=a=>this.emit("close",a),this.forwardDisconnect=a=>this.emit("disconnect",a),this.forwardDestroy=a=>this.emit("destroy",a),this.setConfiguration(a),this.configuration.document=a.document?a.document:new W.QW,this.configuration.awareness=void 0!==a.awareness?a.awareness:new class extends br{constructor(a){super(),this.doc=a,this.clientID=a.clientID,this.states=new Map,this.meta=new Map,this._checkInterval=setInterval(()=>{let a=bq();null!==this.getLocalState()&&15e3<=a-this.meta.get(this.clientID).lastUpdated&&this.setLocalState(this.getLocalState());let b=[];this.meta.forEach((c,d)=>{d!==this.clientID&&3e4<=a-c.lastUpdated&&this.states.has(d)&&b.push(d)}),b.length>0&&bs(this,b,"timeout")},aI(3e3)),a.on("destroy",()=>{this.destroy()}),this.setLocalState({})}destroy(){this.emit("destroy",[this]),this.setLocalState(null),super.destroy(),clearInterval(this._checkInterval)}getLocalState(){return this.states.get(this.clientID)||null}setLocalState(a){let b=this.clientID,c=this.meta.get(b),d=void 0===c?0:c.clock+1,e=this.states.get(b);null===a?this.states.delete(b):this.states.set(b,a),this.meta.set(b,{clock:d,lastUpdated:bq()});let f=[],g=[],h=[],i=[];null===a?i.push(b):null==e?null!=a&&f.push(b):(g.push(b),aA(e,a)||h.push(b)),(f.length>0||h.length>0||i.length>0)&&this.emit("change",[{added:f,updated:h,removed:i},"local"]),this.emit("update",[{added:f,updated:g,removed:i},"local"])}setLocalStateField(a,b){let c=this.getLocalState();null!==c&&this.setLocalState({...c,[a]:b})}getStates(){return this.states}}(this.document),this.on("open",this.configuration.onOpen),this.on("message",this.configuration.onMessage),this.on("outgoingMessage",this.configuration.onOutgoingMessage),this.on("synced",this.configuration.onSynced),this.on("destroy",this.configuration.onDestroy),this.on("awarenessUpdate",this.configuration.onAwarenessUpdate),this.on("awarenessChange",this.configuration.onAwarenessChange),this.on("stateless",this.configuration.onStateless),this.on("authenticated",this.configuration.onAuthenticated),this.on("authenticationFailed",this.configuration.onAuthenticationFailed),this.configuration.websocketProvider.on("connect",this.configuration.onConnect),this.configuration.websocketProvider.on("connect",this.forwardConnect),this.configuration.websocketProvider.on("open",this.boundOnOpen),this.configuration.websocketProvider.on("open",this.forwardOpen),this.configuration.websocketProvider.on("close",this.boundOnClose),this.configuration.websocketProvider.on("close",this.configuration.onClose),this.configuration.websocketProvider.on("close",this.forwardClose),this.configuration.websocketProvider.on("status",this.boundOnStatus),this.configuration.websocketProvider.on("disconnect",this.configuration.onDisconnect),this.configuration.websocketProvider.on("disconnect",this.forwardDisconnect),this.configuration.websocketProvider.on("destroy",this.configuration.onDestroy),this.configuration.websocketProvider.on("destroy",this.forwardDestroy),null===(b=this.awareness)|| void 0===b||b.on("update",()=>{this.emit("awarenessUpdate",{states:K(this.awareness.getStates())})}),null===(c=this.awareness)|| void 0===c||c.on("change",()=>{this.emit("awarenessChange",{states:K(this.awareness.getStates())})}),this.document.on("update",this.documentUpdateHandler.bind(this)),null===(d=this.awareness)|| void 0===d||d.on("update",this.awarenessUpdateHandler.bind(this)),this.registerEventListeners(),this.configuration.forceSyncInterval&&(this.intervals.forceSync=setInterval(this.forceSync.bind(this),this.configuration.forceSyncInterval)),this.configuration.websocketProvider.attach(this)}onStatus({status:a}){this.status=a,this.configuration.onStatus({status:a}),this.emit("status",{status:a})}setConfiguration(a={}){if(!a.websocketProvider&&a.url){let b=a;this.configuration.websocketProvider=new by({url:b.url,connect:b.connect,parameters:b.parameters})}this.configuration={...this.configuration,...a}}get document(){return this.configuration.document}get awareness(){return this.configuration.awareness}get hasUnsyncedChanges(){return this.unsyncedChanges>0}incrementUnsyncedChanges(){this.unsyncedChanges+=1,this.emit("unsyncedChanges",this.unsyncedChanges)}decrementUnsyncedChanges(){this.unsyncedChanges-=1,0===this.unsyncedChanges&&(this.synced=!0),this.emit("unsyncedChanges",this.unsyncedChanges)}forceSync(){this.send(bO,{document:this.document,documentName:this.configuration.name})}pageUnload(){this.awareness&&bs(this.awareness,[this.document.clientID],"window unload")}registerEventListeners(){"undefined"!=typeof window&&window.addEventListener("unload",this.boundPageUnload)}sendStateless(a){this.send(bN,{documentName:this.configuration.name,payload:a})}documentUpdateHandler(a,b){b!==this&&(this.incrementUnsyncedChanges(),this.send(bQ,{update:a,documentName:this.configuration.name},!0))}awarenessUpdateHandler({added:a,updated:b,removed:c},d){let e=a.concat(b).concat(c);this.send(bK,{awareness:this.awareness,clients:e,documentName:this.configuration.name},!0)}get synced(){return this.isSynced}set synced(a){this.isSynced!==a&&(this.isSynced=a,this.emit("synced",{state:a}),this.emit("sync",{state:a}))}receiveStateless(a){this.emit("stateless",{payload:a})}get isAuthenticationRequired(){return!!this.configuration.token&&!this.isAuthenticated}async connect(){return this.configuration.broadcast&&this.subscribeToBroadcastChannel(),this.configuration.websocketProvider.shouldConnect=!0,this.configuration.websocketProvider.attach(this)}disconnect(){this.disconnectBroadcastChannel(),this.configuration.websocketProvider.detach(this),this.isConnected=!1,this.configuration.preserveConnection||this.configuration.websocketProvider.disconnect()}async onOpen(a){this.isAuthenticated=!1,this.isConnected=!0,this.emit("open",{event:a});let b;try{b=await this.getToken()}catch(c){this.permissionDeniedHandler(`Failed to get token: ${c}`);return}this.isAuthenticationRequired&&this.send(bJ,{token:b,documentName:this.configuration.name}),this.startSync()}async getToken(){if("function"==typeof this.configuration.token){let a=await this.configuration.token();return a}return this.configuration.token}startSync(){this.incrementUnsyncedChanges(),this.send(bO,{document:this.document,documentName:this.configuration.name}),this.awareness&&null!==this.awareness.getLocalState()&&this.send(bK,{awareness:this.awareness,clients:[this.document.clientID],documentName:this.configuration.name})}send(a,b,c=!1){if(!this.isConnected)return;c&&this.mux(()=>{this.broadcast(a,b)});let d=new bI(a,b);this.emit("outgoingMessage",{message:d.message}),d.send(this.configuration.websocketProvider)}onMessage(a){let b=new bx(a.data),c=b.readVarString();b.writeVarString(c),this.emit("message",{event:a,message:new bx(a.data)}),new bH(b).apply(this,!0)}onClose(a){this.isAuthenticated=!1,this.synced=!1,this.awareness&&bs(this.awareness,Array.from(this.awareness.getStates().keys()).filter(a=>a!==this.document.clientID),this)}destroy(){this.emit("destroy"),this.intervals.forceSync&&clearInterval(this.intervals.forceSync),this.awareness&&(bs(this.awareness,[this.document.clientID],"provider destroy"),this.awareness.off("update",this.awarenessUpdateHandler),this.awareness.destroy()),this.document.off("update",this.documentUpdateHandler),this.removeAllListeners(),this.configuration.websocketProvider.off("connect",this.configuration.onConnect),this.configuration.websocketProvider.off("connect",this.forwardConnect),this.configuration.websocketProvider.off("open",this.boundOnOpen),this.configuration.websocketProvider.off("open",this.forwardOpen),this.configuration.websocketProvider.off("close",this.boundOnClose),this.configuration.websocketProvider.off("close",this.configuration.onClose),this.configuration.websocketProvider.off("close",this.forwardClose),this.configuration.websocketProvider.off("status",this.boundOnStatus),this.configuration.websocketProvider.off("disconnect",this.configuration.onDisconnect),this.configuration.websocketProvider.off("disconnect",this.forwardDisconnect),this.configuration.websocketProvider.off("destroy",this.configuration.onDestroy),this.configuration.websocketProvider.off("destroy",this.forwardDestroy),this.send(bL,{documentName:this.configuration.name}),this.disconnect(),"undefined"!=typeof window&&window.removeEventListener("unload",this.boundPageUnload)}permissionDeniedHandler(a){this.emit("authenticationFailed",{reason:a}),this.isAuthenticated=!1,this.disconnect(),this.status=V.Disconnected}authenticatedHandler(a){this.isAuthenticated=!0,this.authorizedScope=a,this.emit("authenticated")}get broadcastChannel(){return`${this.configuration.name}`}broadcastChannelSubscriber(a){this.mux(()=>{let b=new bx(a),c=b.readVarString();b.writeVarString(c),new bH(b).setBroadcasted(!0).apply(this,!1)})}subscribeToBroadcastChannel(){this.subscribedToBroadcastChannel||(bn(this.broadcastChannel,this.boundBroadcastChannelSubscriber),this.subscribedToBroadcastChannel=!0),this.mux(()=>{this.broadcast(bO,{document:this.document,documentName:this.configuration.name}),this.broadcast(bP,{document:this.document,documentName:this.configuration.name}),this.broadcast(bM,{document:this.document,documentName:this.configuration.name}),this.awareness&&this.broadcast(bK,{awareness:this.awareness,clients:[this.document.clientID],document:this.document,documentName:this.configuration.name})})}disconnectBroadcastChannel(){this.awareness&&this.send(bK,{awareness:this.awareness,clients:[this.document.clientID],states:new Map,documentName:this.configuration.name},!0),this.subscribedToBroadcastChannel&&(bo(this.broadcastChannel,this.boundBroadcastChannelSubscriber),this.subscribedToBroadcastChannel=!1)}broadcast(a,b){this.configuration.broadcast&&this.subscribedToBroadcastChannel&&new bI(a,b).broadcast(this.broadcastChannel)}setAwarenessField(a,b){if(!this.awareness)throw new bR(`Cannot set awareness field "${a}" to ${JSON.stringify(b)}. You have disabled Awareness for this provider by explicitly passing awareness: null in the provider configuration.`);this.awareness.setLocalStateField(a,b)}}let bT=crypto.getRandomValues.bind(crypto),bU=()=>bT(new Uint32Array(1))[0]},44178:function(a,b,c){c.d(b,{"$P":function(){return T},KK:function(){return ah},Kh:function(){return B},Rx:function(){return z},"_5":function(){return ag},hX:function(){return aa},lP:function(){return ae},le:function(){return ad},og:function(){return _}});var d=c(71115),e=c(8310),f=Object.defineProperty,g=Object.defineProperties,h=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,j=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable,l=(a,b,c)=>b in a?f(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c,m=(a,b)=>{for(var c in b||(b={}))j.call(b,c)&&l(a,c,b[c]);if(i)for(var c of i(b))k.call(b,c)&&l(a,c,b[c]);return a},n=(a,b)=>g(a,h(b)),o=(a,b)=>{var c={};for(var d in a)j.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&i)for(var d of i(a))0>b.indexOf(d)&&k.call(a,d)&&(c[d]=a[d]);return c};function p(a){return"[object Object]"===Object.prototype.toString.call(a)}function q(a){if(!p(a))return!1;let b=a.constructor;if(void 0===b)return!0;let c=b.prototype;return!1!==p(c)&& !1!==c.hasOwnProperty("isPrototypeOf")}function r(a,b){for(let c in a){let d=a[c],e=b[c];if(q(d)&&q(e)){if(!r(d,e))return!1}else if(Array.isArray(d)&&Array.isArray(e)){if(d.length!==e.length)return!1;for(let f=0;f<d.length;f++)if(d[f]!==e[f])return!1}else if(d!==e)return!1}for(let g in b)if(void 0===a[g]&& void 0!==b[g])return!1;return!0}function s(a,...b){return Object.fromEntries(Object.entries(a).filter(([a])=>b.includes(a)))}function t(a){return Object.fromEntries(Object.entries(a).filter(([,a])=>null!==a))}function u(a){return function(a){var b,c;let d=[];for(let e of a){if("string"==typeof e.insert&&0===e.insert.length)continue;let f=d[d.length-1];if(!f||"string"!=typeof f.insert||"string"!=typeof e.insert){d.push(e);continue}let g=f.attributes===e.attributes|| !f.attributes== !e.attributes&&r(null!=(b=f.attributes)?b:{},null!=(c=e.attributes)?c:{});if(g){f.insert+=e.insert;continue}d.push(e)}return d}(a.toDelta())}function v({insert:a}){return"string"==typeof a?a.length:1}function w(a){return a.reduce((a,b)=>a+v(b),0)}function x(a,b,c){if(c<1)return[];let d=0,e=[],f=b+c;for(let g=0;g<a.length&&!(d>=f);g++){let h=a[g],i=v(h);if(d+i<=b){d+=i;continue}if("string"!=typeof h.insert){d+=i,e.push(h);continue}let j=Math.max(0,b-d),k=Math.min(i,i-(d+i-f));e.push(n(m({},h),{insert:h.insert.slice(j,k)})),d+=i}return e}function y(a){return function(a,...b){return Object.fromEntries(Object.entries(a).filter(([a])=>!b.includes(a)))}(a,d.xv.isText(a)?"text":"children")}function z(a){let b=u(a),c=b.length>0?b.map(A):[{text:""}];return n(m({},a.getAttributes()),{children:c})}function A(a){return"string"==typeof a.insert?n(m({},a.attributes),{text:a.insert}):z(a.insert)}function B(a){return a.map(a=>d.xv.isText(a)?{insert:a.text,attributes:y(a)}:{insert:C(a)})}function C(a){var b=a,{children:c}=b,d=o(b,["children"]);let f=new e.eI;return Object.entries(d).forEach(([a,b])=>{f.setAttribute(a,b)}),f.applyDelta(B(c),{sanitize:!1}),f}function D(a){return a?d.xv.isText(a)?a.text.length:1:0}function E(a,b,c){var f,g,h;if(0===c.length)throw Error("Path has to a have a length >= 1");if(d.xv.isText(b))throw Error("Cannot descent into slate text");let[i,...j]=c,k=(g=b,h=i,g.children.slice(0,h).reduce((a,b)=>a+D(b),0)),l=b.children[i],m=u(a),n=D(l),o=x(m,k,n);if(o.length>1)throw Error("Path doesn't match yText, yTarget spans multiple nodes");let p=null==(f=o[0])?void 0:f.insert;if(j.length>0){if(!(p instanceof e.eI))throw Error("Path doesn't match yText, cannot descent into non-yText");return E(p,l,j)}return{yParent:a,textRange:{start:k,end:k+n},yTarget:p instanceof e.eI?p:void 0,slateParent:b,slateTarget:l,targetDelta:o}}function F(a,b,c={}){let{assoc:e=0,insert:f=!1}=c,g=0,h=0;for(let i=0;i<a.children.length;i++){let j=a.children[i],k=d.xv.isText(j)?j.text.length:1;k>0&&(h=i);let l=g+k;if(k>0&&(e>=0?l>b:l>=b))return[i,b-g];g+=k}if(b>g+(f?1:0))throw Error("yOffset out of bounds");if(f)return[a.children.length,0];let m=a.children[h],n=d.xv.isText(m)?m.text.length:1;return[h,n]}function G(a,b,c){let f=[c];for(;f[0]!==a;){let{parent:g}=f[0];if(!g)throw Error("yText isn't a descendant of root element");if(!(g instanceof e.eI))throw Error("Unexpected y parent type");f.unshift(g)}if(f.length<2)return[];let h=b;return f.reduce((a,b,c)=>{let e=f[c+1];if(!e)return a;let g=0,i=u(b);for(let j of i){if(j.insert===e)break;g+="string"==typeof j.insert?j.insert.length:1}if(d.xv.isText(h))throw Error("Cannot descent into slate text");let[k]=F(h,g);return h=h.children[k],a.concat(k)},[])}function H(a){return a.map(a=>"string"==typeof a.insert?a:n(m({},a),{insert:I(a.insert)}))}function I(a){let b=new e.eI,c=a.getAttributes();return Object.entries(c).forEach(([a,c])=>{b.setAttribute(a,c)}),b.applyDelta(H(u(a)),{sanitize:!1}),b}function J(a){if(!a.doc)throw Error("shared type isn't attached to a document")}var K="__slateYjsStoredPosition_";function L(a,b,c){let{yTarget:d,yParent:f,textRange:g}=E(a,b,c.path);if(d)throw Error("Slate point points to a non-text element inside sharedRoot");let h=g.start+c.offset;return e.w$(f,h,h===g.end?-1:0)}function M(a,b,c){if(!a.doc)throw Error("sharedRoot isn't attach to a yDoc");let f=e.or(c,a.doc);return f&&function(a,b,{type:c,index:f,assoc:g}){if(!(c instanceof e.eI))throw Error("Absolute position points to a non-XMLText");let h=G(a,b,c),i=d.NB.get(b,h);if(d.xv.isText(i))throw Error("Absolute position doesn't match slateRoot, cannot descent into text");let[j,k]=F(i,f,{assoc:g}),l=i.children[j];return d.xv.isText(l)?{path:[...h,j],offset:k}:null}(a,b,f)}function N(a,b,c){a.setAttribute(K+b,e.HM(c))}function O(a,b,c){return Object.fromEntries(Object.entries(a).filter(([,a])=>a.type===b&&(!c||(a.assoc>=0?a.index>=c.start&&a.index<c.end:a.index>c.start&&a.index>=c.end))))}function P(a,b,c=""){let d={[c]:O(a,b)},f=u(b);return f.forEach(({insert:b},f)=>{b instanceof e.eI&&Object.assign(d,P(a,b,c?`${c}.${f}`:f.toString()))}),d}function Q(a,b,c,d=0){var f;let g=(J(f=a),Object.fromEntries(Object.entries(f.getAttributes()).filter(([a])=>a.startsWith(K)).map(([a,b])=>[a.slice(K.length),e.or(e.xF(b),f.doc)]).filter(([,a])=>a))),h={"":O(g,b,{start:d,end:d+w(c)})};return c.forEach(({insert:a},b)=>{a instanceof e.eI&&Object.assign(h,P(g,a,b.toString()))}),h}function R(a,b,c,d,f=0,g=0,h=""){let i=c[h];i&&Object.entries(i).forEach(([c,d])=>{N(a,c,e.w$(b,d.index-g+f,d.assoc))}),d.forEach(({insert:b},d)=>{b instanceof e.eI&&R(a,b,c,u(b),0,0,h?`${h}.${d}`:d.toString())})}function S(a,b,c){return{anchor:L(a,b,c.anchor),focus:L(a,b,c.focus)}}function T(a,b,c){let d=M(a,b,c.anchor);if(!d)return null;let e=M(a,b,c.focus);return e?{anchor:d,focus:e}:null}var U=()=>{},V=n(m(m({},{insert_text:function(a,b,c){let{yParent:e,textRange:f}=E(a,b,c.path),g=d.NB.get(b,c.path);if(!d.xv.isText(g))throw Error("Cannot insert text into non-text node");e.insert(f.start+c.offset,c.text,y(g))},remove_text:function(a,b,c){let{yParent:d,textRange:e}=E(a,b,c.path);d.delete(e.start+c.offset,c.text.length)}}),{insert_node:function(a,b,c){let{yParent:e,textRange:f}=E(a,b,c.path);if(d.xv.isText(c.node))return e.insert(f.start,c.node.text,y(c.node));e.insertEmbed(f.start,C(c.node))},remove_node:function(a,b,c){let{yParent:d,textRange:e}=E(a,b,c.path);d.delete(e.start,e.end-e.start)},set_node:function(a,b,c){let{yTarget:d,textRange:e,yParent:f}=E(a,b,c.path);if(d)return Object.entries(c.newProperties).forEach(([a,b])=>{if(null===b)return d.removeAttribute(a);d.setAttribute(a,b)}),Object.entries(c.properties).forEach(([a])=>{c.newProperties.hasOwnProperty(a)||d.removeAttribute(a)});let g=Object.fromEntries(Object.keys(c.properties).map(a=>[a,null])),h=m(m({},g),c.newProperties);f.format(e.start,e.end-e.start,h)},merge_node:function(a,b,c){let e=E(a,b,c.path),f=E(e.yParent,e.slateParent,d.y$.previous(c.path.slice(-1)));if(!e.yTarget!= !f.yTarget)throw Error("Cannot merge y text with y element");if(!f.yTarget||!e.yTarget){let{yParent:g,textRange:h,slateTarget:i}=e;if(!i)throw Error("Expected Slate target node for merge op.");let j=d.NB.get(b,d.y$.previous(c.path));if(!d.xv.isText(j))throw Error("Path points to Y.Text but not a Slate text node.");let k=y(i),l=y(j),o=Object.keys(k).reduce((a,b)=>{let c=b in l;return c?a:n(m({},a),{[b]:null})},{});return g.format(h.start,h.end-h.start,m(m({},o),l))}let p=f.yTarget.length,q=u(e.yTarget),r=H(q),s=Q(a,e.yTarget,q,p);f.yTarget.applyDelta([{retain:p},...r],{sanitize:!1}),e.yParent.delete(e.textRange.start,e.textRange.end-e.textRange.start),R(a,f.yTarget,s,r,p)},move_node:function(a,b,c){let e=d.y$.parent(c.newPath),f=c.newPath[c.newPath.length-1],g=d.NB.get(b,e);if(d.xv.isText(g))throw Error("Cannot move slate node into text element");let h=[...e,Math.min(f,g.children.length)],i=E(a,b,c.path),j=E(a,b,h),k=H(i.targetDelta),l=Q(a,i.yParent,i.targetDelta);i.yParent.delete(i.textRange.start,i.textRange.end-i.textRange.start);let m=w(u(j.yParent)),n=Math.min(j.textRange.start,m);j.yParent.applyDelta([{retain:n},...k],{sanitize:!1}),R(a,j.yParent,l,k,n,i.textRange.start)},split_node:function(a,b,c){let f=E(a,b,c.path);if(!f.slateTarget)throw Error("Y target without corresponding slate node");if(!f.yTarget){if(!d.xv.isText(f.slateTarget))throw Error("Mismatch node type between y target and slate node");let g={};return f.targetDelta.forEach(a=>{a.attributes&&Object.keys(a.attributes).forEach(a=>{g[a]=null})}),f.yParent.format(f.textRange.start,f.textRange.end-f.textRange.start,m(m({},g),c.properties))}if(d.xv.isText(f.slateTarget))throw Error("Mismatch node type between y target and slate node");let h=E(f.yTarget,f.slateTarget,[c.position]),i=f.slateTarget.children.slice(0,c.position).reduce((a,b)=>a+D(b),0),j=f.slateTarget.children.reduce((a,b)=>a+D(b),0),k=x(u(f.yTarget),i,j-i),l=H(k),n=Q(a,f.yTarget,k,i),o=new e.eI;o.applyDelta(l,{sanitize:!1}),Object.entries(c.properties).forEach(([a,b])=>{o.setAttribute(a,b)}),f.yTarget.delete(h.textRange.start,f.yTarget.length-h.textRange.start),f.yParent.insertEmbed(f.textRange.end,o),R(a,o,n,l,0,i)}}),{set_selection:U}),W=Symbol("slate-yjs-operation"),X=Symbol("slate-yjs-position-storage"),Y=new WeakMap,Z=new WeakMap,$=new WeakSet,_={isYjsEditor(a){return d.ML.isEditor(a)&&a.sharedRoot instanceof e.eI&&"localOrigin"in a&&"positionStorageOrigin"in a&&"function"==typeof a.applyRemoteEvents&&"function"==typeof a.storeLocalChange&&"function"==typeof a.flushLocalChanges&&"function"==typeof a.isLocalOrigin&&"function"==typeof a.connect&&"function"==typeof a.disconnect},localChanges(a){var b;return null!=(b=Z.get(a))?b:[]},applyRemoteEvents(a,b,c){a.applyRemoteEvents(b,c)},storeLocalChange(a,b){a.storeLocalChange(b)},flushLocalChanges(a){a.flushLocalChanges()},connected(a){return $.has(a)},connect(a){a.connect()},disconnect(a){a.disconnect()},isLocal(a){return a.isLocalOrigin(_.origin(a))},origin(a){let b=Y.get(a);return void 0!==b?b:a.localOrigin},withOrigin(a,b,c){let d=_.origin(a);Y.set(a,b),c(),Y.set(a,d)},storePosition(a,b,c){let{sharedRoot:d,positionStorageOrigin:e}=a;J(d);let f=L(d,a,c);d.doc.transact(()=>{N(d,b,f)},e)},removeStoredPosition(a,b){let{sharedRoot:c,positionStorageOrigin:d}=a;J(c),c.doc.transact(()=>{!function(a,b){a.removeAttribute(K+b)}(c,b)},d)},position(a,b){let c=function(a,b){let c=a.getAttribute(K+b);return c?e.xF(c):null}(a.sharedRoot,b);if(c)return M(a.sharedRoot,a,c)},storedPositionsRelative(a){var b;return Object.fromEntries(Object.entries((b=a.sharedRoot).getAttributes()).filter(([a])=>a.startsWith(K)).map(([a,b])=>[a.slice(K.length),e.og(b)]))}};function aa(a,b,{localOrigin:c,positionStorageOrigin:f,autoConnect:g=!1}={}){let h=a;h.sharedRoot=b,h.localOrigin=null!=c?c:W,h.positionStorageOrigin=null!=f?f:X,h.applyRemoteEvents=(a,b)=>{_.flushLocalChanges(h),d.ML.withoutNormalizing(h,()=>{_.withOrigin(h,b,()=>{var b,c,f;b=h.sharedRoot,c=h,f=a,d.ML.withoutNormalizing(c,()=>{f.forEach(a=>{(function(a,b,c){if(c instanceof e.bT)return function(a,b,c){let{target:f,changes:g}=c,h=c.delta;if(!(f instanceof e.eI))throw Error("Unexpected target node type");let i=[],j=G(a,b,f),k=d.NB.get(b,j);if(d.xv.isText(k))throw Error("Cannot apply yTextEvent to text node");let l=Array.from(g.keys.entries());if(j.length>0&&l.length>0){let n=Object.fromEntries(l.map(([a,b])=>[a,"delete"===b.action?null:f.getAttribute(a)])),o=Object.fromEntries(l.map(([a])=>[a,k[a]]));i.push({type:"set_node",newProperties:n,properties:o,path:j})}return h.length>0&&i.push(...function(a,b,c){let e=[],f=c.reduce((a,b)=>"retain"in b?a+b.retain:"delete"in b?a+b.delete:a,0);return c.reverse().forEach(c=>{var g;if("attributes"in c&&"retain"in c){let[h,i]=F(a,f-c.retain),[j,k]=F(a,f,{assoc:-1});for(let l=j;l>=h;l--){let n=a.children[l],o=[...b,l];if(!d.xv.isText(n))continue;let p=c.attributes,q=s(a,...Object.keys(c.attributes));if(l===h||l===j){let u=l===h?i:0,v=l===j?k:n.text.length;if(v!==n.text.length&&e.push({type:"split_node",path:o,position:v,properties:y(n)}),0!==u){e.push({type:"split_node",path:o,position:u,properties:t(m(m({},y(n)),p))});continue}}e.push({type:"set_node",newProperties:p,path:o,properties:q})}}if("retain"in c&&(f-=c.retain),"delete"in c){let[w,x]=F(a,f-c.delete),[z,B]=F(a,f,{assoc:-1});for(let C=0===B?z-1:z;C>=w;C--){let E=a.children[C],G=[...b,C];if(d.xv.isText(E)&&(C===w||C===z)){let H=C===w?x:0,I=C===z?B:E.text.length;e.push({type:"remove_text",offset:H,text:E.text.slice(H,I),path:G}),f-=I-H;continue}e.push({type:"remove_node",node:E,path:G}),f-=D(E)}return}if("insert"in c){let[J,K]=F(a,f,{insert:!0}),L=a.children[J],M=[...b,J];if(d.xv.isText(L)){let N=e[e.length-1],O=null!=N&&"insert_node"===N.type?N.node:y(L),P=[];if(null!=N&&("insert_node"===N.type||"insert_text"===N.type||"split_node"===N.type||"set_node"===N.type)&&(P=N.path),"string"==typeof c.insert&&r(null!=(g=c.attributes)?g:{},O)&&d.y$.equals(M,P))return e.push({type:"insert_text",offset:K,text:c.insert,path:M});let Q=A(c);return 0===K?e.push({type:"insert_node",path:M,node:Q}):(K<L.text.length&&e.push({type:"split_node",path:M,position:K,properties:y(L)}),e.push({type:"insert_node",path:d.y$.next(M),node:Q}))}return e.push({type:"insert_node",path:M,node:A(c)})}}),e}(k,j,h)),i}(a,b,c);throw Error("Unexpected Y event type")})(b,c,a).forEach(a=>{c.apply(a)})})})})})},h.isLocalOrigin=a=>a===h.localOrigin;let i=(a,b)=>{!h.isLocalOrigin(b.origin)&&_.applyRemoteEvents(h,a,b.origin)},j=null;g&&(j=setTimeout(()=>{j=null,_.connect(h)})),h.connect=()=>{if(_.connected(h))throw Error("already connected");h.sharedRoot.observeDeep(i);let b=z(h.sharedRoot);h.children=b.children,$.add(h),d.ML.normalize(a,{force:!0}),a.operations.length||a.onChange()},h.disconnect=()=>{j&&clearTimeout(j),_.flushLocalChanges(h),h.sharedRoot.unobserveDeep(i),$.delete(h)},h.storeLocalChange=b=>{Z.set(h,[..._.localChanges(h),{op:b,doc:a.children,origin:_.origin(h)}])},h.flushLocalChanges=()=>{J(h.sharedRoot);let a=_.localChanges(h);Z.delete(h);let b=[];a.forEach(a=>{let c=b[b.length-1];if(c&&c[0].origin===a.origin)return c.push(a);b.push([a])}),b.forEach(a=>{J(h.sharedRoot),h.sharedRoot.doc.transact(()=>{a.forEach(a=>{J(h.sharedRoot),function(a,b,c){let d=V[c.type];if(!d)throw Error(`Unknown operation: ${c.type}`);d(a,b,c)}(h.sharedRoot,{children:a.doc},a.op)})},a[0].origin)})};let{apply:k,onChange:l}=h;return h.apply=a=>{_.connected(h)&&_.isLocal(h)&&_.storeLocalChange(h,a),k(a)},h.onChange=()=>{_.connected(h)&&_.flushLocalChanges(h),l()},h}var ab=new WeakMap,ac=Symbol("slate-yjs-history-without-saving"),ad={isYHistoryEditor(a){return _.isYjsEditor(a)&&a.undoManager instanceof e.H6&&"function"==typeof a.undo&&"function"==typeof a.redo&&"withoutSavingOrigin"in a},canUndo(a){return a.undoManager.undoStack.length>0},canRedo(a){return a.undoManager.redoStack.length>0},isSaving(a){return a.undoManager.trackedOrigins.has(_.origin(a))},withoutSaving(a,b){_.withOrigin(a,a.withoutSavingOrigin,b)}};function ae(a,b={}){var c=b,{withoutSavingOrigin:f=ac,trackedOrigins:g=new Set([a.localOrigin])}=c,h=o(c,["withoutSavingOrigin","trackedOrigins"]);let i=a,j=new e.H6(i.sharedRoot,m({trackedOrigins:g},h));i.undoManager=j,i.withoutSavingOrigin=f;let{onChange:k,isLocalOrigin:l}=i;i.onChange=()=>{k(),ab.set(i,i.selection&&S(i.sharedRoot,i,i.selection))},i.isLocalOrigin=a=>a===i.withoutSavingOrigin||l(a);let n=({stackItem:a})=>{a.meta.set("selection",i.selection&&S(i.sharedRoot,i,i.selection)),a.meta.set("selectionBefore",ab.get(i))},p=({stackItem:a})=>{a.meta.set("selection",i.selection&&S(i.sharedRoot,i,i.selection))},q=({stackItem:a,type:b})=>{let c="undo"===b?i.undoManager.redoStack:i.undoManager.undoStack,e=c[c.length-1];e&&(e.meta.set("selection",a.meta.get("selectionBefore")),e.meta.set("selectionBefore",a.meta.get("selection")));let f=a.meta.get("selectionBefore");if(!f)return;let g=T(i.sharedRoot,i,f);g&&d.YR.select(i,g)},{connect:r,disconnect:s}=i;return i.connect=()=>{r(),i.undoManager.on("stack-item-added",n),i.undoManager.on("stack-item-popped",q),i.undoManager.on("stack-item-updated",p)},i.disconnect=()=>{i.undoManager.off("stack-item-added",n),i.undoManager.off("stack-item-popped",q),i.undoManager.off("stack-item-updated",p),s()},i.undo=()=>{_.connected(i)&&(_.flushLocalChanges(i),i.undoManager.undo())},i.redo=()=>{_.connected(i)&&(_.flushLocalChanges(i),i.undoManager.redo())},i}var af=new WeakMap,ag={isCursorEditor(a){return _.isYjsEditor(a)&&a.awareness&&"string"==typeof a.cursorDataField&&"string"==typeof a.selectionStateField&&"function"==typeof a.sendCursorPosition&&"function"==typeof a.sendCursorData},sendCursorPosition(a,b=a.selection){a.sendCursorPosition(b)},sendCursorData(a,b){a.sendCursorData(b)},on(a,b,c){var d;if("change"!==b)return;let e=null!=(d=af.get(a))?d:new Set;e.add(c),af.set(a,e)},off(a,b,c){if("change"!==b)return;let d=af.get(a);d&&d.delete(c)},cursorState(a,b){var c;if(b===a.awareness.clientID||!_.connected(a))return null;let d=a.awareness.getStates().get(b);return d?{relativeSelection:null!=(c=d[a.selectionStateField])?c:null,data:d[a.cursorDataField],clientId:b}:null},cursorStates(a){return _.connected(a)?Object.fromEntries(Array.from(a.awareness.getStates().entries(),([b,c])=>b!==a.awareness.clientID&&c?[b,{relativeSelection:c[a.selectionStateField],data:c[a.cursorDataField]}]:null).filter(Array.isArray)):{}}};function ah(a,b,{cursorStateField:c="selection",cursorDataField:d="data",autoSend:f=!0,data:g}={}){let h=a;h.awareness=b,h.cursorDataField=d,h.selectionStateField=c,h.sendCursorData=a=>{h.awareness.setLocalStateField(h.cursorDataField,a)},h.sendCursorPosition=a=>{let b=h.awareness.getLocalState(),d=null==b?void 0:b[c];if(!a){d&&h.awareness.setLocalStateField(h.selectionStateField,null);return}let{anchor:f,focus:g}=S(h.sharedRoot,h,a);d&&e.Uq(f,d)&&e.Uq(g,d)||h.awareness.setLocalStateField(h.selectionStateField,{anchor:f,focus:g})};let i=a=>{let b=af.get(h);if(!b)return;let c=h.awareness.clientID,d={added:a.added.filter(a=>a!==c),removed:a.removed.filter(a=>a!==c),updated:a.updated.filter(a=>a!==c)};(d.added.length>0||d.removed.length>0||d.updated.length>0)&&b.forEach(a=>a(d))},{connect:j,disconnect:k}=h;return h.connect=()=>{if(j(),h.awareness.on("change",i),i({removed:[],added:Array.from(h.awareness.getStates().keys()),updated:[]}),f){g&&ag.sendCursorData(h,g);let{onChange:a}=h;h.onChange=()=>{a(),_.connected(h)&&ag.sendCursorPosition(h)}}},h.disconnect=()=>{h.awareness.off("change",i),i({removed:Array.from(h.awareness.getStates().keys()),added:[],updated:[]}),k()},h}},83128:function(a,b,c){c.d(b,{Ag:function(){return e}});var d=c(24374);let e=(a,b,c)=>{let e=[];for(let f=0;f<b.length;f++){let g=b[f];if(a.states.has(g)){if(a.states.delete(g),g===a.clientID){let h=a.meta.get(g);a.meta.set(g,{clock:h.clock+1,lastUpdated:d.getUnixTime()})}e.push(g)}}e.length>0&&(a.emit("change",[{added:[],updated:[],removed:e},c]),a.emit("update",[{added:[],updated:[],removed:e},c]))}},91515:function(a,b,c){c.d(b,{X3:function(){return o}});let d=(a,b)=>b.some(b=>a instanceof b),e,f,g=new WeakMap,h=new WeakMap,i=new WeakMap,j=new WeakMap,k=new WeakMap,l={get(a,b,c){if(a instanceof IDBTransaction){if("done"===b)return h.get(a);if("objectStoreNames"===b)return a.objectStoreNames||i.get(a);if("store"===b)return c.objectStoreNames[1]?void 0:c.objectStore(c.objectStoreNames[0])}return m(a[b])},set(a,b,c){return a[b]=c,!0},has(a,b){return a instanceof IDBTransaction&&("done"===b||"store"===b)||b in a}};function m(a){if(a instanceof IDBRequest)return function(a){let b=new Promise((b,c)=>{let d=()=>{a.removeEventListener("success",e),a.removeEventListener("error",f)},e=()=>{b(m(a.result)),d()},f=()=>{c(a.error),d()};a.addEventListener("success",e),a.addEventListener("error",f)});return b.then(b=>{b instanceof IDBCursor&&g.set(b,a)}).catch(()=>{}),k.set(b,a),b}(a);if(j.has(a))return j.get(a);let b=function(a){if("function"==typeof a){var b;return(b=a)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(f||(f=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey,])).includes(b)?function(...a){return b.apply(n(this),a),m(g.get(this))}:function(...a){return m(b.apply(n(this),a))}:function(a,...c){let d=b.call(n(this),a,...c);return i.set(d,a.sort?a.sort():[a]),m(d)}}return(a instanceof IDBTransaction&&function(a){if(h.has(a))return;let b=new Promise((b,c)=>{let d=()=>{a.removeEventListener("complete",e),a.removeEventListener("error",f),a.removeEventListener("abort",f)},e=()=>{b(),d()},f=()=>{c(a.error||new DOMException("AbortError","AbortError")),d()};a.addEventListener("complete",e),a.addEventListener("error",f),a.addEventListener("abort",f)});h.set(a,b)}(a),d(a,e||(e=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction,])))?new Proxy(a,l):a}(a);return b!==a&&(j.set(a,b),k.set(b,a)),b}let n=a=>k.get(a);function o(a,b,{blocked:c,upgrade:d,blocking:e,terminated:f}={}){let g=indexedDB.open(a,b),h=m(g);return d&&g.addEventListener("upgradeneeded",a=>{d(m(g.result),a.oldVersion,a.newVersion,m(g.transaction),a)}),c&&g.addEventListener("blocked",a=>c(a.oldVersion,a.newVersion,a)),h.then(a=>{f&&a.addEventListener("close",()=>f()),e&&a.addEventListener("versionchange",a=>e(a.oldVersion,a.newVersion,a))}).catch(()=>{}),h}let p=["get","getKey","getAll","getAllKeys","count"],q=["put","add","delete","clear"],r=new Map;function s(a,b){if(!(a instanceof IDBDatabase&&!(b in a)&&"string"==typeof b))return;if(r.get(b))return r.get(b);let c=b.replace(/FromIndex$/,""),d=b!==c,e=q.includes(c);if(!(c in(d?IDBIndex:IDBObjectStore).prototype)||!(e||p.includes(c)))return;let f=async function(a,...b){let f=this.transaction(a,e?"readwrite":"readonly"),g=f.store;return d&&(g=g.index(b.shift())),(await Promise.all([g[c](...b),e&&f.done,]))[0]};return r.set(b,f),f}!function(a){l=a(l)}(a=>({...a,get:(b,c,d)=>s(b,c)||a.get(b,c,d),has:(b,c)=>!!s(b,c)||a.has(b,c)}))},48784:function(a,b,c){/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */ function d(a){return"[object Object]"===Object.prototype.toString.call(a)}function e(a){var b,c;return!1!==d(a)&&(void 0===(b=a.constructor)|| !1!==d(c=b.prototype)&& !1!==c.hasOwnProperty("isPrototypeOf"))}c.d(b,{P:function(){return e}})},51349:function(a,b,c){c.d(b,{DS:function(){return S},"_f":function(){return J},kZ:function(){return w}});var d,e=c(59406).Buffer;let f="3.7.2",g="function"==typeof atob,h="function"==typeof btoa,i="function"==typeof e,j="function"==typeof TextDecoder?new TextDecoder:void 0,k="function"==typeof TextEncoder?new TextEncoder:void 0,l=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),m,n=(m={},(d=l).forEach((a,b)=>m[a]=b),m),o=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,p=String.fromCharCode.bind(String),q="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):(a,b=a=>a)=>new Uint8Array(Array.prototype.slice.call(a,0).map(b)),r=a=>a.replace(/=/g,"").replace(/[+\/]/g,a=>"+"==a?"-":"_"),s=a=>a.replace(/[^A-Za-z0-9\+\/]/g,""),t=a=>{let b,c,d,e,f="",g=a.length%3;for(let h=0;h<a.length;){if((c=a.charCodeAt(h++))>255||(d=a.charCodeAt(h++))>255||(e=a.charCodeAt(h++))>255)throw TypeError("invalid character found");f+=l[(b=c<<16|d<<8|e)>>18&63]+l[b>>12&63]+l[b>>6&63]+l[63&b]}return g?f.slice(0,g-3)+"===".substring(g):f},u=h?a=>btoa(a):i?a=>e.from(a,"binary").toString("base64"):t,v=i?a=>e.from(a).toString("base64"):a=>{let b=4096,c=[];for(let d=0,e=a.length;d<e;d+=b)c.push(p.apply(null,a.subarray(d,d+b)));return u(c.join(""))},w=(a,b=!1)=>b?r(v(a)):v(a),x=a=>{if(a.length<2){var b=a.charCodeAt(0);return b<128?a:b<2048?p(192|b>>>6)+p(128|63&b):p(224|b>>>12&15)+p(128|b>>>6&63)+p(128|63&b)}var b=65536+(a.charCodeAt(0)-55296)*1024+(a.charCodeAt(1)-56320);return p(240|b>>>18&7)+p(128|b>>>12&63)+p(128|b>>>6&63)+p(128|63&b)},y=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,z=a=>a.replace(y,x),A=i?a=>e.from(a,"utf8").toString("base64"):k?a=>v(k.encode(a)):a=>u(z(a)),B=(a,b=!1)=>b?r(A(a)):A(a),C=a=>B(a,!0),D=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,E=a=>{switch(a.length){case 4:var b=((7&a.charCodeAt(0))<<18|(63&a.charCodeAt(1))<<12|(63&a.charCodeAt(2))<<6|63&a.charCodeAt(3))-65536;return p((b>>>10)+55296)+p((1023&b)+56320);case 3:return p((15&a.charCodeAt(0))<<12|(63&a.charCodeAt(1))<<6|63&a.charCodeAt(2));default:return p((31&a.charCodeAt(0))<<6|63&a.charCodeAt(1))}},F=a=>a.replace(D,E),G=a=>{if(a=a.replace(/\s+/g,""),!o.test(a))throw TypeError("malformed base64.");a+="==".slice(2-(3&a.length));let b,c="",d,e;for(let f=0;f<a.length;)b=n[a.charAt(f++)]<<18|n[a.charAt(f++)]<<12|(d=n[a.charAt(f++)])<<6|(e=n[a.charAt(f++)]),c+=64===d?p(b>>16&255):64===e?p(b>>16&255,b>>8&255):p(b>>16&255,b>>8&255,255&b);return c},H=g?a=>atob(s(a)):i?a=>e.from(a,"base64").toString("binary"):G,I=i?a=>q(e.from(a,"base64")):a=>q(H(a),a=>a.charCodeAt(0)),J=a=>I(L(a)),K=i?a=>e.from(a,"base64").toString("utf8"):j?a=>j.decode(I(a)):a=>F(H(a)),L=a=>s(a.replace(/[-_]/g,a=>"-"==a?"+":"/")),M=a=>K(L(a)),N=a=>{if("string"!=typeof a)return!1;let b=a.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(b)||!/[^\s0-9a-zA-Z\-_]/.test(b)},O=a=>({value:a,enumerable:!1,writable:!0,configurable:!0}),P=function(){let a=(a,b)=>Object.defineProperty(String.prototype,a,O(b));a("fromBase64",function(){return M(this)}),a("toBase64",function(a){return B(this,a)}),a("toBase64URI",function(){return B(this,!0)}),a("toBase64URL",function(){return B(this,!0)}),a("toUint8Array",function(){return J(this)})},Q=function(){let a=(a,b)=>Object.defineProperty(Uint8Array.prototype,a,O(b));a("toBase64",function(a){return w(this,a)}),a("toBase64URI",function(){return w(this,!0)}),a("toBase64URL",function(){return w(this,!0)})},R=()=>{P(),Q()},S={version:f,VERSION:f,atob:H,atobPolyfill:G,btoa:u,btoaPolyfill:t,fromBase64:M,toBase64:B,encode:B,encodeURI:C,encodeURL:C,utob:z,btou:F,decode:M,isValid:N,fromUint8Array:w,toUint8Array:J,extendString:P,extendUint8Array:Q,extendBuiltins:R}}}])
//# sourceMappingURL=https://js.educative.io/static/_next/sourcemaps/static/chunks/89794-85046c78144155ad.js.map