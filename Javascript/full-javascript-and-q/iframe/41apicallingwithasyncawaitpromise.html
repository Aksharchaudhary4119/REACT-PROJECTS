<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <ol id="disp"></ol>
    <script>
      let myPromise = new Promise(function (resolve) {
        // setTimeout(() => {
        // }, 3000);
        resolve(fetch("https://jsonplaceholder.typicode.com/posts").then((res)=>res.json()));
      });
      //    function getFile() {
      //     console.log("before get data");
      //     myPromise.then(function (data) {
      //         console.log(data);
      //     });
      //     console.log("aftrer get data");
      //   }
      async function getFile() {
        console.log("before get data");
        let ApiData;
        await myPromise.then(function (data) {
          //   console.log(data);
          ApiData = data;
        });

        console.log("aftrer get data",ApiData);
        DispHTML = ""
        ApiData.forEach(element => {
            console.log(element.title);
            DispHTML += `<li>${element.title}</li>`
        });
        document.getElementById("disp").innerHTML= DispHTML
      }

      getFile();
    </script>

     <script>

        // function resolveAfter2Seconds() {
        //     return setTimeout(() => {
        //         console.log("inside setTimeout");
        //         // resolve('resolved');
        //         return "data"
        //     }, 2000)
        // }
        // function asyncCall(){
        //     console.log("called asyncCall before resolved");
        //     console.log(resolveAfter2Seconds());

        //     console.log("called asyncCall after resolved");
        // }
        // asyncCall()


        // function resolveAfter2Seconds() {
        //     resolve = () => {
        //         setTimeout(() => {
        //             resolve('resolved');
        //         }, 2000);
        //     }
        //     return new Promise(resolve);
        // }

        // function resolveAfter2Seconds() {
        //     return new Promise(resolve => {
        //         setTimeout(() => {
        //             resolve('resolved');
        //         }, 2000);
        //     });
        // }

        //  function asyncCall() {
        //     console.log("called asyncCall before resolved");
        //     const result = resolveAfter2Seconds();
        //     console.log(result);
        //     console.log("called asyncCall after resolved");
        // }
        // asyncCall()



        // function resolveAfter2Seconds() {
        //     return new Promise(resolve => {
        //         setTimeout(() => {
        //             resolve('resolved');
        //         }, 2000);
        //     });
        // }

        // async function asyncCall() {
        //     console.log("called asyncCall before resolved");
        //     const result =await resolveAfter2Seconds();
        //     console.log(result);
        //     console.log("called asyncCall after resolved");
        // }
        // asyncCall()




        // function resolveAfter2Seconds() {
        //     // fetch("https://jayramin.000webhostapp.com/allusers").then((res)=>res.json()).then((response)=>{
        //     //     console.log(response);
        //     //     return response
        //     // })
        //     return new Promise(resolve => {
        //         setTimeout(() => {
        //             fetch("https://fakestoreapi.com/products").then((res) => res.json()).then((response) => {
        //                 // console.log(response);
        //                 resolve(response) 
        //                 return response
        //             })
        //         }, 2000);
        //     });
        // }
        function resolveAfter2Seconds() {
            return new Promise(resolve => {
                fetch("https://fakestoreapi.com/products").then((res) => res.json()).then((response) => {
                    resolve(response);
                })
            });
        }
        async function asyncCall() {
            console.log("called asyncCall before resolved");
            const result = await resolveAfter2Seconds();
            // const result1 = await resolveAfter2Seconds1();
            // const result2 = await resolveAfter2Seconds2();
            console.log("result", result);
            console.log("called asyncCall after resolved");
        }
        asyncCall()
    </script>
  </body>
</html>


